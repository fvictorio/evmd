var yy=Object.defineProperty;var xy=(a,n,s)=>n in a?yy(a,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[n]=s;var ie=(a,n,s)=>xy(a,typeof n!="symbol"?n+"":n,s);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))c(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function c(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function Ip(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var pf={exports:{}},wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function Ey(){if(N1)return wc;N1=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(c,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:a,type:c,key:d,ref:l!==void 0?l:null,props:u}}return wc.Fragment=n,wc.jsx=s,wc.jsxs=s,wc}var B1;function _y(){return B1||(B1=1,pf.exports=Ey()),pf.exports}var S=_y(),gf={exports:{}},Nc={},bf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function vy(){return U1||(U1=1,(function(a){function n(w,H){var J=w.length;w.push(H);e:for(;0<J;){var se=J-1>>>1,le=w[se];if(0<l(le,H))w[se]=H,w[J]=le,J=se;else break e}}function s(w){return w.length===0?null:w[0]}function c(w){if(w.length===0)return null;var H=w[0],J=w.pop();if(J!==H){w[0]=J;e:for(var se=0,le=w.length,A=le>>>1;se<A;){var O=2*(se+1)-1,P=w[O],ae=O+1,te=w[ae];if(0>l(P,J))ae<le&&0>l(te,P)?(w[se]=te,w[ae]=J,se=ae):(w[se]=P,w[O]=J,se=O);else if(ae<le&&0>l(te,J))w[se]=te,w[ae]=J,se=ae;else break e}}return H}function l(w,H){var J=w.sortIndex-H.sortIndex;return J!==0?J:w.id-H.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();a.unstable_now=function(){return d.now()-m}}var p=[],h=[],y=1,b=null,E=3,_=!1,v=!1,C=!1,B=!1,M=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ue(w){for(var H=s(h);H!==null;){if(H.callback===null)c(h);else if(H.startTime<=w)c(h),H.sortIndex=H.expirationTime,n(p,H);else break;H=s(h)}}function pe(w){if(C=!1,ue(w),!v)if(s(p)!==null)v=!0,Q||(Q=!0,fe());else{var H=s(h);H!==null&&z(pe,H.startTime-w)}}var Q=!1,ee=-1,ce=5,de=-1;function ye(){return B?!0:!(a.unstable_now()-de<ce)}function Ee(){if(B=!1,Q){var w=a.unstable_now();de=w;var H=!0;try{e:{v=!1,C&&(C=!1,W(ee),ee=-1),_=!0;var J=E;try{t:{for(ue(w),b=s(p);b!==null&&!(b.expirationTime>w&&ye());){var se=b.callback;if(typeof se=="function"){b.callback=null,E=b.priorityLevel;var le=se(b.expirationTime<=w);if(w=a.unstable_now(),typeof le=="function"){b.callback=le,ue(w),H=!0;break t}b===s(p)&&c(p),ue(w)}else c(p);b=s(p)}if(b!==null)H=!0;else{var A=s(h);A!==null&&z(pe,A.startTime-w),H=!1}}break e}finally{b=null,E=J,_=!1}H=void 0}}finally{H?fe():Q=!1}}}var fe;if(typeof K=="function")fe=function(){K(Ee)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,k=oe.port2;oe.port1.onmessage=Ee,fe=function(){k.postMessage(null)}}else fe=function(){M(Ee,0)};function z(w,H){ee=M(function(){w(a.unstable_now())},H)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(w){w.callback=null},a.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<w?Math.floor(1e3/w):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(w){switch(E){case 1:case 2:case 3:var H=3;break;default:H=E}var J=E;E=H;try{return w()}finally{E=J}},a.unstable_requestPaint=function(){B=!0},a.unstable_runWithPriority=function(w,H){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var J=E;E=w;try{return H()}finally{E=J}},a.unstable_scheduleCallback=function(w,H,J){var se=a.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?se+J:se):J=se,w){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=J+le,w={id:y++,callback:H,priorityLevel:w,startTime:J,expirationTime:le,sortIndex:-1},J>se?(w.sortIndex=J,n(h,w),s(p)===null&&w===s(h)&&(C?(W(ee),ee=-1):C=!0,z(pe,J-se))):(w.sortIndex=le,n(p,w),v||_||(v=!0,Q||(Q=!0,fe()))),w},a.unstable_shouldYield=ye,a.unstable_wrapCallback=function(w){var H=E;return function(){var J=E;E=H;try{return w.apply(this,arguments)}finally{E=J}}}})(yf)),yf}var R1;function Ay(){return R1||(R1=1,bf.exports=vy()),bf.exports}var xf={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1;function Sy(){if(D1)return Oe;D1=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function _(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,B={};function M(A,O,P){this.props=A,this.context=O,this.refs=B,this.updater=P||v}M.prototype.isReactComponent={},M.prototype.setState=function(A,O){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,O,"setState")},M.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function W(){}W.prototype=M.prototype;function K(A,O,P){this.props=A,this.context=O,this.refs=B,this.updater=P||v}var ue=K.prototype=new W;ue.constructor=K,C(ue,M.prototype),ue.isPureReactComponent=!0;var pe=Array.isArray;function Q(){}var ee={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function de(A,O,P){var ae=P.ref;return{$$typeof:a,type:A,key:O,ref:ae!==void 0?ae:null,props:P}}function ye(A,O){return de(A.type,O,A.props)}function Ee(A){return typeof A=="object"&&A!==null&&A.$$typeof===a}function fe(A){var O={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(P){return O[P]})}var oe=/\/+/g;function k(A,O){return typeof A=="object"&&A!==null&&A.key!=null?fe(""+A.key):O.toString(36)}function z(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Q,Q):(A.status="pending",A.then(function(O){A.status==="pending"&&(A.status="fulfilled",A.value=O)},function(O){A.status==="pending"&&(A.status="rejected",A.reason=O)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function w(A,O,P,ae,te){var ne=typeof A;(ne==="undefined"||ne==="boolean")&&(A=null);var Te=!1;if(A===null)Te=!0;else switch(ne){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(A.$$typeof){case a:case n:Te=!0;break;case y:return Te=A._init,w(Te(A._payload),O,P,ae,te)}}if(Te)return te=te(A),Te=ae===""?"."+k(A,0):ae,pe(te)?(P="",Te!=null&&(P=Te.replace(oe,"$&/")+"/"),w(te,O,P,"",function(at){return at})):te!=null&&(Ee(te)&&(te=ye(te,P+(te.key==null||A&&A.key===te.key?"":(""+te.key).replace(oe,"$&/")+"/")+Te)),O.push(te)),1;Te=0;var qe=ae===""?".":ae+":";if(pe(A))for(var Ie=0;Ie<A.length;Ie++)ae=A[Ie],ne=qe+k(ae,Ie),Te+=w(ae,O,P,ne,te);else if(Ie=_(A),typeof Ie=="function")for(A=Ie.call(A),Ie=0;!(ae=A.next()).done;)ae=ae.value,ne=qe+k(ae,Ie++),Te+=w(ae,O,P,ne,te);else if(ne==="object"){if(typeof A.then=="function")return w(z(A),O,P,ae,te);throw O=String(A),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return Te}function H(A,O,P){if(A==null)return A;var ae=[],te=0;return w(A,ae,"","",function(ne){return O.call(P,ne,te++)}),ae}function J(A){if(A._status===-1){var O=A._result;O=O(),O.then(function(P){(A._status===0||A._status===-1)&&(A._status=1,A._result=P)},function(P){(A._status===0||A._status===-1)&&(A._status=2,A._result=P)}),A._status===-1&&(A._status=0,A._result=O)}if(A._status===1)return A._result.default;throw A._result}var se=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},le={map:H,forEach:function(A,O,P){H(A,function(){O.apply(this,arguments)},P)},count:function(A){var O=0;return H(A,function(){O++}),O},toArray:function(A){return H(A,function(O){return O})||[]},only:function(A){if(!Ee(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Oe.Activity=b,Oe.Children=le,Oe.Component=M,Oe.Fragment=s,Oe.Profiler=l,Oe.PureComponent=K,Oe.StrictMode=c,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(A){return ee.H.useMemoCache(A)}},Oe.cache=function(A){return function(){return A.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(A,O,P){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ae=C({},A.props),te=A.key;if(O!=null)for(ne in O.key!==void 0&&(te=""+O.key),O)!ce.call(O,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&O.ref===void 0||(ae[ne]=O[ne]);var ne=arguments.length-2;if(ne===1)ae.children=P;else if(1<ne){for(var Te=Array(ne),qe=0;qe<ne;qe++)Te[qe]=arguments[qe+2];ae.children=Te}return de(A.type,te,ae)},Oe.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},Oe.createElement=function(A,O,P){var ae,te={},ne=null;if(O!=null)for(ae in O.key!==void 0&&(ne=""+O.key),O)ce.call(O,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(te[ae]=O[ae]);var Te=arguments.length-2;if(Te===1)te.children=P;else if(1<Te){for(var qe=Array(Te),Ie=0;Ie<Te;Ie++)qe[Ie]=arguments[Ie+2];te.children=qe}if(A&&A.defaultProps)for(ae in Te=A.defaultProps,Te)te[ae]===void 0&&(te[ae]=Te[ae]);return de(A,ne,te)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(A){return{$$typeof:m,render:A}},Oe.isValidElement=Ee,Oe.lazy=function(A){return{$$typeof:y,_payload:{_status:-1,_result:A},_init:J}},Oe.memo=function(A,O){return{$$typeof:h,type:A,compare:O===void 0?null:O}},Oe.startTransition=function(A){var O=ee.T,P={};ee.T=P;try{var ae=A(),te=ee.S;te!==null&&te(P,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Q,se)}catch(ne){se(ne)}finally{O!==null&&P.types!==null&&(O.types=P.types),ee.T=O}},Oe.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Oe.use=function(A){return ee.H.use(A)},Oe.useActionState=function(A,O,P){return ee.H.useActionState(A,O,P)},Oe.useCallback=function(A,O){return ee.H.useCallback(A,O)},Oe.useContext=function(A){return ee.H.useContext(A)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(A,O){return ee.H.useDeferredValue(A,O)},Oe.useEffect=function(A,O){return ee.H.useEffect(A,O)},Oe.useEffectEvent=function(A){return ee.H.useEffectEvent(A)},Oe.useId=function(){return ee.H.useId()},Oe.useImperativeHandle=function(A,O,P){return ee.H.useImperativeHandle(A,O,P)},Oe.useInsertionEffect=function(A,O){return ee.H.useInsertionEffect(A,O)},Oe.useLayoutEffect=function(A,O){return ee.H.useLayoutEffect(A,O)},Oe.useMemo=function(A,O){return ee.H.useMemo(A,O)},Oe.useOptimistic=function(A,O){return ee.H.useOptimistic(A,O)},Oe.useReducer=function(A,O,P){return ee.H.useReducer(A,O,P)},Oe.useRef=function(A){return ee.H.useRef(A)},Oe.useState=function(A){return ee.H.useState(A)},Oe.useSyncExternalStore=function(A,O,P){return ee.H.useSyncExternalStore(A,O,P)},Oe.useTransition=function(){return ee.H.useTransition()},Oe.version="19.2.4",Oe}var L1;function cd(){return L1||(L1=1,xf.exports=Sy()),xf.exports}var Ef={exports:{}},It={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function Ty(){if(G1)return It;G1=1;var a=cd();function n(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var c={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,h,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:h,implementation:y}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,It.createPortal=function(p,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return u(p,h,null,y)},It.flushSync=function(p){var h=d.T,y=c.p;try{if(d.T=null,c.p=2,p)return p()}finally{d.T=h,c.p=y,c.d.f()}},It.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,c.d.C(p,h))},It.prefetchDNS=function(p){typeof p=="string"&&c.d.D(p)},It.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var y=h.as,b=m(y,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?c.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:_}):y==="script"&&c.d.X(p,{crossOrigin:b,integrity:E,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},It.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=m(h.as,h.crossOrigin);c.d.M(p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&c.d.M(p)},It.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,b=m(y,h.crossOrigin);c.d.L(p,y,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},It.preloadModule=function(p,h){if(typeof p=="string")if(h){var y=m(h.as,h.crossOrigin);c.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else c.d.m(p)},It.requestFormReset=function(p){c.d.r(p)},It.unstable_batchedUpdates=function(p,h){return p(h)},It.useFormState=function(p,h,y){return d.H.useFormState(p,h,y)},It.useFormStatus=function(){return d.H.useHostTransitionStatus()},It.version="19.2.4",It}var I1;function Oy(){if(I1)return Ef.exports;I1=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Ef.exports=Ty(),Ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1;function Cy(){if(M1)return Nc;M1=1;var a=Ay(),n=cd(),s=Oy();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(c(188))}function h(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(c(188));return t!==e?null:e}for(var i=e,r=t;;){var o=i.return;if(o===null)break;var f=o.alternate;if(f===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===f.child){for(f=o.child;f;){if(f===i)return p(o),e;if(f===r)return p(o),t;f=f.sibling}throw Error(c(188))}if(i.return!==r.return)i=o,r=f;else{for(var g=!1,x=o.child;x;){if(x===i){g=!0,i=o,r=f;break}if(x===r){g=!0,r=o,i=f;break}x=x.sibling}if(!g){for(x=f.child;x;){if(x===i){g=!0,i=f,r=o;break}if(x===r){g=!0,r=f,i=o;break}x=x.sibling}if(!g)throw Error(c(189))}}if(i.alternate!==r)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function fe(e){return e===null||typeof e!="object"?null:(e=Ee&&e[Ee]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Symbol.for("react.client.reference");function k(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case M:return"Profiler";case B:return"StrictMode";case pe:return"Suspense";case Q:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case v:return"Portal";case K:return e.displayName||"Context";case W:return(e._context.displayName||"Context")+".Consumer";case ue:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:k(e.type)||"Memo";case ce:t=e._payload,e=e._init;try{return k(e(t))}catch{}}return null}var z=Array.isArray,w=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},se=[],le=-1;function A(e){return{current:e}}function O(e){0>le||(e.current=se[le],se[le]=null,le--)}function P(e,t){le++,se[le]=e.current,e.current=t}var ae=A(null),te=A(null),ne=A(null),Te=A(null);function qe(e,t){switch(P(ne,t),P(te,e),P(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Jm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Jm(t),e=Wm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(ae),P(ae,e)}function Ie(){O(ae),O(te),O(ne)}function at(e){e.memoizedState!==null&&P(Te,e);var t=ae.current,i=Wm(t,e.type);t!==i&&(P(te,e),P(ae,i))}function pt(e){te.current===e&&(O(ae),O(te)),Te.current===e&&(O(Te),Sc._currentValue=J)}var Hi,Gs;function ri(e){if(Hi===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Hi=t&&t[1]||"",Gs=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hi+e+Gs}var Ql=!1;function $l(e,t){if(!e||Ql)return"";Ql=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(j){var I=j}Reflect.construct(e,[],X)}else{try{X.call()}catch(j){I=j}e.call(X.prototype)}}else{try{throw Error()}catch(j){I=j}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(j){if(j&&I&&typeof j.stack=="string")return[j.stack,I.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),g=f[0],x=f[1];if(g&&x){var T=g.split(`
`),G=x.split(`
`);for(o=r=0;r<T.length&&!T[r].includes("DetermineComponentFrameRoot");)r++;for(;o<G.length&&!G[o].includes("DetermineComponentFrameRoot");)o++;if(r===T.length||o===G.length)for(r=T.length-1,o=G.length-1;1<=r&&0<=o&&T[r]!==G[o];)o--;for(;1<=r&&0<=o;r--,o--)if(T[r]!==G[o]){if(r!==1||o!==1)do if(r--,o--,0>o||T[r]!==G[o]){var V=`
`+T[r].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=r&&0<=o);break}}}finally{Ql=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?ri(i):""}function Kg(e,t){switch(e.tag){case 26:case 27:case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return e.child!==t&&t!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return $l(e.type,!1);case 11:return $l(e.type.render,!1);case 1:return $l(e.type,!0);case 31:return ri("Activity");default:return""}}function Nd(e){try{var t="",i=null;do t+=Kg(e,i),i=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Jl=Object.prototype.hasOwnProperty,Wl=a.unstable_scheduleCallback,eu=a.unstable_cancelCallback,Qg=a.unstable_shouldYield,$g=a.unstable_requestPaint,sn=a.unstable_now,Jg=a.unstable_getCurrentPriorityLevel,Bd=a.unstable_ImmediatePriority,Ud=a.unstable_UserBlockingPriority,Pc=a.unstable_NormalPriority,Wg=a.unstable_LowPriority,Rd=a.unstable_IdlePriority,e2=a.log,t2=a.unstable_setDisableYieldValue,Is=null,cn=null;function va(e){if(typeof e2=="function"&&t2(e),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(Is,e)}catch{}}var rn=Math.clz32?Math.clz32:i2,n2=Math.log,a2=Math.LN2;function i2(e){return e>>>=0,e===0?32:31-(n2(e)/a2|0)|0}var qc=256,Yc=262144,Zc=4194304;function li(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fc(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var o=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var x=r&134217727;return x!==0?(r=x&~f,r!==0?o=li(r):(g&=x,g!==0?o=li(g):i||(i=x&~e,i!==0&&(o=li(i))))):(x=r&~f,x!==0?o=li(x):g!==0?o=li(g):i||(i=r&~e,i!==0&&(o=li(i)))),o===0?0:t!==0&&t!==o&&(t&f)===0&&(f=o&-o,i=t&-t,f>=i||f===32&&(i&4194048)!==0)?t:o}function Ms(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function s2(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dd(){var e=Zc;return Zc<<=1,(Zc&62914560)===0&&(Zc=4194304),e}function tu(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Hs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function c2(e,t,i,r,o,f){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var x=e.entanglements,T=e.expirationTimes,G=e.hiddenUpdates;for(i=g&~i;0<i;){var V=31-rn(i),X=1<<V;x[V]=0,T[V]=-1;var I=G[V];if(I!==null)for(G[V]=null,V=0;V<I.length;V++){var j=I[V];j!==null&&(j.lane&=-536870913)}i&=~X}r!==0&&Ld(e,r,0),f!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~t))}function Ld(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-rn(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&261930}function Gd(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-rn(i),o=1<<r;o&t|e[r]&t&&(e[r]|=t),i&=~o}}function Id(e,t){var i=t&-t;return i=(i&42)!==0?1:nu(i),(i&(e.suspendedLanes|t))!==0?0:i}function nu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function au(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Md(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:v1(e.type))}function Hd(e,t){var i=H.p;try{return H.p=e,t()}finally{H.p=i}}var Aa=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Aa,Zt="__reactProps$"+Aa,ki="__reactContainer$"+Aa,iu="__reactEvents$"+Aa,r2="__reactListeners$"+Aa,l2="__reactHandles$"+Aa,kd="__reactResources$"+Aa,ks="__reactMarker$"+Aa;function su(e){delete e[Nt],delete e[Zt],delete e[iu],delete e[r2],delete e[l2]}function zi(e){var t=e[Nt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ki]||i[Nt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=c1(e);e!==null;){if(i=e[Nt])return i;e=c1(e)}return t}e=i,i=e.parentNode}return null}function ji(e){if(e=e[Nt]||e[ki]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function zs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function Vi(e){var t=e[kd];return t||(t=e[kd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ot(e){e[ks]=!0}var zd=new Set,jd={};function ui(e,t){Pi(e,t),Pi(e+"Capture",t)}function Pi(e,t){for(jd[e]=t,e=0;e<t.length;e++)zd.add(t[e])}var u2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vd={},Pd={};function o2(e){return Jl.call(Pd,e)?!0:Jl.call(Vd,e)?!1:u2.test(e)?Pd[e]=!0:(Vd[e]=!0,!1)}function Xc(e,t,i){if(o2(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Kc(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Xn(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function f2(e,t,i){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(g){i=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cu(e){if(!e._valueTracker){var t=qd(e)?"checked":"value";e._valueTracker=f2(e,t,""+e[t])}}function Yd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=qd(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function Qc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var d2=/[\n"\\]/g;function gn(e){return e.replace(d2,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ru(e,t,i,r,o,f,g,x){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+pn(t)):e.value!==""+pn(t)&&(e.value=""+pn(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?lu(e,g,pn(t)):i!=null?lu(e,g,pn(i)):r!=null&&e.removeAttribute("value"),o==null&&f!=null&&(e.defaultChecked=!!f),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+pn(x):e.removeAttribute("name")}function Zd(e,t,i,r,o,f,g,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){cu(e);return}i=i!=null?""+pn(i):"",t=t!=null?""+pn(t):i,x||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=x?e.checked:!!r,e.defaultChecked=!!r,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),cu(e)}function lu(e,t,i){t==="number"&&Qc(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function qi(e,t,i,r){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&r&&(e[i].defaultSelected=!0)}else{for(i=""+pn(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Fd(e,t,i){if(t!=null&&(t=""+pn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+pn(i):""}function Xd(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(c(92));if(z(r)){if(1<r.length)throw Error(c(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=pn(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r),cu(e)}function Yi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var h2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kd(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||h2.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Qd(e,t,i){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&i[o]!==r&&Kd(e,o,r)}else for(var f in t)t.hasOwnProperty(f)&&Kd(e,f,t[f])}function uu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),p2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $c(e){return p2.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var ou=null;function fu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zi=null,Fi=null;function $d(e){var t=ji(e);if(t&&(e=t.stateNode)){var i=e[Zt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ru(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+gn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var o=r[Zt]||null;if(!o)throw Error(c(90));ru(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&Yd(r)}break e;case"textarea":Fd(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&qi(e,!!i.multiple,t,!1)}}}var du=!1;function Jd(e,t,i){if(du)return e(t,i);du=!0;try{var r=e(t);return r}finally{if(du=!1,(Zi!==null||Fi!==null)&&(Hr(),Zi&&(t=Zi,e=Fi,Fi=Zi=null,$d(t),e)))for(t=0;t<e.length;t++)$d(e[t])}}function js(e,t){var i=e.stateNode;if(i===null)return null;var r=i[Zt]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(c(231,t,typeof i));return i}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hu=!1;if(Qn)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){hu=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{hu=!1}var Sa=null,mu=null,Jc=null;function Wd(){if(Jc)return Jc;var e,t=mu,i=t.length,r,o="value"in Sa?Sa.value:Sa.textContent,f=o.length;for(e=0;e<i&&t[e]===o[e];e++);var g=i-e;for(r=1;r<=g&&t[i-r]===o[f-r];r++);return Jc=o.slice(e,1<r?1-r:void 0)}function Wc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function er(){return!0}function e0(){return!1}function Ft(e){function t(i,r,o,f,g){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?er:e0,this.isPropagationStopped=e0,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),t}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tr=Ft(oi),Ps=b({},oi,{view:0,detail:0}),g2=Ft(Ps),pu,gu,qs,nr=b({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qs&&(qs&&e.type==="mousemove"?(pu=e.screenX-qs.screenX,gu=e.screenY-qs.screenY):gu=pu=0,qs=e),pu)},movementY:function(e){return"movementY"in e?e.movementY:gu}}),t0=Ft(nr),b2=b({},nr,{dataTransfer:0}),y2=Ft(b2),x2=b({},Ps,{relatedTarget:0}),bu=Ft(x2),E2=b({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),_2=Ft(E2),v2=b({},oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),A2=Ft(v2),S2=b({},oi,{data:0}),n0=Ft(S2),T2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=C2[e])?!!t[e]:!1}function yu(){return w2}var N2=b({},Ps,{key:function(e){if(e.key){var t=T2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?O2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(e){return e.type==="keypress"?Wc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),B2=Ft(N2),U2=b({},nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a0=Ft(U2),R2=b({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),D2=Ft(R2),L2=b({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),G2=Ft(L2),I2=b({},nr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M2=Ft(I2),H2=b({},oi,{newState:0,oldState:0}),k2=Ft(H2),z2=[9,13,27,32],xu=Qn&&"CompositionEvent"in window,Ys=null;Qn&&"documentMode"in document&&(Ys=document.documentMode);var j2=Qn&&"TextEvent"in window&&!Ys,i0=Qn&&(!xu||Ys&&8<Ys&&11>=Ys),s0=" ",c0=!1;function r0(e,t){switch(e){case"keyup":return z2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xi=!1;function V2(e,t){switch(e){case"compositionend":return l0(t);case"keypress":return t.which!==32?null:(c0=!0,s0);case"textInput":return e=t.data,e===s0&&c0?null:e;default:return null}}function P2(e,t){if(Xi)return e==="compositionend"||!xu&&r0(e,t)?(e=Wd(),Jc=mu=Sa=null,Xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i0&&t.locale!=="ko"?null:t.data;default:return null}}var q2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!q2[e.type]:t==="textarea"}function o0(e,t,i,r){Zi?Fi?Fi.push(r):Fi=[r]:Zi=r,t=Yr(t,"onChange"),0<t.length&&(i=new tr("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var Zs=null,Fs=null;function Y2(e){Zm(e,0)}function ar(e){var t=zs(e);if(Yd(t))return e}function f0(e,t){if(e==="change")return t}var d0=!1;if(Qn){var Eu;if(Qn){var _u="oninput"in document;if(!_u){var h0=document.createElement("div");h0.setAttribute("oninput","return;"),_u=typeof h0.oninput=="function"}Eu=_u}else Eu=!1;d0=Eu&&(!document.documentMode||9<document.documentMode)}function m0(){Zs&&(Zs.detachEvent("onpropertychange",p0),Fs=Zs=null)}function p0(e){if(e.propertyName==="value"&&ar(Fs)){var t=[];o0(t,Fs,e,fu(e)),Jd(Y2,t)}}function Z2(e,t,i){e==="focusin"?(m0(),Zs=t,Fs=i,Zs.attachEvent("onpropertychange",p0)):e==="focusout"&&m0()}function F2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ar(Fs)}function X2(e,t){if(e==="click")return ar(t)}function K2(e,t){if(e==="input"||e==="change")return ar(t)}function Q2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:Q2;function Xs(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!Jl.call(t,o)||!ln(e[o],t[o]))return!1}return!0}function g0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function b0(e,t){var i=g0(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=g0(i)}}function y0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?y0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function x0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Qc(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Qc(e.document)}return t}function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var $2=Qn&&"documentMode"in document&&11>=document.documentMode,Ki=null,Au=null,Ks=null,Su=!1;function E0(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Su||Ki==null||Ki!==Qc(r)||(r=Ki,"selectionStart"in r&&vu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ks&&Xs(Ks,r)||(Ks=r,r=Yr(Au,"onSelect"),0<r.length&&(t=new tr("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=Ki)))}function fi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Qi={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionrun:fi("Transition","TransitionRun"),transitionstart:fi("Transition","TransitionStart"),transitioncancel:fi("Transition","TransitionCancel"),transitionend:fi("Transition","TransitionEnd")},Tu={},_0={};Qn&&(_0=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function di(e){if(Tu[e])return Tu[e];if(!Qi[e])return e;var t=Qi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in _0)return Tu[e]=t[i];return e}var v0=di("animationend"),A0=di("animationiteration"),S0=di("animationstart"),J2=di("transitionrun"),W2=di("transitionstart"),eb=di("transitioncancel"),T0=di("transitionend"),O0=new Map,Ou="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ou.push("scrollEnd");function Nn(e,t){O0.set(e,t),ui(t,[e])}var ir=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bn=[],$i=0,Cu=0;function sr(){for(var e=$i,t=Cu=$i=0;t<e;){var i=bn[t];bn[t++]=null;var r=bn[t];bn[t++]=null;var o=bn[t];bn[t++]=null;var f=bn[t];if(bn[t++]=null,r!==null&&o!==null){var g=r.pending;g===null?o.next=o:(o.next=g.next,g.next=o),r.pending=o}f!==0&&C0(i,o,f)}}function cr(e,t,i,r){bn[$i++]=e,bn[$i++]=t,bn[$i++]=i,bn[$i++]=r,Cu|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function wu(e,t,i,r){return cr(e,t,i,r),rr(e)}function hi(e,t){return cr(e,null,null,t),rr(e)}function C0(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var o=!1,f=e.return;f!==null;)f.childLanes|=i,r=f.alternate,r!==null&&(r.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(o=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,o&&t!==null&&(o=31-rn(i),e=f.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=i|536870912),f):null}function rr(e){if(50<bc)throw bc=0,Ho=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ji={};function tb(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,i,r){return new tb(e,t,i,r)}function Nu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $n(e,t){var i=e.alternate;return i===null?(i=un(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function w0(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function lr(e,t,i,r,o,f){var g=0;if(r=e,typeof e=="function")Nu(e)&&(g=1);else if(typeof e=="string")g=cy(e,i,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=un(31,i,t,o),e.elementType=de,e.lanes=f,e;case C:return mi(i.children,o,f,t);case B:g=8,o|=24;break;case M:return e=un(12,i,t,o|2),e.elementType=M,e.lanes=f,e;case pe:return e=un(13,i,t,o),e.elementType=pe,e.lanes=f,e;case Q:return e=un(19,i,t,o),e.elementType=Q,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:g=10;break e;case W:g=9;break e;case ue:g=11;break e;case ee:g=14;break e;case ce:g=16,r=null;break e}g=29,i=Error(c(130,e===null?"null":typeof e,"")),r=null}return t=un(g,i,t,o),t.elementType=e,t.type=r,t.lanes=f,t}function mi(e,t,i,r){return e=un(7,e,r,t),e.lanes=i,e}function Bu(e,t,i){return e=un(6,e,null,t),e.lanes=i,e}function N0(e){var t=un(18,null,null,0);return t.stateNode=e,t}function Uu(e,t,i){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var B0=new WeakMap;function yn(e,t){if(typeof e=="object"&&e!==null){var i=B0.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Nd(t)},B0.set(e,t),t)}return{value:e,source:t,stack:Nd(t)}}var Wi=[],es=0,ur=null,Qs=0,xn=[],En=0,Ta=null,In=1,Mn="";function Jn(e,t){Wi[es++]=Qs,Wi[es++]=ur,ur=e,Qs=t}function U0(e,t,i){xn[En++]=In,xn[En++]=Mn,xn[En++]=Ta,Ta=e;var r=In;e=Mn;var o=32-rn(r)-1;r&=~(1<<o),i+=1;var f=32-rn(t)+o;if(30<f){var g=o-o%5;f=(r&(1<<g)-1).toString(32),r>>=g,o-=g,In=1<<32-rn(t)+o|i<<o|r,Mn=f+e}else In=1<<f|i<<o|r,Mn=e}function Ru(e){e.return!==null&&(Jn(e,1),U0(e,1,0))}function Du(e){for(;e===ur;)ur=Wi[--es],Wi[es]=null,Qs=Wi[--es],Wi[es]=null;for(;e===Ta;)Ta=xn[--En],xn[En]=null,Mn=xn[--En],xn[En]=null,In=xn[--En],xn[En]=null}function R0(e,t){xn[En++]=In,xn[En++]=Mn,xn[En++]=Ta,In=t.id,Mn=t.overflow,Ta=e}var Bt=null,ct=null,Me=!1,Oa=null,_n=!1,Lu=Error(c(519));function Ca(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $s(yn(t,e)),Lu}function D0(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[Nt]=e,t[Zt]=r,i){case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":case"embed":De("load",t);break;case"video":case"audio":for(i=0;i<xc.length;i++)De(xc[i],t);break;case"source":De("error",t);break;case"img":case"image":case"link":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"input":De("invalid",t),Zd(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":De("invalid",t);break;case"textarea":De("invalid",t),Xd(t,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||Qm(t.textContent,i)?(r.popover!=null&&(De("beforetoggle",t),De("toggle",t)),r.onScroll!=null&&De("scroll",t),r.onScrollEnd!=null&&De("scrollend",t),r.onClick!=null&&(t.onclick=Kn),t=!0):t=!1,t||Ca(e,!0)}function L0(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:_n=!1;return;case 27:case 3:_n=!0;return;default:Bt=Bt.return}}function ts(e){if(e!==Bt)return!1;if(!Me)return L0(e),Me=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Wo(e.type,e.memoizedProps)),i=!i),i&&ct&&Ca(e),L0(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));ct=s1(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));ct=s1(e)}else t===27?(t=ct,ja(e.type)?(e=sf,sf=null,ct=e):ct=t):ct=Bt?An(e.stateNode.nextSibling):null;return!0}function pi(){ct=Bt=null,Me=!1}function Gu(){var e=Oa;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),Oa=null),e}function $s(e){Oa===null?Oa=[e]:Oa.push(e)}var Iu=A(null),gi=null,Wn=null;function wa(e,t,i){P(Iu,t._currentValue),t._currentValue=i}function ea(e){e._currentValue=Iu.current,O(Iu)}function Mu(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function Hu(e,t,i,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var f=o.dependencies;if(f!==null){var g=o.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=o;for(var T=0;T<t.length;T++)if(x.context===t[T]){f.lanes|=i,x=f.alternate,x!==null&&(x.lanes|=i),Mu(f.return,i,e),r||(g=null);break e}f=x.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(c(341));g.lanes|=i,f=g.alternate,f!==null&&(f.lanes|=i),Mu(g,i,e),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===e){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function ns(e,t,i,r){e=null;for(var o=t,f=!1;o!==null;){if(!f){if((o.flags&524288)!==0)f=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(c(387));if(g=g.memoizedProps,g!==null){var x=o.type;ln(o.pendingProps.value,g.value)||(e!==null?e.push(x):e=[x])}}else if(o===Te.current){if(g=o.alternate,g===null)throw Error(c(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Sc):e=[Sc])}o=o.return}e!==null&&Hu(t,e,i,r),t.flags|=262144}function or(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bi(e){gi=e,Wn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ut(e){return G0(gi,e)}function fr(e,t){return gi===null&&bi(e),G0(e,t)}function G0(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Wn===null){if(e===null)throw Error(c(308));Wn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wn=Wn.next=t;return i}var nb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},ab=a.unstable_scheduleCallback,ib=a.unstable_NormalPriority,gt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ku(){return{controller:new nb,data:new Map,refCount:0}}function Js(e){e.refCount--,e.refCount===0&&ab(ib,function(){e.controller.abort()})}var Ws=null,zu=0,as=0,is=null;function sb(e,t){if(Ws===null){var i=Ws=[];zu=0,as=qo(),is={status:"pending",value:void 0,then:function(r){i.push(r)}}}return zu++,t.then(I0,I0),t}function I0(){if(--zu===0&&Ws!==null){is!==null&&(is.status="fulfilled");var e=Ws;Ws=null,as=0,is=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function cb(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),r}var M0=w.S;w.S=function(e,t){Em=sn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&sb(e,t),M0!==null&&M0(e,t)};var yi=A(null);function ju(){var e=yi.current;return e!==null?e:it.pooledCache}function dr(e,t){t===null?P(yi,yi.current):P(yi,t.pool)}function H0(){var e=ju();return e===null?null:{parent:gt._currentValue,pool:e}}var ss=Error(c(460)),Vu=Error(c(474)),hr=Error(c(542)),mr={then:function(){}};function k0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function z0(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Kn,Kn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,V0(e),e;default:if(typeof t.status=="string")t.then(Kn,Kn);else{if(e=it,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,V0(e),e}throw Ei=t,ss}}function xi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ei=i,ss):i}}var Ei=null;function j0(){if(Ei===null)throw Error(c(459));var e=Ei;return Ei=null,e}function V0(e){if(e===ss||e===hr)throw Error(c(483))}var cs=null,ec=0;function pr(e){var t=ec;return ec+=1,cs===null&&(cs=[]),z0(cs,e,t)}function tc(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function gr(e,t){throw t.$$typeof===E?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function P0(e){function t(U,N){if(e){var L=U.deletions;L===null?(U.deletions=[N],U.flags|=16):L.push(N)}}function i(U,N){if(!e)return null;for(;N!==null;)t(U,N),N=N.sibling;return null}function r(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function o(U,N){return U=$n(U,N),U.index=0,U.sibling=null,U}function f(U,N,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<N?(U.flags|=67108866,N):L):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function x(U,N,L,F){return N===null||N.tag!==6?(N=Bu(L,U.mode,F),N.return=U,N):(N=o(N,L),N.return=U,N)}function T(U,N,L,F){var _e=L.type;return _e===C?V(U,N,L.props.children,F,L.key):N!==null&&(N.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ce&&xi(_e)===N.type)?(N=o(N,L.props),tc(N,L),N.return=U,N):(N=lr(L.type,L.key,L.props,null,U.mode,F),tc(N,L),N.return=U,N)}function G(U,N,L,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Uu(L,U.mode,F),N.return=U,N):(N=o(N,L.children||[]),N.return=U,N)}function V(U,N,L,F,_e){return N===null||N.tag!==7?(N=mi(L,U.mode,F,_e),N.return=U,N):(N=o(N,L),N.return=U,N)}function X(U,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Bu(""+N,U.mode,L),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return L=lr(N.type,N.key,N.props,null,U.mode,L),tc(L,N),L.return=U,L;case v:return N=Uu(N,U.mode,L),N.return=U,N;case ce:return N=xi(N),X(U,N,L)}if(z(N)||fe(N))return N=mi(N,U.mode,L,null),N.return=U,N;if(typeof N.then=="function")return X(U,pr(N),L);if(N.$$typeof===K)return X(U,fr(U,N),L);gr(U,N)}return null}function I(U,N,L,F){var _e=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return _e!==null?null:x(U,N,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case _:return L.key===_e?T(U,N,L,F):null;case v:return L.key===_e?G(U,N,L,F):null;case ce:return L=xi(L),I(U,N,L,F)}if(z(L)||fe(L))return _e!==null?null:V(U,N,L,F,null);if(typeof L.then=="function")return I(U,N,pr(L),F);if(L.$$typeof===K)return I(U,N,fr(U,L),F);gr(U,L)}return null}function j(U,N,L,F,_e){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(L)||null,x(N,U,""+F,_e);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case _:return U=U.get(F.key===null?L:F.key)||null,T(N,U,F,_e);case v:return U=U.get(F.key===null?L:F.key)||null,G(N,U,F,_e);case ce:return F=xi(F),j(U,N,L,F,_e)}if(z(F)||fe(F))return U=U.get(L)||null,V(N,U,F,_e,null);if(typeof F.then=="function")return j(U,N,L,pr(F),_e);if(F.$$typeof===K)return j(U,N,L,fr(N,F),_e);gr(N,F)}return null}function he(U,N,L,F){for(var _e=null,je=null,be=N,we=N=0,Ge=null;be!==null&&we<L.length;we++){be.index>we?(Ge=be,be=null):Ge=be.sibling;var Ve=I(U,be,L[we],F);if(Ve===null){be===null&&(be=Ge);break}e&&be&&Ve.alternate===null&&t(U,be),N=f(Ve,N,we),je===null?_e=Ve:je.sibling=Ve,je=Ve,be=Ge}if(we===L.length)return i(U,be),Me&&Jn(U,we),_e;if(be===null){for(;we<L.length;we++)be=X(U,L[we],F),be!==null&&(N=f(be,N,we),je===null?_e=be:je.sibling=be,je=be);return Me&&Jn(U,we),_e}for(be=r(be);we<L.length;we++)Ge=j(be,U,we,L[we],F),Ge!==null&&(e&&Ge.alternate!==null&&be.delete(Ge.key===null?we:Ge.key),N=f(Ge,N,we),je===null?_e=Ge:je.sibling=Ge,je=Ge);return e&&be.forEach(function(Za){return t(U,Za)}),Me&&Jn(U,we),_e}function Se(U,N,L,F){if(L==null)throw Error(c(151));for(var _e=null,je=null,be=N,we=N=0,Ge=null,Ve=L.next();be!==null&&!Ve.done;we++,Ve=L.next()){be.index>we?(Ge=be,be=null):Ge=be.sibling;var Za=I(U,be,Ve.value,F);if(Za===null){be===null&&(be=Ge);break}e&&be&&Za.alternate===null&&t(U,be),N=f(Za,N,we),je===null?_e=Za:je.sibling=Za,je=Za,be=Ge}if(Ve.done)return i(U,be),Me&&Jn(U,we),_e;if(be===null){for(;!Ve.done;we++,Ve=L.next())Ve=X(U,Ve.value,F),Ve!==null&&(N=f(Ve,N,we),je===null?_e=Ve:je.sibling=Ve,je=Ve);return Me&&Jn(U,we),_e}for(be=r(be);!Ve.done;we++,Ve=L.next())Ve=j(be,U,we,Ve.value,F),Ve!==null&&(e&&Ve.alternate!==null&&be.delete(Ve.key===null?we:Ve.key),N=f(Ve,N,we),je===null?_e=Ve:je.sibling=Ve,je=Ve);return e&&be.forEach(function(by){return t(U,by)}),Me&&Jn(U,we),_e}function tt(U,N,L,F){if(typeof L=="object"&&L!==null&&L.type===C&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case _:e:{for(var _e=L.key;N!==null;){if(N.key===_e){if(_e=L.type,_e===C){if(N.tag===7){i(U,N.sibling),F=o(N,L.props.children),F.return=U,U=F;break e}}else if(N.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ce&&xi(_e)===N.type){i(U,N.sibling),F=o(N,L.props),tc(F,L),F.return=U,U=F;break e}i(U,N);break}else t(U,N);N=N.sibling}L.type===C?(F=mi(L.props.children,U.mode,F,L.key),F.return=U,U=F):(F=lr(L.type,L.key,L.props,null,U.mode,F),tc(F,L),F.return=U,U=F)}return g(U);case v:e:{for(_e=L.key;N!==null;){if(N.key===_e)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){i(U,N.sibling),F=o(N,L.children||[]),F.return=U,U=F;break e}else{i(U,N);break}else t(U,N);N=N.sibling}F=Uu(L,U.mode,F),F.return=U,U=F}return g(U);case ce:return L=xi(L),tt(U,N,L,F)}if(z(L))return he(U,N,L,F);if(fe(L)){if(_e=fe(L),typeof _e!="function")throw Error(c(150));return L=_e.call(L),Se(U,N,L,F)}if(typeof L.then=="function")return tt(U,N,pr(L),F);if(L.$$typeof===K)return tt(U,N,fr(U,L),F);gr(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(i(U,N.sibling),F=o(N,L),F.return=U,U=F):(i(U,N),F=Bu(L,U.mode,F),F.return=U,U=F),g(U)):i(U,N)}return function(U,N,L,F){try{ec=0;var _e=tt(U,N,L,F);return cs=null,_e}catch(be){if(be===ss||be===hr)throw be;var je=un(29,be,null,U.mode);return je.lanes=F,je.return=U,je}finally{}}}var _i=P0(!0),q0=P0(!1),Na=!1;function Pu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ye&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=rr(e),C0(e,null,i),t}return cr(e,r,t,i),rr(e)}function nc(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Gd(e,i)}}function Yu(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?o=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?o=f=t:f=f.next=t}else o=f=t;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Zu=!1;function ac(){if(Zu){var e=is;if(e!==null)throw e}}function ic(e,t,i,r){Zu=!1;var o=e.updateQueue;Na=!1;var f=o.firstBaseUpdate,g=o.lastBaseUpdate,x=o.shared.pending;if(x!==null){o.shared.pending=null;var T=x,G=T.next;T.next=null,g===null?f=G:g.next=G,g=T;var V=e.alternate;V!==null&&(V=V.updateQueue,x=V.lastBaseUpdate,x!==g&&(x===null?V.firstBaseUpdate=G:x.next=G,V.lastBaseUpdate=T))}if(f!==null){var X=o.baseState;g=0,V=G=T=null,x=f;do{var I=x.lane&-536870913,j=I!==x.lane;if(j?(Le&I)===I:(r&I)===I){I!==0&&I===as&&(Zu=!0),V!==null&&(V=V.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var he=e,Se=x;I=t;var tt=i;switch(Se.tag){case 1:if(he=Se.payload,typeof he=="function"){X=he.call(tt,X,I);break e}X=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Se.payload,I=typeof he=="function"?he.call(tt,X,I):he,I==null)break e;X=b({},X,I);break e;case 2:Na=!0}}I=x.callback,I!==null&&(e.flags|=64,j&&(e.flags|=8192),j=o.callbacks,j===null?o.callbacks=[I]:j.push(I))}else j={lane:I,tag:x.tag,payload:x.payload,callback:x.callback,next:null},V===null?(G=V=j,T=X):V=V.next=j,g|=I;if(x=x.next,x===null){if(x=o.shared.pending,x===null)break;j=x,x=j.next,j.next=null,o.lastBaseUpdate=j,o.shared.pending=null}}while(!0);V===null&&(T=X),o.baseState=T,o.firstBaseUpdate=G,o.lastBaseUpdate=V,f===null&&(o.shared.lanes=0),Ia|=g,e.lanes=g,e.memoizedState=X}}function Y0(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Z0(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Y0(i[e],t)}var rs=A(null),br=A(0);function F0(e,t){e=ua,P(br,e),P(rs,t),ua=e|t.baseLanes}function Fu(){P(br,ua),P(rs,rs.current)}function Xu(){ua=br.current,O(rs),O(br)}var on=A(null),vn=null;function Ra(e){var t=e.alternate;P(ht,ht.current&1),P(on,e),vn===null&&(t===null||rs.current!==null||t.memoizedState!==null)&&(vn=e)}function Ku(e){P(ht,ht.current),P(on,e),vn===null&&(vn=e)}function X0(e){e.tag===22?(P(ht,ht.current),P(on,e),vn===null&&(vn=e)):Da()}function Da(){P(ht,ht.current),P(on,on.current)}function fn(e){O(on),vn===e&&(vn=null),O(ht)}var ht=A(0);function yr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||nf(i)||af(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=0,Ce=null,We=null,bt=null,xr=!1,ls=!1,vi=!1,Er=0,sc=0,us=null,rb=0;function ot(){throw Error(c(321))}function Qu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!ln(e[i],t[i]))return!1;return!0}function $u(e,t,i,r,o,f){return ta=f,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?Uh:ho,vi=!1,f=i(r,o),vi=!1,ls&&(f=Q0(t,i,r,o)),K0(e),f}function K0(e){w.H=lc;var t=We!==null&&We.next!==null;if(ta=0,bt=We=Ce=null,xr=!1,sc=0,us=null,t)throw Error(c(300));e===null||yt||(e=e.dependencies,e!==null&&or(e)&&(yt=!0))}function Q0(e,t,i,r){Ce=e;var o=0;do{if(ls&&(us=null),sc=0,ls=!1,25<=o)throw Error(c(301));if(o+=1,bt=We=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}w.H=Rh,f=t(i,r)}while(ls);return f}function lb(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?cc(t):t,e=e.useState()[0],(We!==null?We.memoizedState:null)!==e&&(Ce.flags|=1024),t}function Ju(){var e=Er!==0;return Er=0,e}function Wu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function eo(e){if(xr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xr=!1}ta=0,bt=We=Ce=null,ls=!1,sc=Er=0,us=null}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ce.memoizedState=bt=e:bt=bt.next=e,bt}function mt(){if(We===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=bt===null?Ce.memoizedState:bt.next;if(t!==null)bt=t,We=e;else{if(e===null)throw Ce.alternate===null?Error(c(467)):Error(c(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},bt===null?Ce.memoizedState=bt=e:bt=bt.next=e}return bt}function _r(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cc(e){var t=sc;return sc+=1,us===null&&(us=[]),e=z0(us,e,t),t=Ce,(bt===null?t.memoizedState:bt.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?Uh:ho),e}function vr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cc(e);if(e.$$typeof===K)return Ut(e)}throw Error(c(438,String(e)))}function to(e){var t=null,i=Ce.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=Ce.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=_r(),Ce.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=ye;return t.index++,i}function na(e,t){return typeof t=="function"?t(e):t}function Ar(e){var t=mt();return no(t,We,e)}function no(e,t,i){var r=e.queue;if(r===null)throw Error(c(311));r.lastRenderedReducer=i;var o=e.baseQueue,f=r.pending;if(f!==null){if(o!==null){var g=o.next;o.next=f.next,f.next=g}t.baseQueue=o=f,r.pending=null}if(f=e.baseState,o===null)e.memoizedState=f;else{t=o.next;var x=g=null,T=null,G=t,V=!1;do{var X=G.lane&-536870913;if(X!==G.lane?(Le&X)===X:(ta&X)===X){var I=G.revertLane;if(I===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),X===as&&(V=!0);else if((ta&I)===I){G=G.next,I===as&&(V=!0);continue}else X={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},T===null?(x=T=X,g=f):T=T.next=X,Ce.lanes|=I,Ia|=I;X=G.action,vi&&i(f,X),f=G.hasEagerState?G.eagerState:i(f,X)}else I={lane:X,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},T===null?(x=T=I,g=f):T=T.next=I,Ce.lanes|=X,Ia|=X;G=G.next}while(G!==null&&G!==t);if(T===null?g=f:T.next=x,!ln(f,e.memoizedState)&&(yt=!0,V&&(i=is,i!==null)))throw i;e.memoizedState=f,e.baseState=g,e.baseQueue=T,r.lastRenderedState=f}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ao(e){var t=mt(),i=t.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=e;var r=i.dispatch,o=i.pending,f=t.memoizedState;if(o!==null){i.pending=null;var g=o=o.next;do f=e(f,g.action),g=g.next;while(g!==o);ln(f,t.memoizedState)||(yt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,r]}function $0(e,t,i){var r=Ce,o=mt(),f=Me;if(f){if(i===void 0)throw Error(c(407));i=i()}else i=t();var g=!ln((We||o).memoizedState,i);if(g&&(o.memoizedState=i,yt=!0),o=o.queue,co(eh.bind(null,r,o,e),[e]),o.getSnapshot!==t||g||bt!==null&&bt.memoizedState.tag&1){if(r.flags|=2048,os(9,{destroy:void 0},W0.bind(null,r,o,i,t),null),it===null)throw Error(c(349));f||(ta&127)!==0||J0(r,t,i)}return i}function J0(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ce.updateQueue,t===null?(t=_r(),Ce.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function W0(e,t,i,r){t.value=i,t.getSnapshot=r,th(t)&&nh(e)}function eh(e,t,i){return i(function(){th(t)&&nh(e)})}function th(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!ln(e,i)}catch{return!0}}function nh(e){var t=hi(e,2);t!==null&&Jt(t,e,2)}function io(e){var t=jt();if(typeof e=="function"){var i=e;if(e=i(),vi){va(!0);try{i()}finally{va(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:e},t}function ah(e,t,i,r){return e.baseState=i,no(e,We,typeof r=="function"?r:na)}function ub(e,t,i,r,o){if(Or(e))throw Error(c(485));if(e=t.action,e!==null){var f={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};w.T!==null?i(!0):f.isTransition=!1,r(f),i=t.pending,i===null?(f.next=t.pending=f,ih(t,f)):(f.next=i.next,t.pending=i.next=f)}}function ih(e,t){var i=t.action,r=t.payload,o=e.state;if(t.isTransition){var f=w.T,g={};w.T=g;try{var x=i(o,r),T=w.S;T!==null&&T(g,x),sh(e,t,x)}catch(G){so(e,t,G)}finally{f!==null&&g.types!==null&&(f.types=g.types),w.T=f}}else try{f=i(o,r),sh(e,t,f)}catch(G){so(e,t,G)}}function sh(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){ch(e,t,r)},function(r){return so(e,t,r)}):ch(e,t,i)}function ch(e,t,i){t.status="fulfilled",t.value=i,rh(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,ih(e,i)))}function so(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,rh(t),t=t.next;while(t!==r)}e.action=null}function rh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lh(e,t){return t}function uh(e,t){if(Me){var i=it.formState;if(i!==null){e:{var r=Ce;if(Me){if(ct){t:{for(var o=ct,f=_n;o.nodeType!==8;){if(!f){o=null;break t}if(o=An(o.nextSibling),o===null){o=null;break t}}f=o.data,o=f==="F!"||f==="F"?o:null}if(o){ct=An(o.nextSibling),r=o.data==="F!";break e}}Ca(r)}r=!1}r&&(t=i[0])}}return i=jt(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lh,lastRenderedState:t},i.queue=r,i=wh.bind(null,Ce,r),r.dispatch=i,r=io(!1),f=fo.bind(null,Ce,!1,r.queue),r=jt(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,i=ub.bind(null,Ce,o,f,i),o.dispatch=i,r.memoizedState=e,[t,i,!1]}function oh(e){var t=mt();return fh(t,We,e)}function fh(e,t,i){if(t=no(e,t,lh)[0],e=Ar(na)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=cc(t)}catch(g){throw g===ss?hr:g}else r=t;t=mt();var o=t.queue,f=o.dispatch;return i!==t.memoizedState&&(Ce.flags|=2048,os(9,{destroy:void 0},ob.bind(null,o,i),null)),[r,f,e]}function ob(e,t){e.action=t}function dh(e){var t=mt(),i=We;if(i!==null)return fh(t,i,e);mt(),t=t.memoizedState,i=mt();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function os(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=Ce.updateQueue,t===null&&(t=_r(),Ce.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function hh(){return mt().memoizedState}function Sr(e,t,i,r){var o=jt();Ce.flags|=e,o.memoizedState=os(1|t,{destroy:void 0},i,r===void 0?null:r)}function Tr(e,t,i,r){var o=mt();r=r===void 0?null:r;var f=o.memoizedState.inst;We!==null&&r!==null&&Qu(r,We.memoizedState.deps)?o.memoizedState=os(t,f,i,r):(Ce.flags|=e,o.memoizedState=os(1|t,f,i,r))}function mh(e,t){Sr(8390656,8,e,t)}function co(e,t){Tr(2048,8,e,t)}function fb(e){Ce.flags|=4;var t=Ce.updateQueue;if(t===null)t=_r(),Ce.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function ph(e){var t=mt().memoizedState;return fb({ref:t,nextImpl:e}),function(){if((Ye&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function gh(e,t){return Tr(4,2,e,t)}function bh(e,t){return Tr(4,4,e,t)}function yh(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xh(e,t,i){i=i!=null?i.concat([e]):null,Tr(4,4,yh.bind(null,t,e),i)}function ro(){}function Eh(e,t){var i=mt();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&Qu(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function _h(e,t){var i=mt();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&Qu(t,r[1]))return r[0];if(r=e(),vi){va(!0);try{e()}finally{va(!1)}}return i.memoizedState=[r,t],r}function lo(e,t,i){return i===void 0||(ta&1073741824)!==0&&(Le&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=vm(),Ce.lanes|=e,Ia|=e,i)}function vh(e,t,i,r){return ln(i,t)?i:rs.current!==null?(e=lo(e,i,r),ln(e,t)||(yt=!0),e):(ta&42)===0||(ta&1073741824)!==0&&(Le&261930)===0?(yt=!0,e.memoizedState=i):(e=vm(),Ce.lanes|=e,Ia|=e,t)}function Ah(e,t,i,r,o){var f=H.p;H.p=f!==0&&8>f?f:8;var g=w.T,x={};w.T=x,fo(e,!1,t,i);try{var T=o(),G=w.S;if(G!==null&&G(x,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var V=cb(T,r);rc(e,t,V,mn(e))}else rc(e,t,r,mn(e))}catch(X){rc(e,t,{then:function(){},status:"rejected",reason:X},mn())}finally{H.p=f,g!==null&&x.types!==null&&(g.types=x.types),w.T=g}}function db(){}function uo(e,t,i,r){if(e.tag!==5)throw Error(c(476));var o=Sh(e).queue;Ah(e,o,t,J,i===null?db:function(){return Th(e),i(r)})}function Sh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:J},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Th(e){var t=Sh(e);t.next===null&&(t=e.alternate.memoizedState),rc(e,t.next.queue,{},mn())}function oo(){return Ut(Sc)}function Oh(){return mt().memoizedState}function Ch(){return mt().memoizedState}function hb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=mn();e=Ba(i);var r=Ua(t,e,i);r!==null&&(Jt(r,t,i),nc(r,t,i)),t={cache:ku()},e.payload=t;return}t=t.return}}function mb(e,t,i){var r=mn();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Or(e)?Nh(t,i):(i=wu(e,t,i,r),i!==null&&(Jt(i,e,r),Bh(i,t,r)))}function wh(e,t,i){var r=mn();rc(e,t,i,r)}function rc(e,t,i,r){var o={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Or(e))Nh(t,o);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,x=f(g,i);if(o.hasEagerState=!0,o.eagerState=x,ln(x,g))return cr(e,t,o,0),it===null&&sr(),!1}catch{}finally{}if(i=wu(e,t,o,r),i!==null)return Jt(i,e,r),Bh(i,t,r),!0}return!1}function fo(e,t,i,r){if(r={lane:2,revertLane:qo(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Or(e)){if(t)throw Error(c(479))}else t=wu(e,i,r,2),t!==null&&Jt(t,e,2)}function Or(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Nh(e,t){ls=xr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Bh(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Gd(e,i)}}var lc={readContext:Ut,use:vr,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};lc.useEffectEvent=ot;var Uh={readContext:Ut,use:vr,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:mh,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Sr(4194308,4,yh.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Sr(4194308,4,e,t)},useInsertionEffect:function(e,t){Sr(4,2,e,t)},useMemo:function(e,t){var i=jt();t=t===void 0?null:t;var r=e();if(vi){va(!0);try{e()}finally{va(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=jt();if(i!==void 0){var o=i(t);if(vi){va(!0);try{i(t)}finally{va(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=mb.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:function(e){e=io(e);var t=e.queue,i=wh.bind(null,Ce,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:ro,useDeferredValue:function(e,t){var i=jt();return lo(i,e,t)},useTransition:function(){var e=io(!1);return e=Ah.bind(null,Ce,e.queue,!0,!1),jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=Ce,o=jt();if(Me){if(i===void 0)throw Error(c(407));i=i()}else{if(i=t(),it===null)throw Error(c(349));(Le&127)!==0||J0(r,t,i)}o.memoizedState=i;var f={value:i,getSnapshot:t};return o.queue=f,mh(eh.bind(null,r,f,e),[e]),r.flags|=2048,os(9,{destroy:void 0},W0.bind(null,r,f,i,t),null),i},useId:function(){var e=jt(),t=it.identifierPrefix;if(Me){var i=Mn,r=In;i=(r&~(1<<32-rn(r)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Er++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=rb++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:oo,useFormState:uh,useActionState:uh,useOptimistic:function(e){var t=jt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=fo.bind(null,Ce,!0,i),i.dispatch=t,[e,t]},useMemoCache:to,useCacheRefresh:function(){return jt().memoizedState=hb.bind(null,Ce)},useEffectEvent:function(e){var t=jt(),i={impl:e};return t.memoizedState=i,function(){if((Ye&2)!==0)throw Error(c(440));return i.impl.apply(void 0,arguments)}}},ho={readContext:Ut,use:vr,useCallback:Eh,useContext:Ut,useEffect:co,useImperativeHandle:xh,useInsertionEffect:gh,useLayoutEffect:bh,useMemo:_h,useReducer:Ar,useRef:hh,useState:function(){return Ar(na)},useDebugValue:ro,useDeferredValue:function(e,t){var i=mt();return vh(i,We.memoizedState,e,t)},useTransition:function(){var e=Ar(na)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:cc(e),t]},useSyncExternalStore:$0,useId:Oh,useHostTransitionStatus:oo,useFormState:oh,useActionState:oh,useOptimistic:function(e,t){var i=mt();return ah(i,We,e,t)},useMemoCache:to,useCacheRefresh:Ch};ho.useEffectEvent=ph;var Rh={readContext:Ut,use:vr,useCallback:Eh,useContext:Ut,useEffect:co,useImperativeHandle:xh,useInsertionEffect:gh,useLayoutEffect:bh,useMemo:_h,useReducer:ao,useRef:hh,useState:function(){return ao(na)},useDebugValue:ro,useDeferredValue:function(e,t){var i=mt();return We===null?lo(i,e,t):vh(i,We.memoizedState,e,t)},useTransition:function(){var e=ao(na)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:cc(e),t]},useSyncExternalStore:$0,useId:Oh,useHostTransitionStatus:oo,useFormState:dh,useActionState:dh,useOptimistic:function(e,t){var i=mt();return We!==null?ah(i,We,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:to,useCacheRefresh:Ch};Rh.useEffectEvent=ph;function mo(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:b({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var po={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=mn(),o=Ba(r);o.payload=t,i!=null&&(o.callback=i),t=Ua(e,o,r),t!==null&&(Jt(t,e,r),nc(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=mn(),o=Ba(r);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Ua(e,o,r),t!==null&&(Jt(t,e,r),nc(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=mn(),r=Ba(i);r.tag=2,t!=null&&(r.callback=t),t=Ua(e,r,i),t!==null&&(Jt(t,e,i),nc(t,e,i))}};function Dh(e,t,i,r,o,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,g):t.prototype&&t.prototype.isPureReactComponent?!Xs(i,r)||!Xs(o,f):!0}function Lh(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function Ai(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=b({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function Gh(e){ir(e)}function Ih(e){console.error(e)}function Mh(e){ir(e)}function Cr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Hh(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function go(e,t,i){return i=Ba(i),i.tag=3,i.payload={element:null},i.callback=function(){Cr(e,t)},i}function kh(e){return e=Ba(e),e.tag=3,e}function zh(e,t,i,r){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var f=r.value;e.payload=function(){return o(f)},e.callback=function(){Hh(t,i,r)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Hh(t,i,r),typeof o!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})})}function pb(e,t,i,r,o){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&ns(t,i,o,!0),i=on.current,i!==null){switch(i.tag){case 31:case 13:return vn===null?kr():i.alternate===null&&ft===0&&(ft=3),i.flags&=-257,i.flags|=65536,i.lanes=o,r===mr?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),jo(e,r,o)),!1;case 22:return i.flags|=65536,r===mr?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),jo(e,r,o)),!1}throw Error(c(435,i.tag))}return jo(e,r,o),kr(),!1}if(Me)return t=on.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==Lu&&(e=Error(c(422),{cause:r}),$s(yn(e,i)))):(r!==Lu&&(t=Error(c(423),{cause:r}),$s(yn(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=yn(r,i),o=go(e.stateNode,r,o),Yu(e,o),ft!==4&&(ft=2)),!1;var f=Error(c(520),{cause:r});if(f=yn(f,i),gc===null?gc=[f]:gc.push(f),ft!==4&&(ft=2),t===null)return!0;r=yn(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=go(i.stateNode,r,e),Yu(i,e),!1;case 1:if(t=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ma===null||!Ma.has(f))))return i.flags|=65536,o&=-o,i.lanes|=o,o=kh(o),zh(o,e,i,r),Yu(i,o),!1}i=i.return}while(i!==null);return!1}var bo=Error(c(461)),yt=!1;function Rt(e,t,i,r){t.child=e===null?q0(t,null,i,r):_i(t,e.child,i,r)}function jh(e,t,i,r,o){i=i.render;var f=t.ref;if("ref"in r){var g={};for(var x in r)x!=="ref"&&(g[x]=r[x])}else g=r;return bi(t),r=$u(e,t,i,g,f,o),x=Ju(),e!==null&&!yt?(Wu(e,t,o),aa(e,t,o)):(Me&&x&&Ru(t),t.flags|=1,Rt(e,t,r,o),t.child)}function Vh(e,t,i,r,o){if(e===null){var f=i.type;return typeof f=="function"&&!Nu(f)&&f.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=f,Ph(e,t,f,r,o)):(e=lr(i.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!To(e,o)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:Xs,i(g,r)&&e.ref===t.ref)return aa(e,t,o)}return t.flags|=1,e=$n(f,r),e.ref=t.ref,e.return=t,t.child=e}function Ph(e,t,i,r,o){if(e!==null){var f=e.memoizedProps;if(Xs(f,r)&&e.ref===t.ref)if(yt=!1,t.pendingProps=r=f,To(e,o))(e.flags&131072)!==0&&(yt=!0);else return t.lanes=e.lanes,aa(e,t,o)}return yo(e,t,i,r,o)}function qh(e,t,i,r){var o=r.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~f}else r=0,t.child=null;return Yh(e,t,f,i,r)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&dr(t,f!==null?f.cachePool:null),f!==null?F0(t,f):Fu(),X0(t);else return r=t.lanes=536870912,Yh(e,t,f!==null?f.baseLanes|i:i,i,r)}else f!==null?(dr(t,f.cachePool),F0(t,f),Da(),t.memoizedState=null):(e!==null&&dr(t,null),Fu(),Da());return Rt(e,t,o,i),t.child}function uc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Yh(e,t,i,r,o){var f=ju();return f=f===null?null:{parent:gt._currentValue,pool:f},t.memoizedState={baseLanes:i,cachePool:f},e!==null&&dr(t,null),Fu(),X0(t),e!==null&&ns(e,t,r,!0),t.childLanes=o,null}function wr(e,t){return t=Br({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Zh(e,t,i){return _i(t,e.child,null,i),e=wr(t,t.pendingProps),e.flags|=2,fn(t),t.memoizedState=null,e}function gb(e,t,i){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Me){if(r.mode==="hidden")return e=wr(t,r),t.lanes=536870912,uc(null,e);if(Ku(t),(e=ct)?(e=i1(e,_n),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ta!==null?{id:In,overflow:Mn}:null,retryLane:536870912,hydrationErrors:null},i=N0(e),i.return=t,t.child=i,Bt=t,ct=null)):e=null,e===null)throw Ca(t);return t.lanes=536870912,null}return wr(t,r)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Ku(t),o)if(t.flags&256)t.flags&=-257,t=Zh(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(yt||ns(e,t,i,!1),o=(i&e.childLanes)!==0,yt||o){if(r=it,r!==null&&(g=Id(r,i),g!==0&&g!==f.retryLane))throw f.retryLane=g,hi(e,g),Jt(r,e,g),bo;kr(),t=Zh(e,t,i)}else e=f.treeContext,ct=An(g.nextSibling),Bt=t,Me=!0,Oa=null,_n=!1,e!==null&&R0(t,e),t=wr(t,r),t.flags|=4096;return t}return e=$n(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Nr(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(c(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function yo(e,t,i,r,o){return bi(t),i=$u(e,t,i,r,void 0,o),r=Ju(),e!==null&&!yt?(Wu(e,t,o),aa(e,t,o)):(Me&&r&&Ru(t),t.flags|=1,Rt(e,t,i,o),t.child)}function Fh(e,t,i,r,o,f){return bi(t),t.updateQueue=null,i=Q0(t,r,i,o),K0(e),r=Ju(),e!==null&&!yt?(Wu(e,t,f),aa(e,t,f)):(Me&&r&&Ru(t),t.flags|=1,Rt(e,t,i,f),t.child)}function Xh(e,t,i,r,o){if(bi(t),t.stateNode===null){var f=Ji,g=i.contextType;typeof g=="object"&&g!==null&&(f=Ut(g)),f=new i(r,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=po,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=r,f.state=t.memoizedState,f.refs={},Pu(t),g=i.contextType,f.context=typeof g=="object"&&g!==null?Ut(g):Ji,f.state=t.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(mo(t,i,g,r),f.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&po.enqueueReplaceState(f,f.state,null),ic(t,r,f,o),ac(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){f=t.stateNode;var x=t.memoizedProps,T=Ai(i,x);f.props=T;var G=f.context,V=i.contextType;g=Ji,typeof V=="object"&&V!==null&&(g=Ut(V));var X=i.getDerivedStateFromProps;V=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,V||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||G!==g)&&Lh(t,f,r,g),Na=!1;var I=t.memoizedState;f.state=I,ic(t,r,f,o),ac(),G=t.memoizedState,x||I!==G||Na?(typeof X=="function"&&(mo(t,i,X,r),G=t.memoizedState),(T=Na||Dh(t,i,T,r,I,G,g))?(V||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=G),f.props=r,f.state=G,f.context=g,r=T):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,qu(e,t),g=t.memoizedProps,V=Ai(i,g),f.props=V,X=t.pendingProps,I=f.context,G=i.contextType,T=Ji,typeof G=="object"&&G!==null&&(T=Ut(G)),x=i.getDerivedStateFromProps,(G=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||I!==T)&&Lh(t,f,r,T),Na=!1,I=t.memoizedState,f.state=I,ic(t,r,f,o),ac();var j=t.memoizedState;g!==X||I!==j||Na||e!==null&&e.dependencies!==null&&or(e.dependencies)?(typeof x=="function"&&(mo(t,i,x,r),j=t.memoizedState),(V=Na||Dh(t,i,V,r,I,j,T)||e!==null&&e.dependencies!==null&&or(e.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,j,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,j,T)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),f.props=r,f.state=j,f.context=T,r=V):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),r=!1)}return f=r,Nr(e,t),r=(t.flags&128)!==0,f||r?(f=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&r?(t.child=_i(t,e.child,null,o),t.child=_i(t,null,i,o)):Rt(e,t,i,o),t.memoizedState=f.state,e=t.child):e=aa(e,t,o),e}function Kh(e,t,i,r){return pi(),t.flags|=256,Rt(e,t,i,r),t.child}var xo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eo(e){return{baseLanes:e,cachePool:H0()}}function _o(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=hn),e}function Qh(e,t,i){var r=t.pendingProps,o=!1,f=(t.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),g&&(o=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(o?Ra(t):Da(),(e=ct)?(e=i1(e,_n),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ta!==null?{id:In,overflow:Mn}:null,retryLane:536870912,hydrationErrors:null},i=N0(e),i.return=t,t.child=i,Bt=t,ct=null)):e=null,e===null)throw Ca(t);return af(e)?t.lanes=32:t.lanes=536870912,null}var x=r.children;return r=r.fallback,o?(Da(),o=t.mode,x=Br({mode:"hidden",children:x},o),r=mi(r,o,i,null),x.return=t,r.return=t,x.sibling=r,t.child=x,r=t.child,r.memoizedState=Eo(i),r.childLanes=_o(e,g,i),t.memoizedState=xo,uc(null,r)):(Ra(t),vo(t,x))}var T=e.memoizedState;if(T!==null&&(x=T.dehydrated,x!==null)){if(f)t.flags&256?(Ra(t),t.flags&=-257,t=Ao(e,t,i)):t.memoizedState!==null?(Da(),t.child=e.child,t.flags|=128,t=null):(Da(),x=r.fallback,o=t.mode,r=Br({mode:"visible",children:r.children},o),x=mi(x,o,i,null),x.flags|=2,r.return=t,x.return=t,r.sibling=x,t.child=r,_i(t,e.child,null,i),r=t.child,r.memoizedState=Eo(i),r.childLanes=_o(e,g,i),t.memoizedState=xo,t=uc(null,r));else if(Ra(t),af(x)){if(g=x.nextSibling&&x.nextSibling.dataset,g)var G=g.dgst;g=G,r=Error(c(419)),r.stack="",r.digest=g,$s({value:r,source:null,stack:null}),t=Ao(e,t,i)}else if(yt||ns(e,t,i,!1),g=(i&e.childLanes)!==0,yt||g){if(g=it,g!==null&&(r=Id(g,i),r!==0&&r!==T.retryLane))throw T.retryLane=r,hi(e,r),Jt(g,e,r),bo;nf(x)||kr(),t=Ao(e,t,i)}else nf(x)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,ct=An(x.nextSibling),Bt=t,Me=!0,Oa=null,_n=!1,e!==null&&R0(t,e),t=vo(t,r.children),t.flags|=4096);return t}return o?(Da(),x=r.fallback,o=t.mode,T=e.child,G=T.sibling,r=$n(T,{mode:"hidden",children:r.children}),r.subtreeFlags=T.subtreeFlags&65011712,G!==null?x=$n(G,x):(x=mi(x,o,i,null),x.flags|=2),x.return=t,r.return=t,r.sibling=x,t.child=r,uc(null,r),r=t.child,x=e.child.memoizedState,x===null?x=Eo(i):(o=x.cachePool,o!==null?(T=gt._currentValue,o=o.parent!==T?{parent:T,pool:T}:o):o=H0(),x={baseLanes:x.baseLanes|i,cachePool:o}),r.memoizedState=x,r.childLanes=_o(e,g,i),t.memoizedState=xo,uc(e.child,r)):(Ra(t),i=e.child,e=i.sibling,i=$n(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=i,t.memoizedState=null,i)}function vo(e,t){return t=Br({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Br(e,t){return e=un(22,e,null,t),e.lanes=0,e}function Ao(e,t,i){return _i(t,e.child,null,i),e=vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $h(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Mu(e.return,t,i)}function So(e,t,i,r,o,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o,treeForkCount:f}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=i,g.tailMode=o,g.treeForkCount=f)}function Jh(e,t,i){var r=t.pendingProps,o=r.revealOrder,f=r.tail;r=r.children;var g=ht.current,x=(g&2)!==0;if(x?(g=g&1|2,t.flags|=128):g&=1,P(ht,g),Rt(e,t,r,i),r=Me?Qs:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$h(e,i,t);else if(e.tag===19)$h(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&yr(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),So(t,!1,o,i,f,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&yr(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}So(t,!0,i,null,f,r);break;case"together":So(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function aa(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Ia|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ns(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,i=$n(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=$n(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function To(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&or(e)))}function bb(e,t,i){switch(t.tag){case 3:qe(t,t.stateNode.containerInfo),wa(t,gt,e.memoizedState.cache),pi();break;case 27:case 5:at(t);break;case 4:qe(t,t.stateNode.containerInfo);break;case 10:wa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ku(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ra(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Qh(e,t,i):(Ra(t),e=aa(e,t,i),e!==null?e.sibling:null);Ra(t);break;case 19:var o=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(ns(e,t,i,!1),r=(i&t.childLanes)!==0),o){if(r)return Jh(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),P(ht,ht.current),r)break;return null;case 22:return t.lanes=0,qh(e,t,i,t.pendingProps);case 24:wa(t,gt,e.memoizedState.cache)}return aa(e,t,i)}function Wh(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)yt=!0;else{if(!To(e,i)&&(t.flags&128)===0)return yt=!1,bb(e,t,i);yt=(e.flags&131072)!==0}else yt=!1,Me&&(t.flags&1048576)!==0&&U0(t,Qs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=xi(t.elementType),t.type=e,typeof e=="function")Nu(e)?(r=Ai(e,r),t.tag=1,t=Xh(null,t,e,r,i)):(t.tag=0,t=yo(null,t,e,r,i));else{if(e!=null){var o=e.$$typeof;if(o===ue){t.tag=11,t=jh(null,t,e,r,i);break e}else if(o===ee){t.tag=14,t=Vh(null,t,e,r,i);break e}}throw t=k(e)||e,Error(c(306,t,""))}}return t;case 0:return yo(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,o=Ai(r,t.pendingProps),Xh(e,t,r,o,i);case 3:e:{if(qe(t,t.stateNode.containerInfo),e===null)throw Error(c(387));r=t.pendingProps;var f=t.memoizedState;o=f.element,qu(e,t),ic(t,r,null,i);var g=t.memoizedState;if(r=g.cache,wa(t,gt,r),r!==f.cache&&Hu(t,[gt],i,!0),ac(),r=g.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Kh(e,t,r,i);break e}else if(r!==o){o=yn(Error(c(424)),t),$s(o),t=Kh(e,t,r,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ct=An(e.firstChild),Bt=t,Me=!0,Oa=null,_n=!0,i=q0(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(pi(),r===o){t=aa(e,t,i);break e}Rt(e,t,r,i)}t=t.child}return t;case 26:return Nr(e,t),e===null?(i=o1(t.type,null,t.pendingProps,null))?t.memoizedState=i:Me||(i=t.type,e=t.pendingProps,r=Zr(ne.current).createElement(i),r[Nt]=t,r[Zt]=e,Dt(r,i,e),Ot(r),t.stateNode=r):t.memoizedState=o1(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return at(t),e===null&&Me&&(r=t.stateNode=r1(t.type,t.pendingProps,ne.current),Bt=t,_n=!0,o=ct,ja(t.type)?(sf=o,ct=An(r.firstChild)):ct=o),Rt(e,t,t.pendingProps.children,i),Nr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((o=r=ct)&&(r=Fb(r,t.type,t.pendingProps,_n),r!==null?(t.stateNode=r,Bt=t,ct=An(r.firstChild),_n=!1,o=!0):o=!1),o||Ca(t)),at(t),o=t.type,f=t.pendingProps,g=e!==null?e.memoizedProps:null,r=f.children,Wo(o,f)?r=null:g!==null&&Wo(o,g)&&(t.flags|=32),t.memoizedState!==null&&(o=$u(e,t,lb,null,null,i),Sc._currentValue=o),Nr(e,t),Rt(e,t,r,i),t.child;case 6:return e===null&&Me&&((e=i=ct)&&(i=Xb(i,t.pendingProps,_n),i!==null?(t.stateNode=i,Bt=t,ct=null,e=!0):e=!1),e||Ca(t)),null;case 13:return Qh(e,t,i);case 4:return qe(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_i(t,null,r,i):Rt(e,t,r,i),t.child;case 11:return jh(e,t,t.type,t.pendingProps,i);case 7:return Rt(e,t,t.pendingProps,i),t.child;case 8:return Rt(e,t,t.pendingProps.children,i),t.child;case 12:return Rt(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,wa(t,t.type,r.value),Rt(e,t,r.children,i),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,bi(t),o=Ut(o),r=r(o),t.flags|=1,Rt(e,t,r,i),t.child;case 14:return Vh(e,t,t.type,t.pendingProps,i);case 15:return Ph(e,t,t.type,t.pendingProps,i);case 19:return Jh(e,t,i);case 31:return gb(e,t,i);case 22:return qh(e,t,i,t.pendingProps);case 24:return bi(t),r=Ut(gt),e===null?(o=ju(),o===null&&(o=it,f=ku(),o.pooledCache=f,f.refCount++,f!==null&&(o.pooledCacheLanes|=i),o=f),t.memoizedState={parent:r,cache:o},Pu(t),wa(t,gt,o)):((e.lanes&i)!==0&&(qu(e,t),ic(t,null,null,i),ac()),o=e.memoizedState,f=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),wa(t,gt,r)):(r=f.cache,wa(t,gt,r),r!==o.cache&&Hu(t,[gt],i,!0))),Rt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function ia(e){e.flags|=4}function Oo(e,t,i,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Om())e.flags|=8192;else throw Ei=mr,Vu}else e.flags&=-16777217}function em(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p1(t))if(Om())e.flags|=8192;else throw Ei=mr,Vu}function Ur(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Dd():536870912,e.lanes|=t,ms|=t)}function oc(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function yb(e,t,i){var r=t.pendingProps;switch(Du(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return rt(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ea(gt),Ie(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ts(t)?ia(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Gu())),rt(t),null;case 26:var o=t.type,f=t.memoizedState;return e===null?(ia(t),f!==null?(rt(t),em(t,f)):(rt(t),Oo(t,o,null,r,i))):f?f!==e.memoizedState?(ia(t),rt(t),em(t,f)):(rt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&ia(t),rt(t),Oo(t,o,e,r,i)),null;case 27:if(pt(t),i=ne.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ia(t);else{if(!r){if(t.stateNode===null)throw Error(c(166));return rt(t),null}e=ae.current,ts(t)?D0(t):(e=r1(o,r,i),t.stateNode=e,ia(t))}return rt(t),null;case 5:if(pt(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ia(t);else{if(!r){if(t.stateNode===null)throw Error(c(166));return rt(t),null}if(f=ae.current,ts(t))D0(t);else{var g=Zr(ne.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?g.createElement("select",{is:r.is}):g.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?g.createElement(o,{is:r.is}):g.createElement(o)}}f[Nt]=t,f[Zt]=r;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=f;e:switch(Dt(f,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ia(t)}}return rt(t),Oo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&ia(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(c(166));if(e=ne.current,ts(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,o=Bt,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Nt]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Qm(e.nodeValue,i)),e||Ca(t,!0)}else e=Zr(e).createTextNode(r),e[Nt]=t,t.stateNode=e}return rt(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(r=ts(t),i!==null){if(e===null){if(!r)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[Nt]=t}else pi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),e=!1}else i=Gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(fn(t),t):(fn(t),null);if((t.flags&128)!==0)throw Error(c(558))}return rt(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ts(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(c(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(c(317));o[Nt]=t}else pi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),o=!1}else o=Gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(fn(t),t):(fn(t),null)}return fn(t),(t.flags&128)!==0?(t.lanes=i,t):(i=r!==null,e=e!==null&&e.memoizedState!==null,i&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==o&&(r.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Ur(t,t.updateQueue),rt(t),null);case 4:return Ie(),e===null&&Xo(t.stateNode.containerInfo),rt(t),null;case 10:return ea(t.type),rt(t),null;case 19:if(O(ht),r=t.memoizedState,r===null)return rt(t),null;if(o=(t.flags&128)!==0,f=r.rendering,f===null)if(o)oc(r,!1);else{if(ft!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=yr(e),f!==null){for(t.flags|=128,oc(r,!1),e=f.updateQueue,t.updateQueue=e,Ur(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)w0(i,e),i=i.sibling;return P(ht,ht.current&1|2),Me&&Jn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&sn()>Ir&&(t.flags|=128,o=!0,oc(r,!1),t.lanes=4194304)}else{if(!o)if(e=yr(f),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Ur(t,e),oc(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!Me)return rt(t),null}else 2*sn()-r.renderingStartTime>Ir&&i!==536870912&&(t.flags|=128,o=!0,oc(r,!1),t.lanes=4194304);r.isBackwards?(f.sibling=t.child,t.child=f):(e=r.last,e!==null?e.sibling=f:t.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=sn(),e.sibling=null,i=ht.current,P(ht,o?i&1|2:i&1),Me&&Jn(t,r.treeForkCount),e):(rt(t),null);case 22:case 23:return fn(t),Xu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),i=t.updateQueue,i!==null&&Ur(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&O(yi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ea(gt),rt(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function xb(e,t){switch(Du(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ea(gt),Ie(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return pt(t),null;case 31:if(t.memoizedState!==null){if(fn(t),t.alternate===null)throw Error(c(340));pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return O(ht),null;case 4:return Ie(),null;case 10:return ea(t.type),null;case 22:case 23:return fn(t),Xu(),e!==null&&O(yi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ea(gt),null;case 25:return null;default:return null}}function tm(e,t){switch(Du(t),t.tag){case 3:ea(gt),Ie();break;case 26:case 27:case 5:pt(t);break;case 4:Ie();break;case 31:t.memoizedState!==null&&fn(t);break;case 13:fn(t);break;case 19:O(ht);break;case 10:ea(t.type);break;case 22:case 23:fn(t),Xu(),e!==null&&O(yi);break;case 24:ea(gt)}}function fc(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var o=r.next;i=o;do{if((i.tag&e)===e){r=void 0;var f=i.create,g=i.inst;r=f(),g.destroy=r}i=i.next}while(i!==o)}}catch(x){$e(t,t.return,x)}}function La(e,t,i){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&e)===e){var g=r.inst,x=g.destroy;if(x!==void 0){g.destroy=void 0,o=t;var T=i,G=x;try{G()}catch(V){$e(o,T,V)}}}r=r.next}while(r!==f)}}catch(V){$e(t,t.return,V)}}function nm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Z0(t,i)}catch(r){$e(e,e.return,r)}}}function am(e,t,i){i.props=Ai(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){$e(e,t,r)}}function dc(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(o){$e(e,t,o)}}function Hn(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(o){$e(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){$e(e,t,o)}else i.current=null}function im(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(o){$e(e,e.return,o)}}function Co(e,t,i){try{var r=e.stateNode;jb(r,e.type,i,t),r[Zt]=t}catch(o){$e(e,e.return,o)}}function sm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ja(e.type)||e.tag===4}function wo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ja(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function No(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Kn));else if(r!==4&&(r===27&&ja(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(No(e,t,i),e=e.sibling;e!==null;)No(e,t,i),e=e.sibling}function Rr(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&ja(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Rr(e,t,i),e=e.sibling;e!==null;)Rr(e,t,i),e=e.sibling}function cm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Dt(t,r,i),t[Nt]=e,t[Zt]=i}catch(f){$e(e,e.return,f)}}var sa=!1,xt=!1,Bo=!1,rm=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function Eb(e,t){if(e=e.containerInfo,$o=Wr,e=x0(e),vu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,x=-1,T=-1,G=0,V=0,X=e,I=null;t:for(;;){for(var j;X!==i||o!==0&&X.nodeType!==3||(x=g+o),X!==f||r!==0&&X.nodeType!==3||(T=g+r),X.nodeType===3&&(g+=X.nodeValue.length),(j=X.firstChild)!==null;)I=X,X=j;for(;;){if(X===e)break t;if(I===i&&++G===o&&(x=g),I===f&&++V===r&&(T=g),(j=X.nextSibling)!==null)break;X=I,I=X.parentNode}X=j}i=x===-1||T===-1?null:{start:x,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(Jo={focusedElem:e,selectionRange:i},Wr=!1,Ct=t;Ct!==null;)if(t=Ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ct=e;else for(;Ct!==null;){switch(t=Ct,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=t,o=f.memoizedProps,f=f.memoizedState,r=i.stateNode;try{var he=Ai(i.type,o);e=r.getSnapshotBeforeUpdate(he,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(Se){$e(i,i.return,Se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)tf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":tf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Ct=e;break}Ct=t.return}}function lm(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:ra(e,i),r&4&&fc(5,i);break;case 1:if(ra(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(g){$e(i,i.return,g)}else{var o=Ai(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$e(i,i.return,g)}}r&64&&nm(i),r&512&&dc(i,i.return);break;case 3:if(ra(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Z0(e,t)}catch(g){$e(i,i.return,g)}}break;case 27:t===null&&r&4&&cm(i);case 26:case 5:ra(e,i),t===null&&r&4&&im(i),r&512&&dc(i,i.return);break;case 12:ra(e,i);break;case 31:ra(e,i),r&4&&fm(e,i);break;case 13:ra(e,i),r&4&&dm(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Nb.bind(null,i),Kb(e,i))));break;case 22:if(r=i.memoizedState!==null||sa,!r){t=t!==null&&t.memoizedState!==null||xt,o=sa;var f=xt;sa=r,(xt=t)&&!f?la(e,i,(i.subtreeFlags&8772)!==0):ra(e,i),sa=o,xt=f}break;case 30:break;default:ra(e,i)}}function um(e){var t=e.alternate;t!==null&&(e.alternate=null,um(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&su(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ut=null,Xt=!1;function ca(e,t,i){for(i=i.child;i!==null;)om(e,t,i),i=i.sibling}function om(e,t,i){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Is,i)}catch{}switch(i.tag){case 26:xt||Hn(i,t),ca(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:xt||Hn(i,t);var r=ut,o=Xt;ja(i.type)&&(ut=i.stateNode,Xt=!1),ca(e,t,i),_c(i.stateNode),ut=r,Xt=o;break;case 5:xt||Hn(i,t);case 6:if(r=ut,o=Xt,ut=null,ca(e,t,i),ut=r,Xt=o,ut!==null)if(Xt)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(i.stateNode)}catch(f){$e(i,t,f)}else try{ut.removeChild(i.stateNode)}catch(f){$e(i,t,f)}break;case 18:ut!==null&&(Xt?(e=ut,n1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),vs(e)):n1(ut,i.stateNode));break;case 4:r=ut,o=Xt,ut=i.stateNode.containerInfo,Xt=!0,ca(e,t,i),ut=r,Xt=o;break;case 0:case 11:case 14:case 15:La(2,i,t),xt||La(4,i,t),ca(e,t,i);break;case 1:xt||(Hn(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&am(i,t,r)),ca(e,t,i);break;case 21:ca(e,t,i);break;case 22:xt=(r=xt)||i.memoizedState!==null,ca(e,t,i),xt=r;break;default:ca(e,t,i)}}function fm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{vs(e)}catch(i){$e(t,t.return,i)}}}function dm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{vs(e)}catch(i){$e(t,t.return,i)}}function _b(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rm),t;default:throw Error(c(435,e.tag))}}function Dr(e,t){var i=_b(e);t.forEach(function(r){if(!i.has(r)){i.add(r);var o=Bb.bind(null,e,r);r.then(o,o)}})}function Kt(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r],f=e,g=t,x=g;e:for(;x!==null;){switch(x.tag){case 27:if(ja(x.type)){ut=x.stateNode,Xt=!1;break e}break;case 5:ut=x.stateNode,Xt=!1;break e;case 3:case 4:ut=x.stateNode.containerInfo,Xt=!0;break e}x=x.return}if(ut===null)throw Error(c(160));om(f,g,o),ut=null,Xt=!1,f=o.alternate,f!==null&&(f.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)hm(t,e),t=t.sibling}var Bn=null;function hm(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kt(t,e),Qt(e),r&4&&(La(3,e,e.return),fc(3,e),La(5,e,e.return));break;case 1:Kt(t,e),Qt(e),r&512&&(xt||i===null||Hn(i,i.return)),r&64&&sa&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var o=Bn;if(Kt(t,e),Qt(e),r&512&&(xt||i===null||Hn(i,i.return)),r&4){var f=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":f=o.getElementsByTagName("title")[0],(!f||f[ks]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=o.createElement(r),o.head.insertBefore(f,o.querySelector("head > title"))),Dt(f,r,i),f[Nt]=e,Ot(f),r=f;break e;case"link":var g=h1("link","href",o).get(r+(i.href||""));if(g){for(var x=0;x<g.length;x++)if(f=g[x],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(x,1);break t}}f=o.createElement(r),Dt(f,r,i),o.head.appendChild(f);break;case"meta":if(g=h1("meta","content",o).get(r+(i.content||""))){for(x=0;x<g.length;x++)if(f=g[x],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(x,1);break t}}f=o.createElement(r),Dt(f,r,i),o.head.appendChild(f);break;default:throw Error(c(468,r))}f[Nt]=e,Ot(f),r=f}e.stateNode=r}else m1(o,e.type,e.stateNode);else e.stateNode=d1(o,r,e.memoizedProps);else f!==r?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,r===null?m1(o,e.type,e.stateNode):d1(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Co(e,e.memoizedProps,i.memoizedProps)}break;case 27:Kt(t,e),Qt(e),r&512&&(xt||i===null||Hn(i,i.return)),i!==null&&r&4&&Co(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Kt(t,e),Qt(e),r&512&&(xt||i===null||Hn(i,i.return)),e.flags&32){o=e.stateNode;try{Yi(o,"")}catch(he){$e(e,e.return,he)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Co(e,o,i!==null?i.memoizedProps:o)),r&1024&&(Bo=!0);break;case 6:if(Kt(t,e),Qt(e),r&4){if(e.stateNode===null)throw Error(c(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(he){$e(e,e.return,he)}}break;case 3:if(Kr=null,o=Bn,Bn=Fr(t.containerInfo),Kt(t,e),Bn=o,Qt(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{vs(t.containerInfo)}catch(he){$e(e,e.return,he)}Bo&&(Bo=!1,mm(e));break;case 4:r=Bn,Bn=Fr(e.stateNode.containerInfo),Kt(t,e),Qt(e),Bn=r;break;case 12:Kt(t,e),Qt(e);break;case 31:Kt(t,e),Qt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Dr(e,r)));break;case 13:Kt(t,e),Qt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Gr=sn()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Dr(e,r)));break;case 22:o=e.memoizedState!==null;var T=i!==null&&i.memoizedState!==null,G=sa,V=xt;if(sa=G||o,xt=V||T,Kt(t,e),xt=V,sa=G,Qt(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||T||sa||xt||Si(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){T=i=t;try{if(f=T.stateNode,o)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{x=T.stateNode;var X=T.memoizedProps.style,I=X!=null&&X.hasOwnProperty("display")?X.display:null;x.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(he){$e(T,T.return,he)}}}else if(t.tag===6){if(i===null){T=t;try{T.stateNode.nodeValue=o?"":T.memoizedProps}catch(he){$e(T,T.return,he)}}}else if(t.tag===18){if(i===null){T=t;try{var j=T.stateNode;o?a1(j,!0):a1(T.stateNode,!1)}catch(he){$e(T,T.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,Dr(e,i))));break;case 19:Kt(t,e),Qt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Dr(e,r)));break;case 30:break;case 21:break;default:Kt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(sm(r)){i=r;break}r=r.return}if(i==null)throw Error(c(160));switch(i.tag){case 27:var o=i.stateNode,f=wo(e);Rr(e,f,o);break;case 5:var g=i.stateNode;i.flags&32&&(Yi(g,""),i.flags&=-33);var x=wo(e);Rr(e,x,g);break;case 3:case 4:var T=i.stateNode.containerInfo,G=wo(e);No(e,G,T);break;default:throw Error(c(161))}}catch(V){$e(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;mm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ra(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lm(e,t.alternate,t),t=t.sibling}function Si(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:La(4,t,t.return),Si(t);break;case 1:Hn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&am(t,t.return,i),Si(t);break;case 27:_c(t.stateNode);case 26:case 5:Hn(t,t.return),Si(t);break;case 22:t.memoizedState===null&&Si(t);break;case 30:Si(t);break;default:Si(t)}e=e.sibling}}function la(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,f=t,g=f.flags;switch(f.tag){case 0:case 11:case 15:la(o,f,i),fc(4,f);break;case 1:if(la(o,f,i),r=f,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(G){$e(r,r.return,G)}if(r=f,o=r.updateQueue,o!==null){var x=r.stateNode;try{var T=o.shared.hiddenCallbacks;if(T!==null)for(o.shared.hiddenCallbacks=null,o=0;o<T.length;o++)Y0(T[o],x)}catch(G){$e(r,r.return,G)}}i&&g&64&&nm(f),dc(f,f.return);break;case 27:cm(f);case 26:case 5:la(o,f,i),i&&r===null&&g&4&&im(f),dc(f,f.return);break;case 12:la(o,f,i);break;case 31:la(o,f,i),i&&g&4&&fm(o,f);break;case 13:la(o,f,i),i&&g&4&&dm(o,f);break;case 22:f.memoizedState===null&&la(o,f,i),dc(f,f.return);break;case 30:break;default:la(o,f,i)}t=t.sibling}}function Uo(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Js(i))}function Ro(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Js(e))}function Un(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pm(e,t,i,r),t=t.sibling}function pm(e,t,i,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Un(e,t,i,r),o&2048&&fc(9,t);break;case 1:Un(e,t,i,r);break;case 3:Un(e,t,i,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Js(e)));break;case 12:if(o&2048){Un(e,t,i,r),e=t.stateNode;try{var f=t.memoizedProps,g=f.id,x=f.onPostCommit;typeof x=="function"&&x(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){$e(t,t.return,T)}}else Un(e,t,i,r);break;case 31:Un(e,t,i,r);break;case 13:Un(e,t,i,r);break;case 23:break;case 22:f=t.stateNode,g=t.alternate,t.memoizedState!==null?f._visibility&2?Un(e,t,i,r):hc(e,t):f._visibility&2?Un(e,t,i,r):(f._visibility|=2,fs(e,t,i,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Uo(g,t);break;case 24:Un(e,t,i,r),o&2048&&Ro(t.alternate,t);break;default:Un(e,t,i,r)}}function fs(e,t,i,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,g=t,x=i,T=r,G=g.flags;switch(g.tag){case 0:case 11:case 15:fs(f,g,x,T,o),fc(8,g);break;case 23:break;case 22:var V=g.stateNode;g.memoizedState!==null?V._visibility&2?fs(f,g,x,T,o):hc(f,g):(V._visibility|=2,fs(f,g,x,T,o)),o&&G&2048&&Uo(g.alternate,g);break;case 24:fs(f,g,x,T,o),o&&G&2048&&Ro(g.alternate,g);break;default:fs(f,g,x,T,o)}t=t.sibling}}function hc(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,o=r.flags;switch(r.tag){case 22:hc(i,r),o&2048&&Uo(r.alternate,r);break;case 24:hc(i,r),o&2048&&Ro(r.alternate,r);break;default:hc(i,r)}t=t.sibling}}var mc=8192;function ds(e,t,i){if(e.subtreeFlags&mc)for(e=e.child;e!==null;)gm(e,t,i),e=e.sibling}function gm(e,t,i){switch(e.tag){case 26:ds(e,t,i),e.flags&mc&&e.memoizedState!==null&&ry(i,Bn,e.memoizedState,e.memoizedProps);break;case 5:ds(e,t,i);break;case 3:case 4:var r=Bn;Bn=Fr(e.stateNode.containerInfo),ds(e,t,i),Bn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=mc,mc=16777216,ds(e,t,i),mc=r):ds(e,t,i));break;default:ds(e,t,i)}}function bm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Ct=r,xm(r,e)}bm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ym(e),e=e.sibling}function ym(e){switch(e.tag){case 0:case 11:case 15:pc(e),e.flags&2048&&La(9,e,e.return);break;case 3:pc(e);break;case 12:pc(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Lr(e)):pc(e);break;default:pc(e)}}function Lr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Ct=r,xm(r,e)}bm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:La(8,t,t.return),Lr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Lr(t));break;default:Lr(t)}e=e.sibling}}function xm(e,t){for(;Ct!==null;){var i=Ct;switch(i.tag){case 0:case 11:case 15:La(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Js(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Ct=r;else e:for(i=e;Ct!==null;){r=Ct;var o=r.sibling,f=r.return;if(um(r),r===i){Ct=null;break e}if(o!==null){o.return=f,Ct=o;break e}Ct=f}}}var vb={getCacheForType:function(e){var t=Ut(gt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Ut(gt).controller.signal}},Ab=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Re=null,Le=0,Qe=0,dn=null,Ga=!1,hs=!1,Do=!1,ua=0,ft=0,Ia=0,Ti=0,Lo=0,hn=0,ms=0,gc=null,$t=null,Go=!1,Gr=0,Em=0,Ir=1/0,Mr=null,Ma=null,vt=0,Ha=null,ps=null,oa=0,Io=0,Mo=null,_m=null,bc=0,Ho=null;function mn(){return(Ye&2)!==0&&Le!==0?Le&-Le:w.T!==null?qo():Md()}function vm(){if(hn===0)if((Le&536870912)===0||Me){var e=Yc;Yc<<=1,(Yc&3932160)===0&&(Yc=262144),hn=e}else hn=536870912;return e=on.current,e!==null&&(e.flags|=32),hn}function Jt(e,t,i){(e===it&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(gs(e,0),ka(e,Le,hn,!1)),Hs(e,i),((Ye&2)===0||e!==it)&&(e===it&&((Ye&2)===0&&(Ti|=i),ft===4&&ka(e,Le,hn,!1)),kn(e))}function Am(e,t,i){if((Ye&6)!==0)throw Error(c(327));var r=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Ms(e,t),o=r?Ob(e,t):zo(e,t,!0),f=r;do{if(o===0){hs&&!r&&ka(e,t,0,!1);break}else{if(i=e.current.alternate,f&&!Sb(i)){o=zo(e,t,!1),f=!1;continue}if(o===2){if(f=t,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var x=e;o=gc;var T=x.current.memoizedState.isDehydrated;if(T&&(gs(x,g).flags|=256),g=zo(x,g,!1),g!==2){if(Do&&!T){x.errorRecoveryDisabledLanes|=f,Ti|=f,o=4;break e}f=$t,$t=o,f!==null&&($t===null?$t=f:$t.push.apply($t,f))}o=g}if(f=!1,o!==2)continue}}if(o===1){gs(e,0),ka(e,t,0,!0);break}e:{switch(r=e,f=o,f){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:ka(r,t,hn,!Ga);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(o=Gr+300-sn(),10<o)){if(ka(r,t,hn,!Ga),Fc(r,0,!0)!==0)break e;oa=t,r.timeoutHandle=e1(Sm.bind(null,r,i,$t,Mr,Go,t,hn,Ti,ms,Ga,f,"Throttled",-0,0),o);break e}Sm(r,i,$t,Mr,Go,t,hn,Ti,ms,Ga,f,null,-0,0)}}break}while(!0);kn(e)}function Sm(e,t,i,r,o,f,g,x,T,G,V,X,I,j){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},gm(t,f,X);var he=(f&62914560)===f?Gr-sn():(f&4194048)===f?Em-sn():0;if(he=ly(X,he),he!==null){oa=f,e.cancelPendingCommit=he(Rm.bind(null,e,t,f,i,r,o,g,x,T,V,X,null,I,j)),ka(e,f,g,!G);return}}Rm(e,t,f,i,r,o,g,x,T)}function Sb(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var o=i[r],f=o.getSnapshot;o=o.value;try{if(!ln(f(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ka(e,t,i,r){t&=~Lo,t&=~Ti,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var f=31-rn(o),g=1<<f;r[f]=-1,o&=~g}i!==0&&Ld(e,i,t)}function Hr(){return(Ye&6)===0?(yc(0),!1):!0}function ko(){if(Re!==null){if(Qe===0)var e=Re.return;else e=Re,Wn=gi=null,eo(e),cs=null,ec=0,e=Re;for(;e!==null;)tm(e.alternate,e),e=e.return;Re=null}}function gs(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,qb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),oa=0,ko(),it=e,Re=i=$n(e.current,null),Le=t,Qe=0,dn=null,Ga=!1,hs=Ms(e,t),Do=!1,ms=hn=Lo=Ti=Ia=ft=0,$t=gc=null,Go=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-rn(r),f=1<<o;t|=e[o],r&=~f}return ua=t,sr(),i}function Tm(e,t){Ce=null,w.H=lc,t===ss||t===hr?(t=j0(),Qe=3):t===Vu?(t=j0(),Qe=4):Qe=t===bo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,dn=t,Re===null&&(ft=1,Cr(e,yn(t,e.current)))}function Om(){var e=on.current;return e===null?!0:(Le&4194048)===Le?vn===null:(Le&62914560)===Le||(Le&536870912)!==0?e===vn:!1}function Cm(){var e=w.H;return w.H=lc,e===null?lc:e}function wm(){var e=w.A;return w.A=vb,e}function kr(){ft=4,Ga||(Le&4194048)!==Le&&on.current!==null||(hs=!0),(Ia&134217727)===0&&(Ti&134217727)===0||it===null||ka(it,Le,hn,!1)}function zo(e,t,i){var r=Ye;Ye|=2;var o=Cm(),f=wm();(it!==e||Le!==t)&&(Mr=null,gs(e,t)),t=!1;var g=ft;e:do try{if(Qe!==0&&Re!==null){var x=Re,T=dn;switch(Qe){case 8:ko(),g=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(t=!0);var G=Qe;if(Qe=0,dn=null,bs(e,x,T,G),i&&hs){g=0;break e}break;default:G=Qe,Qe=0,dn=null,bs(e,x,T,G)}}Tb(),g=ft;break}catch(V){Tm(e,V)}while(!0);return t&&e.shellSuspendCounter++,Wn=gi=null,Ye=r,w.H=o,w.A=f,Re===null&&(it=null,Le=0,sr()),g}function Tb(){for(;Re!==null;)Nm(Re)}function Ob(e,t){var i=Ye;Ye|=2;var r=Cm(),o=wm();it!==e||Le!==t?(Mr=null,Ir=sn()+500,gs(e,t)):hs=Ms(e,t);e:do try{if(Qe!==0&&Re!==null){t=Re;var f=dn;t:switch(Qe){case 1:Qe=0,dn=null,bs(e,t,f,1);break;case 2:case 9:if(k0(f)){Qe=0,dn=null,Bm(t);break}t=function(){Qe!==2&&Qe!==9||it!==e||(Qe=7),kn(e)},f.then(t,t);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:k0(f)?(Qe=0,dn=null,Bm(t)):(Qe=0,dn=null,bs(e,t,f,7));break;case 5:var g=null;switch(Re.tag){case 26:g=Re.memoizedState;case 5:case 27:var x=Re;if(g?p1(g):x.stateNode.complete){Qe=0,dn=null;var T=x.sibling;if(T!==null)Re=T;else{var G=x.return;G!==null?(Re=G,zr(G)):Re=null}break t}}Qe=0,dn=null,bs(e,t,f,5);break;case 6:Qe=0,dn=null,bs(e,t,f,6);break;case 8:ko(),ft=6;break e;default:throw Error(c(462))}}Cb();break}catch(V){Tm(e,V)}while(!0);return Wn=gi=null,w.H=r,w.A=o,Ye=i,Re!==null?0:(it=null,Le=0,sr(),ft)}function Cb(){for(;Re!==null&&!Qg();)Nm(Re)}function Nm(e){var t=Wh(e.alternate,e,ua);e.memoizedProps=e.pendingProps,t===null?zr(e):Re=t}function Bm(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Fh(i,t,t.pendingProps,t.type,void 0,Le);break;case 11:t=Fh(i,t,t.pendingProps,t.type.render,t.ref,Le);break;case 5:eo(t);default:tm(i,t),t=Re=w0(t,ua),t=Wh(i,t,ua)}e.memoizedProps=e.pendingProps,t===null?zr(e):Re=t}function bs(e,t,i,r){Wn=gi=null,eo(t),cs=null,ec=0;var o=t.return;try{if(pb(e,o,t,i,Le)){ft=1,Cr(e,yn(i,e.current)),Re=null;return}}catch(f){if(o!==null)throw Re=o,f;ft=1,Cr(e,yn(i,e.current)),Re=null;return}t.flags&32768?(Me||r===1?e=!0:hs||(Le&536870912)!==0?e=!1:(Ga=e=!0,(r===2||r===9||r===3||r===6)&&(r=on.current,r!==null&&r.tag===13&&(r.flags|=16384))),Um(t,e)):zr(t)}function zr(e){var t=e;do{if((t.flags&32768)!==0){Um(t,Ga);return}e=t.return;var i=yb(t.alternate,t,ua);if(i!==null){Re=i;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);ft===0&&(ft=5)}function Um(e,t){do{var i=xb(e.alternate,e);if(i!==null){i.flags&=32767,Re=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=i}while(e!==null);ft=6,Re=null}function Rm(e,t,i,r,o,f,g,x,T){e.cancelPendingCommit=null;do jr();while(vt!==0);if((Ye&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(f=t.lanes|t.childLanes,f|=Cu,c2(e,i,f,g,x,T),e===it&&(Re=it=null,Le=0),ps=t,Ha=e,oa=i,Io=f,Mo=o,_m=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ub(Pc,function(){return Mm(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=w.T,w.T=null,o=H.p,H.p=2,g=Ye,Ye|=4;try{Eb(e,t,i)}finally{Ye=g,H.p=o,w.T=r}}vt=1,Dm(),Lm(),Gm()}}function Dm(){if(vt===1){vt=0;var e=Ha,t=ps,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=w.T,w.T=null;var r=H.p;H.p=2;var o=Ye;Ye|=4;try{hm(t,e);var f=Jo,g=x0(e.containerInfo),x=f.focusedElem,T=f.selectionRange;if(g!==x&&x&&x.ownerDocument&&y0(x.ownerDocument.documentElement,x)){if(T!==null&&vu(x)){var G=T.start,V=T.end;if(V===void 0&&(V=G),"selectionStart"in x)x.selectionStart=G,x.selectionEnd=Math.min(V,x.value.length);else{var X=x.ownerDocument||document,I=X&&X.defaultView||window;if(I.getSelection){var j=I.getSelection(),he=x.textContent.length,Se=Math.min(T.start,he),tt=T.end===void 0?Se:Math.min(T.end,he);!j.extend&&Se>tt&&(g=tt,tt=Se,Se=g);var U=b0(x,Se),N=b0(x,tt);if(U&&N&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var L=X.createRange();L.setStart(U.node,U.offset),j.removeAllRanges(),Se>tt?(j.addRange(L),j.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),j.addRange(L))}}}}for(X=[],j=x;j=j.parentNode;)j.nodeType===1&&X.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<X.length;x++){var F=X[x];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Wr=!!$o,Jo=$o=null}finally{Ye=o,H.p=r,w.T=i}}e.current=t,vt=2}}function Lm(){if(vt===2){vt=0;var e=Ha,t=ps,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=w.T,w.T=null;var r=H.p;H.p=2;var o=Ye;Ye|=4;try{lm(e,t.alternate,t)}finally{Ye=o,H.p=r,w.T=i}}vt=3}}function Gm(){if(vt===4||vt===3){vt=0,$g();var e=Ha,t=ps,i=oa,r=_m;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?vt=5:(vt=0,ps=Ha=null,Im(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ma=null),au(i),t=t.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Is,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=w.T,o=H.p,H.p=2,w.T=null;try{for(var f=e.onRecoverableError,g=0;g<r.length;g++){var x=r[g];f(x.value,{componentStack:x.stack})}}finally{w.T=t,H.p=o}}(oa&3)!==0&&jr(),kn(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===Ho?bc++:(bc=0,Ho=e):bc=0,yc(0)}}function Im(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Js(t)))}function jr(){return Dm(),Lm(),Gm(),Mm()}function Mm(){if(vt!==5)return!1;var e=Ha,t=Io;Io=0;var i=au(oa),r=w.T,o=H.p;try{H.p=32>i?32:i,w.T=null,i=Mo,Mo=null;var f=Ha,g=oa;if(vt=0,ps=Ha=null,oa=0,(Ye&6)!==0)throw Error(c(331));var x=Ye;if(Ye|=4,ym(f.current),pm(f,f.current,g,i),Ye=x,yc(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Is,f)}catch{}return!0}finally{H.p=o,w.T=r,Im(e,t)}}function Hm(e,t,i){t=yn(i,t),t=go(e.stateNode,t,2),e=Ua(e,t,2),e!==null&&(Hs(e,2),kn(e))}function $e(e,t,i){if(e.tag===3)Hm(e,e,i);else for(;t!==null;){if(t.tag===3){Hm(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ma===null||!Ma.has(r))){e=yn(i,e),i=kh(2),r=Ua(t,i,2),r!==null&&(zh(i,r,t,e),Hs(r,2),kn(r));break}}t=t.return}}function jo(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new Ab;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(i)||(Do=!0,o.add(i),e=wb.bind(null,e,t,i),t.then(e,e))}function wb(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,it===e&&(Le&i)===i&&(ft===4||ft===3&&(Le&62914560)===Le&&300>sn()-Gr?(Ye&2)===0&&gs(e,0):Lo|=i,ms===Le&&(ms=0)),kn(e)}function km(e,t){t===0&&(t=Dd()),e=hi(e,t),e!==null&&(Hs(e,t),kn(e))}function Nb(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),km(e,i)}function Bb(e,t){var i=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(c(314))}r!==null&&r.delete(t),km(e,i)}function Ub(e,t){return Wl(e,t)}var Vr=null,ys=null,Vo=!1,Pr=!1,Po=!1,za=0;function kn(e){e!==ys&&e.next===null&&(ys===null?Vr=ys=e:ys=ys.next=e),Pr=!0,Vo||(Vo=!0,Db())}function yc(e,t){if(!Po&&Pr){Po=!0;do for(var i=!1,r=Vr;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var f=0;else{var g=r.suspendedLanes,x=r.pingedLanes;f=(1<<31-rn(42|e)+1)-1,f&=o&~(g&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Pm(r,f))}else f=Le,f=Fc(r,r===it?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||Ms(r,f)||(i=!0,Pm(r,f));r=r.next}while(i);Po=!1}}function Rb(){zm()}function zm(){Pr=Vo=!1;var e=0;za!==0&&Pb()&&(e=za);for(var t=sn(),i=null,r=Vr;r!==null;){var o=r.next,f=jm(r,t);f===0?(r.next=null,i===null?Vr=o:i.next=o,o===null&&(ys=i)):(i=r,(e!==0||(f&3)!==0)&&(Pr=!0)),r=o}vt!==0&&vt!==5||yc(e),za!==0&&(za=0)}function jm(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-rn(f),x=1<<g,T=o[g];T===-1?((x&i)===0||(x&r)!==0)&&(o[g]=s2(x,t)):T<=t&&(e.expiredLanes|=x),f&=~x}if(t=it,i=Le,i=Fc(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&eu(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ms(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&eu(r),au(i)){case 2:case 8:i=Ud;break;case 32:i=Pc;break;case 268435456:i=Rd;break;default:i=Pc}return r=Vm.bind(null,e),i=Wl(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&eu(r),e.callbackPriority=2,e.callbackNode=null,2}function Vm(e,t){if(vt!==0&&vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(jr()&&e.callbackNode!==i)return null;var r=Le;return r=Fc(e,e===it?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Am(e,r,t),jm(e,sn()),e.callbackNode!=null&&e.callbackNode===i?Vm.bind(null,e):null)}function Pm(e,t){if(jr())return null;Am(e,t,!0)}function Db(){Yb(function(){(Ye&6)!==0?Wl(Bd,Rb):zm()})}function qo(){if(za===0){var e=as;e===0&&(e=qc,qc<<=1,(qc&261888)===0&&(qc=256)),za=e}return za}function qm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$c(""+e)}function Ym(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Lb(e,t,i,r,o){if(t==="submit"&&i&&i.stateNode===o){var f=qm((o[Zt]||null).action),g=r.submitter;g&&(t=(t=g[Zt]||null)?qm(t.formAction):g.getAttribute("formAction"),t!==null&&(f=t,g=null));var x=new tr("action","action",null,r,o);e.push({event:x,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(za!==0){var T=g?Ym(o,g):new FormData(o);uo(i,{pending:!0,data:T,method:o.method,action:f},null,T)}}else typeof f=="function"&&(x.preventDefault(),T=g?Ym(o,g):new FormData(o),uo(i,{pending:!0,data:T,method:o.method,action:f},f,T))},currentTarget:o}]})}}for(var Yo=0;Yo<Ou.length;Yo++){var Zo=Ou[Yo],Gb=Zo.toLowerCase(),Ib=Zo[0].toUpperCase()+Zo.slice(1);Nn(Gb,"on"+Ib)}Nn(v0,"onAnimationEnd"),Nn(A0,"onAnimationIteration"),Nn(S0,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(J2,"onTransitionRun"),Nn(W2,"onTransitionStart"),Nn(eb,"onTransitionCancel"),Nn(T0,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xc));function Zm(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],o=r.event;r=r.listeners;e:{var f=void 0;if(t)for(var g=r.length-1;0<=g;g--){var x=r[g],T=x.instance,G=x.currentTarget;if(x=x.listener,T!==f&&o.isPropagationStopped())break e;f=x,o.currentTarget=G;try{f(o)}catch(V){ir(V)}o.currentTarget=null,f=T}else for(g=0;g<r.length;g++){if(x=r[g],T=x.instance,G=x.currentTarget,x=x.listener,T!==f&&o.isPropagationStopped())break e;f=x,o.currentTarget=G;try{f(o)}catch(V){ir(V)}o.currentTarget=null,f=T}}}}function De(e,t){var i=t[iu];i===void 0&&(i=t[iu]=new Set);var r=e+"__bubble";i.has(r)||(Fm(t,e,2,!1),i.add(r))}function Fo(e,t,i){var r=0;t&&(r|=4),Fm(i,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Xo(e){if(!e[qr]){e[qr]=!0,zd.forEach(function(i){i!=="selectionchange"&&(Mb.has(i)||Fo(i,!1,e),Fo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qr]||(t[qr]=!0,Fo("selectionchange",!1,t))}}function Fm(e,t,i,r){switch(v1(t)){case 2:var o=fy;break;case 8:o=dy;break;default:o=of}i=o.bind(null,t,i,e),o=void 0,!hu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function Ko(e,t,i,r,o){var f=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var g=r.tag;if(g===3||g===4){var x=r.stateNode.containerInfo;if(x===o)break;if(g===4)for(g=r.return;g!==null;){var T=g.tag;if((T===3||T===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;x!==null;){if(g=zi(x),g===null)return;if(T=g.tag,T===5||T===6||T===26||T===27){r=f=g;continue e}x=x.parentNode}}r=r.return}Jd(function(){var G=f,V=fu(i),X=[];e:{var I=O0.get(e);if(I!==void 0){var j=tr,he=e;switch(e){case"keypress":if(Wc(i)===0)break e;case"keydown":case"keyup":j=B2;break;case"focusin":he="focus",j=bu;break;case"focusout":he="blur",j=bu;break;case"beforeblur":case"afterblur":j=bu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=t0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=y2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=D2;break;case v0:case A0:case S0:j=_2;break;case T0:j=G2;break;case"scroll":case"scrollend":j=g2;break;case"wheel":j=M2;break;case"copy":case"cut":case"paste":j=A2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=a0;break;case"toggle":case"beforetoggle":j=k2}var Se=(t&4)!==0,tt=!Se&&(e==="scroll"||e==="scrollend"),U=Se?I!==null?I+"Capture":null:I;Se=[];for(var N=G,L;N!==null;){var F=N;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||U===null||(F=js(N,U),F!=null&&Se.push(Ec(N,F,L))),tt)break;N=N.return}0<Se.length&&(I=new j(I,he,null,i,V),X.push({event:I,listeners:Se}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",I&&i!==ou&&(he=i.relatedTarget||i.fromElement)&&(zi(he)||he[ki]))break e;if((j||I)&&(I=V.window===V?V:(I=V.ownerDocument)?I.defaultView||I.parentWindow:window,j?(he=i.relatedTarget||i.toElement,j=G,he=he?zi(he):null,he!==null&&(tt=u(he),Se=he.tag,he!==tt||Se!==5&&Se!==27&&Se!==6)&&(he=null)):(j=null,he=G),j!==he)){if(Se=t0,F="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Se=a0,F="onPointerLeave",U="onPointerEnter",N="pointer"),tt=j==null?I:zs(j),L=he==null?I:zs(he),I=new Se(F,N+"leave",j,i,V),I.target=tt,I.relatedTarget=L,F=null,zi(V)===G&&(Se=new Se(U,N+"enter",he,i,V),Se.target=L,Se.relatedTarget=tt,F=Se),tt=F,j&&he)t:{for(Se=Hb,U=j,N=he,L=0,F=U;F;F=Se(F))L++;F=0;for(var _e=N;_e;_e=Se(_e))F++;for(;0<L-F;)U=Se(U),L--;for(;0<F-L;)N=Se(N),F--;for(;L--;){if(U===N||N!==null&&U===N.alternate){Se=U;break t}U=Se(U),N=Se(N)}Se=null}else Se=null;j!==null&&Xm(X,I,j,Se,!1),he!==null&&tt!==null&&Xm(X,tt,he,Se,!0)}}e:{if(I=G?zs(G):window,j=I.nodeName&&I.nodeName.toLowerCase(),j==="select"||j==="input"&&I.type==="file")var je=f0;else if(u0(I))if(d0)je=K2;else{je=F2;var be=Z2}else j=I.nodeName,!j||j.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?G&&uu(G.elementType)&&(je=f0):je=X2;if(je&&(je=je(e,G))){o0(X,je,i,V);break e}be&&be(e,I,G),e==="focusout"&&G&&I.type==="number"&&G.memoizedProps.value!=null&&lu(I,"number",I.value)}switch(be=G?zs(G):window,e){case"focusin":(u0(be)||be.contentEditable==="true")&&(Ki=be,Au=G,Ks=null);break;case"focusout":Ks=Au=Ki=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,E0(X,i,V);break;case"selectionchange":if($2)break;case"keydown":case"keyup":E0(X,i,V)}var we;if(xu)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Xi?r0(e,i)&&(Ge="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ge="onCompositionStart");Ge&&(i0&&i.locale!=="ko"&&(Xi||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Xi&&(we=Wd()):(Sa=V,mu="value"in Sa?Sa.value:Sa.textContent,Xi=!0)),be=Yr(G,Ge),0<be.length&&(Ge=new n0(Ge,e,null,i,V),X.push({event:Ge,listeners:be}),we?Ge.data=we:(we=l0(i),we!==null&&(Ge.data=we)))),(we=j2?V2(e,i):P2(e,i))&&(Ge=Yr(G,"onBeforeInput"),0<Ge.length&&(be=new n0("onBeforeInput","beforeinput",null,i,V),X.push({event:be,listeners:Ge}),be.data=we)),Lb(X,e,G,i,V)}Zm(X,t)})}function Ec(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Yr(e,t){for(var i=t+"Capture",r=[];e!==null;){var o=e,f=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||f===null||(o=js(e,i),o!=null&&r.unshift(Ec(e,o,f)),o=js(e,t),o!=null&&r.push(Ec(e,o,f))),e.tag===3)return r;e=e.return}return[]}function Hb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xm(e,t,i,r,o){for(var f=t._reactName,g=[];i!==null&&i!==r;){var x=i,T=x.alternate,G=x.stateNode;if(x=x.tag,T!==null&&T===r)break;x!==5&&x!==26&&x!==27||G===null||(T=G,o?(G=js(i,f),G!=null&&g.unshift(Ec(i,G,T))):o||(G=js(i,f),G!=null&&g.push(Ec(i,G,T)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var kb=/\r\n?/g,zb=/\u0000|\uFFFD/g;function Km(e){return(typeof e=="string"?e:""+e).replace(kb,`
`).replace(zb,"")}function Qm(e,t){return t=Km(t),Km(e)===t}function et(e,t,i,r,o,f){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Yi(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Yi(e,""+r);break;case"className":Kc(e,"class",r);break;case"tabIndex":Kc(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Kc(e,i,r);break;case"style":Qd(e,r,f);break;case"data":if(t!=="object"){Kc(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=$c(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(t!=="input"&&et(e,t,"name",o.name,o,null),et(e,t,"formEncType",o.formEncType,o,null),et(e,t,"formMethod",o.formMethod,o,null),et(e,t,"formTarget",o.formTarget,o,null)):(et(e,t,"encType",o.encType,o,null),et(e,t,"method",o.method,o,null),et(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=$c(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=Kn);break;case"onScroll":r!=null&&De("scroll",e);break;case"onScrollEnd":r!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(c(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=$c(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":De("beforetoggle",e),De("toggle",e),Xc(e,"popover",r);break;case"xlinkActuate":Xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Xn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Xn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Xn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Xn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Xc(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=m2.get(i)||i,Xc(e,i,r))}}function Qo(e,t,i,r,o,f){switch(i){case"style":Qd(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(c(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"children":typeof r=="string"?Yi(e,r):(typeof r=="number"||typeof r=="bigint")&&Yi(e,""+r);break;case"onScroll":r!=null&&De("scroll",e);break;case"onScrollEnd":r!=null&&De("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jd.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),f=e[Zt]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(t,f,o),typeof r=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,o);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):Xc(e,i,r)}}}function Dt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var r=!1,o=!1,f;for(f in i)if(i.hasOwnProperty(f)){var g=i[f];if(g!=null)switch(f){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:et(e,t,f,g,i,null)}}o&&et(e,t,"srcSet",i.srcSet,i,null),r&&et(e,t,"src",i.src,i,null);return;case"input":De("invalid",e);var x=f=g=o=null,T=null,G=null;for(r in i)if(i.hasOwnProperty(r)){var V=i[r];if(V!=null)switch(r){case"name":o=V;break;case"type":g=V;break;case"checked":T=V;break;case"defaultChecked":G=V;break;case"value":f=V;break;case"defaultValue":x=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(c(137,t));break;default:et(e,t,r,V,i,null)}}Zd(e,f,x,T,G,g,o,!1);return;case"select":De("invalid",e),r=g=f=null;for(o in i)if(i.hasOwnProperty(o)&&(x=i[o],x!=null))switch(o){case"value":f=x;break;case"defaultValue":g=x;break;case"multiple":r=x;default:et(e,t,o,x,i,null)}t=f,i=g,e.multiple=!!r,t!=null?qi(e,!!r,t,!1):i!=null&&qi(e,!!r,i,!0);return;case"textarea":De("invalid",e),f=o=r=null;for(g in i)if(i.hasOwnProperty(g)&&(x=i[g],x!=null))switch(g){case"value":r=x;break;case"defaultValue":o=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(c(91));break;default:et(e,t,g,x,i,null)}Xd(e,r,o,f);return;case"option":for(T in i)if(i.hasOwnProperty(T)&&(r=i[T],r!=null))switch(T){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:et(e,t,T,r,i,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(r=0;r<xc.length;r++)De(xc[r],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in i)if(i.hasOwnProperty(G)&&(r=i[G],r!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:et(e,t,G,r,i,null)}return;default:if(uu(t)){for(V in i)i.hasOwnProperty(V)&&(r=i[V],r!==void 0&&Qo(e,t,V,r,i,void 0));return}}for(x in i)i.hasOwnProperty(x)&&(r=i[x],r!=null&&et(e,t,x,r,i,null))}function jb(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,f=null,g=null,x=null,T=null,G=null,V=null;for(j in i){var X=i[j];if(i.hasOwnProperty(j)&&X!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":T=X;default:r.hasOwnProperty(j)||et(e,t,j,null,r,X)}}for(var I in r){var j=r[I];if(X=i[I],r.hasOwnProperty(I)&&(j!=null||X!=null))switch(I){case"type":f=j;break;case"name":o=j;break;case"checked":G=j;break;case"defaultChecked":V=j;break;case"value":g=j;break;case"defaultValue":x=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(c(137,t));break;default:j!==X&&et(e,t,I,j,r,X)}}ru(e,g,x,T,G,V,f,o);return;case"select":j=g=x=I=null;for(f in i)if(T=i[f],i.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":j=T;default:r.hasOwnProperty(f)||et(e,t,f,null,r,T)}for(o in r)if(f=r[o],T=i[o],r.hasOwnProperty(o)&&(f!=null||T!=null))switch(o){case"value":I=f;break;case"defaultValue":x=f;break;case"multiple":g=f;default:f!==T&&et(e,t,o,f,r,T)}t=x,i=g,r=j,I!=null?qi(e,!!i,I,!1):!!r!=!!i&&(t!=null?qi(e,!!i,t,!0):qi(e,!!i,i?[]:"",!1));return;case"textarea":j=I=null;for(x in i)if(o=i[x],i.hasOwnProperty(x)&&o!=null&&!r.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:et(e,t,x,null,r,o)}for(g in r)if(o=r[g],f=i[g],r.hasOwnProperty(g)&&(o!=null||f!=null))switch(g){case"value":I=o;break;case"defaultValue":j=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(c(91));break;default:o!==f&&et(e,t,g,o,r,f)}Fd(e,I,j);return;case"option":for(var he in i)if(I=i[he],i.hasOwnProperty(he)&&I!=null&&!r.hasOwnProperty(he))switch(he){case"selected":e.selected=!1;break;default:et(e,t,he,null,r,I)}for(T in r)if(I=r[T],j=i[T],r.hasOwnProperty(T)&&I!==j&&(I!=null||j!=null))switch(T){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:et(e,t,T,I,r,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in i)I=i[Se],i.hasOwnProperty(Se)&&I!=null&&!r.hasOwnProperty(Se)&&et(e,t,Se,null,r,I);for(G in r)if(I=r[G],j=i[G],r.hasOwnProperty(G)&&I!==j&&(I!=null||j!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(c(137,t));break;default:et(e,t,G,I,r,j)}return;default:if(uu(t)){for(var tt in i)I=i[tt],i.hasOwnProperty(tt)&&I!==void 0&&!r.hasOwnProperty(tt)&&Qo(e,t,tt,void 0,r,I);for(V in r)I=r[V],j=i[V],!r.hasOwnProperty(V)||I===j||I===void 0&&j===void 0||Qo(e,t,V,I,r,j);return}}for(var U in i)I=i[U],i.hasOwnProperty(U)&&I!=null&&!r.hasOwnProperty(U)&&et(e,t,U,null,r,I);for(X in r)I=r[X],j=i[X],!r.hasOwnProperty(X)||I===j||I==null&&j==null||et(e,t,X,I,r,j)}function $m(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var o=i[r],f=o.transferSize,g=o.initiatorType,x=o.duration;if(f&&x&&$m(g)){for(g=0,x=o.responseEnd,r+=1;r<i.length;r++){var T=i[r],G=T.startTime;if(G>x)break;var V=T.transferSize,X=T.initiatorType;V&&$m(X)&&(T=T.responseEnd,g+=V*(T<x?1:(x-G)/(T-G)))}if(--r,t+=8*(f+g)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $o=null,Jo=null;function Zr(e){return e.nodeType===9?e:e.ownerDocument}function Jm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Wo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ef=null;function Pb(){var e=window.event;return e&&e.type==="popstate"?e===ef?!1:(ef=e,!0):(ef=null,!1)}var e1=typeof setTimeout=="function"?setTimeout:void 0,qb=typeof clearTimeout=="function"?clearTimeout:void 0,t1=typeof Promise=="function"?Promise:void 0,Yb=typeof queueMicrotask=="function"?queueMicrotask:typeof t1<"u"?function(e){return t1.resolve(null).then(e).catch(Zb)}:e1;function Zb(e){setTimeout(function(){throw e})}function ja(e){return e==="head"}function n1(e,t){var i=t,r=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(r===0){e.removeChild(o),vs(t);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")_c(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,_c(i);for(var f=i.firstChild;f;){var g=f.nextSibling,x=f.nodeName;f[ks]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=g}}else i==="body"&&_c(e.ownerDocument.body);i=o}while(i);vs(t)}function a1(e,t){var i=e;e=0;do{var r=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=r}while(i)}function tf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":tf(i),su(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Fb(e,t,i,r){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[ks])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function Xb(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=An(e.nextSibling),e===null))return null;return e}function i1(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=An(e.nextSibling),e===null))return null;return e}function nf(e){return e.data==="$?"||e.data==="$~"}function af(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Kb(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var sf=null;function s1(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return An(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function c1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function r1(e,t,i){switch(t=Zr(i),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function _c(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);su(e)}var Sn=new Map,l1=new Set;function Fr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fa=H.d;H.d={f:Qb,r:$b,D:Jb,C:Wb,L:ey,m:ty,X:ay,S:ny,M:iy};function Qb(){var e=fa.f(),t=Hr();return e||t}function $b(e){var t=ji(e);t!==null&&t.tag===5&&t.type==="form"?Th(t):fa.r(e)}var xs=typeof document>"u"?null:document;function u1(e,t,i){var r=xs;if(r&&typeof t=="string"&&t){var o=gn(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),l1.has(o)||(l1.add(o),e={rel:e,crossOrigin:i,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),Dt(t,"link",e),Ot(t),r.head.appendChild(t)))}}function Jb(e){fa.D(e),u1("dns-prefetch",e,null)}function Wb(e,t){fa.C(e,t),u1("preconnect",e,t)}function ey(e,t,i){fa.L(e,t,i);var r=xs;if(r&&e&&t){var o='link[rel="preload"][as="'+gn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+gn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+gn(i.imageSizes)+'"]')):o+='[href="'+gn(e)+'"]';var f=o;switch(t){case"style":f=Es(e);break;case"script":f=_s(e)}Sn.has(f)||(e=b({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Sn.set(f,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(vc(f))||t==="script"&&r.querySelector(Ac(f))||(t=r.createElement("link"),Dt(t,"link",e),Ot(t),r.head.appendChild(t)))}}function ty(e,t){fa.m(e,t);var i=xs;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+gn(r)+'"][href="'+gn(e)+'"]',f=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_s(e)}if(!Sn.has(f)&&(e=b({rel:"modulepreload",href:e},t),Sn.set(f,e),i.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ac(f)))return}r=i.createElement("link"),Dt(r,"link",e),Ot(r),i.head.appendChild(r)}}}function ny(e,t,i){fa.S(e,t,i);var r=xs;if(r&&e){var o=Vi(r).hoistableStyles,f=Es(e);t=t||"default";var g=o.get(f);if(!g){var x={loading:0,preload:null};if(g=r.querySelector(vc(f)))x.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Sn.get(f))&&cf(e,i);var T=g=r.createElement("link");Ot(T),Dt(T,"link",e),T._p=new Promise(function(G,V){T.onload=G,T.onerror=V}),T.addEventListener("load",function(){x.loading|=1}),T.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Xr(g,t,r)}g={type:"stylesheet",instance:g,count:1,state:x},o.set(f,g)}}}function ay(e,t){fa.X(e,t);var i=xs;if(i&&e){var r=Vi(i).hoistableScripts,o=_s(e),f=r.get(o);f||(f=i.querySelector(Ac(o)),f||(e=b({src:e,async:!0},t),(t=Sn.get(o))&&rf(e,t),f=i.createElement("script"),Ot(f),Dt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(o,f))}}function iy(e,t){fa.M(e,t);var i=xs;if(i&&e){var r=Vi(i).hoistableScripts,o=_s(e),f=r.get(o);f||(f=i.querySelector(Ac(o)),f||(e=b({src:e,async:!0,type:"module"},t),(t=Sn.get(o))&&rf(e,t),f=i.createElement("script"),Ot(f),Dt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(o,f))}}function o1(e,t,i,r){var o=(o=ne.current)?Fr(o):null;if(!o)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Es(i.href),i=Vi(o).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Es(i.href);var f=Vi(o).hoistableStyles,g=f.get(e);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=o.querySelector(vc(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Sn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Sn.set(e,i),f||sy(o,e,i,g.state))),t&&r===null)throw Error(c(528,""));return g}if(t&&r!==null)throw Error(c(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=_s(i),i=Vi(o).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Es(e){return'href="'+gn(e)+'"'}function vc(e){return'link[rel="stylesheet"]['+e+"]"}function f1(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function sy(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Dt(t,"link",i),Ot(t),e.head.appendChild(t))}function _s(e){return'[src="'+gn(e)+'"]'}function Ac(e){return"script[async]"+e}function d1(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gn(i.href)+'"]');if(r)return t.instance=r,Ot(r),r;var o=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Ot(r),Dt(r,"style",o),Xr(r,i.precedence,e),t.instance=r;case"stylesheet":o=Es(i.href);var f=e.querySelector(vc(o));if(f)return t.state.loading|=4,t.instance=f,Ot(f),f;r=f1(i),(o=Sn.get(o))&&cf(r,o),f=(e.ownerDocument||e).createElement("link"),Ot(f);var g=f;return g._p=new Promise(function(x,T){g.onload=x,g.onerror=T}),Dt(f,"link",r),t.state.loading|=4,Xr(f,i.precedence,e),t.instance=f;case"script":return f=_s(i.src),(o=e.querySelector(Ac(f)))?(t.instance=o,Ot(o),o):(r=i,(o=Sn.get(f))&&(r=b({},i),rf(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),Ot(o),Dt(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Xr(r,i.precedence,e));return t.instance}function Xr(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,f=o,g=0;g<r.length;g++){var x=r[g];if(x.dataset.precedence===t)f=x;else if(f!==o)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function cf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function rf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Kr=null;function h1(e,t,i){if(Kr===null){var r=new Map,o=Kr=new Map;o.set(i,r)}else o=Kr,r=o.get(i),r||(r=new Map,o.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var f=i[o];if(!(f[ks]||f[Nt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(t)||"";g=e+g;var x=r.get(g);x?x.push(f):r.set(g,[f])}}return r}function m1(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function cy(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function p1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ry(e,t,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=Es(r.href),f=t.querySelector(vc(o));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Qr.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=f,Ot(f);return}f=t.ownerDocument||t,r=f1(r),(o=Sn.get(o))&&cf(r,o),f=f.createElement("link"),Ot(f);var g=f;g._p=new Promise(function(x,T){g.onload=x,g.onerror=T}),Dt(f,"link",r),i.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Qr.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var lf=0;function ly(e,t){return e.stylesheets&&e.count===0&&Jr(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var r=setTimeout(function(){if(e.stylesheets&&Jr(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&lf===0&&(lf=62500*Vb());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jr(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>lf?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function Qr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $r=null;function Jr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$r=new Map,t.forEach(uy,e),$r=null,Qr.call(e))}function uy(e,t){if(!(t.state.loading&4)){var i=$r.get(e);if(i)var r=i.get(null);else{i=new Map,$r.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<o.length;f++){var g=o[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),r=g)}r&&i.set(null,r)}o=t.instance,g=o.getAttribute("data-precedence"),f=i.get(g)||r,f===r&&i.set(null,o),i.set(g,o),this.count++,r=Qr.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),f?f.parentNode.insertBefore(o,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Sc={$$typeof:K,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function oy(e,t,i,r,o,f,g,x,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.hiddenUpdates=tu(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function g1(e,t,i,r,o,f,g,x,T,G,V,X){return e=new oy(e,t,i,g,T,G,V,X,x),t=1,f===!0&&(t|=24),f=un(3,null,null,t),e.current=f,f.stateNode=e,t=ku(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:r,isDehydrated:i,cache:t},Pu(f),e}function b1(e){return e?(e=Ji,e):Ji}function y1(e,t,i,r,o,f){o=b1(o),r.context===null?r.context=o:r.pendingContext=o,r=Ba(t),r.payload={element:i},f=f===void 0?null:f,f!==null&&(r.callback=f),i=Ua(e,r,t),i!==null&&(Jt(i,e,t),nc(i,e,t))}function x1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function uf(e,t){x1(e,t),(e=e.alternate)&&x1(e,t)}function E1(e){if(e.tag===13||e.tag===31){var t=hi(e,67108864);t!==null&&Jt(t,e,67108864),uf(e,67108864)}}function _1(e){if(e.tag===13||e.tag===31){var t=mn();t=nu(t);var i=hi(e,t);i!==null&&Jt(i,e,t),uf(e,t)}}var Wr=!0;function fy(e,t,i,r){var o=w.T;w.T=null;var f=H.p;try{H.p=2,of(e,t,i,r)}finally{H.p=f,w.T=o}}function dy(e,t,i,r){var o=w.T;w.T=null;var f=H.p;try{H.p=8,of(e,t,i,r)}finally{H.p=f,w.T=o}}function of(e,t,i,r){if(Wr){var o=ff(r);if(o===null)Ko(e,t,r,el,i),A1(e,r);else if(my(o,e,t,i,r))r.stopPropagation();else if(A1(e,r),t&4&&-1<hy.indexOf(e)){for(;o!==null;){var f=ji(o);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=li(f.pendingLanes);if(g!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;g;){var T=1<<31-rn(g);x.entanglements[1]|=T,g&=~T}kn(f),(Ye&6)===0&&(Ir=sn()+500,yc(0))}}break;case 31:case 13:x=hi(f,2),x!==null&&Jt(x,f,2),Hr(),uf(f,2)}if(f=ff(r),f===null&&Ko(e,t,r,el,i),f===o)break;o=f}o!==null&&r.stopPropagation()}else Ko(e,t,r,null,i)}}function ff(e){return e=fu(e),df(e)}var el=null;function df(e){if(el=null,e=zi(e),e!==null){var t=u(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===31){if(e=m(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return el=e,null}function v1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jg()){case Bd:return 2;case Ud:return 8;case Pc:case Wg:return 32;case Rd:return 268435456;default:return 32}default:return 32}}var hf=!1,Va=null,Pa=null,qa=null,Tc=new Map,Oc=new Map,Ya=[],hy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A1(e,t){switch(e){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":Tc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(t.pointerId)}}function Cc(e,t,i,r,o,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:f,targetContainers:[o]},t!==null&&(t=ji(t),t!==null&&E1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function my(e,t,i,r,o){switch(t){case"focusin":return Va=Cc(Va,e,t,i,r,o),!0;case"dragenter":return Pa=Cc(Pa,e,t,i,r,o),!0;case"mouseover":return qa=Cc(qa,e,t,i,r,o),!0;case"pointerover":var f=o.pointerId;return Tc.set(f,Cc(Tc.get(f)||null,e,t,i,r,o)),!0;case"gotpointercapture":return f=o.pointerId,Oc.set(f,Cc(Oc.get(f)||null,e,t,i,r,o)),!0}return!1}function S1(e){var t=zi(e.target);if(t!==null){var i=u(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,Hd(e.priority,function(){_1(i)});return}}else if(t===31){if(t=m(i),t!==null){e.blockedOn=t,Hd(e.priority,function(){_1(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=ff(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);ou=r,i.target.dispatchEvent(r),ou=null}else return t=ji(i),t!==null&&E1(t),e.blockedOn=i,!1;t.shift()}return!0}function T1(e,t,i){tl(e)&&i.delete(t)}function py(){hf=!1,Va!==null&&tl(Va)&&(Va=null),Pa!==null&&tl(Pa)&&(Pa=null),qa!==null&&tl(qa)&&(qa=null),Tc.forEach(T1),Oc.forEach(T1)}function nl(e,t){e.blockedOn===t&&(e.blockedOn=null,hf||(hf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,py)))}var al=null;function O1(e){al!==e&&(al=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){al===e&&(al=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(df(r||i)===null)continue;break}var f=ji(i);f!==null&&(e.splice(t,3),t-=3,uo(f,{pending:!0,data:o,method:i.method,action:r},r,o))}}))}function vs(e){function t(T){return nl(T,e)}Va!==null&&nl(Va,e),Pa!==null&&nl(Pa,e),qa!==null&&nl(qa,e),Tc.forEach(t),Oc.forEach(t);for(var i=0;i<Ya.length;i++){var r=Ya[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ya.length&&(i=Ya[0],i.blockedOn===null);)S1(i),i.blockedOn===null&&Ya.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var o=i[r],f=i[r+1],g=o[Zt]||null;if(typeof f=="function")g||O1(i);else if(g){var x=null;if(f&&f.hasAttribute("formAction")){if(o=f,g=f[Zt]||null)x=g.formAction;else if(df(o)!==null)continue}else x=g.action;typeof x=="function"?i[r+1]=x:(i.splice(r,3),r-=3),O1(i)}}}function C1(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return o=g})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function mf(e){this._internalRoot=e}il.prototype.render=mf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var i=t.current,r=mn();y1(i,r,e,t,null,null)},il.prototype.unmount=mf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;y1(e.current,2,null,e,null,null),Hr(),t[ki]=null}};function il(e){this._internalRoot=e}il.prototype.unstable_scheduleHydration=function(e){if(e){var t=Md();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Ya.length&&t!==0&&t<Ya[i].priority;i++);Ya.splice(i,0,e),i===0&&S1(e)}};var w1=n.version;if(w1!=="19.2.4")throw Error(c(527,w1,"19.2.4"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=h(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var gy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{Is=sl.inject(gy),cn=sl}catch{}}return Nc.createRoot=function(e,t){if(!l(e))throw Error(c(299));var i=!1,r="",o=Gh,f=Ih,g=Mh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=g1(e,1,!1,null,null,i,r,null,o,f,g,C1),e[ki]=t.current,Xo(e),new mf(t)},Nc.hydrateRoot=function(e,t,i){if(!l(e))throw Error(c(299));var r=!1,o="",f=Gh,g=Ih,x=Mh,T=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.formState!==void 0&&(T=i.formState)),t=g1(e,1,!0,t,i??null,r,o,T,f,g,x,C1),t.context=b1(null),i=t.current,r=mn(),r=nu(r),o=Ba(r),o.callback=null,Ua(i,o,r),i=r,t.current.lanes=i,Hs(t,i),kn(t),e[ki]=t.current,Xo(e),new il(t)},Nc.version="19.2.4",Nc}var H1;function wy(){if(H1)return gf.exports;H1=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),gf.exports=Cy(),gf.exports}var Ny=wy(),Be=cd();/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Il(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&a.constructor.name==="Uint8Array"}function ya(a,n=""){if(!Number.isSafeInteger(a)||a<0){const s=n&&`"${n}" `;throw new Error(`${s}expected integer >= 0, got ${a}`)}}function Pe(a,n,s=""){const c=Il(a),l=a==null?void 0:a.length,u=n!==void 0;if(!c||u&&l!==n){const d=s&&`"${s}" `,m=u?` of length ${n}`:"",p=c?`length=${l}`:`type=${typeof a}`;throw new Error(d+"expected Uint8Array"+m+", got "+p)}return a}function Mp(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash must wrapped by utils.createHasher");ya(a.outputLen),ya(a.blockLen)}function ws(a,n=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(n&&a.finished)throw new Error("Hash#digest() has already been called")}function Hp(a,n){Pe(a,void 0,"digestInto() output");const s=n.outputLen;if(a.length<s)throw new Error('"digestInto() output" expected to be of length >='+s)}function By(a){return new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4))}function si(...a){for(let n=0;n<a.length;n++)a[n].fill(0)}function _f(a){return new DataView(a.buffer,a.byteOffset,a.byteLength)}function zn(a,n){return a<<32-n|a>>>n}function cl(a,n){return a<<n|a>>>32-n>>>0}const Uy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Ry(a){return a<<24&4278190080|a<<8&16711680|a>>>8&65280|a>>>24&255}function Dy(a){for(let n=0;n<a.length;n++)a[n]=Ry(a[n]);return a}const k1=Uy?a=>a:Dy,kp=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ly=Array.from({length:256},(a,n)=>n.toString(16).padStart(2,"0"));function Di(a){if(Pe(a),kp)return a.toHex();let n="";for(let s=0;s<a.length;s++)n+=Ly[a[s]];return n}const da={_0:48,_9:57,A:65,F:70,a:97,f:102};function z1(a){if(a>=da._0&&a<=da._9)return a-da._0;if(a>=da.A&&a<=da.F)return a-(da.A-10);if(a>=da.a&&a<=da.f)return a-(da.a-10)}function ci(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);if(kp)return Uint8Array.fromHex(a);const n=a.length,s=n/2;if(n%2)throw new Error("hex string expected, got unpadded hex of length "+n);const c=new Uint8Array(s);for(let l=0,u=0;l<s;l++,u+=2){const d=z1(a.charCodeAt(u)),m=z1(a.charCodeAt(u+1));if(d===void 0||m===void 0){const p=a[u]+a[u+1];throw new Error('hex string expected, got non-hex character "'+p+'" at index '+u)}c[l]=d*16+m}return c}function lt(...a){let n=0;for(let c=0;c<a.length;c++){const l=a[c];Pe(l),n+=l.length}const s=new Uint8Array(n);for(let c=0,l=0;c<a.length;c++){const u=a[c];s.set(u,l),l+=u.length}return s}function rd(a,n={}){const s=(l,u)=>a(u).update(l).digest(),c=a(void 0);return s.outputLen=c.outputLen,s.blockLen=c.blockLen,s.create=l=>a(l),Object.assign(s,n),Object.freeze(s)}function Ml(a=32){const n=typeof globalThis=="object"?globalThis.crypto:null;if(typeof(n==null?void 0:n.getRandomValues)!="function")throw new Error("crypto.getRandomValues must be defined");return n.getRandomValues(new Uint8Array(a))}const Gy=a=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,a])});function Iy(a,n,s){return a&n^~a&s}function My(a,n,s){return a&n^a&s^n&s}class zp{constructor(n,s,c,l){ie(this,"blockLen");ie(this,"outputLen");ie(this,"padOffset");ie(this,"isLE");ie(this,"buffer");ie(this,"view");ie(this,"finished",!1);ie(this,"length",0);ie(this,"pos",0);ie(this,"destroyed",!1);this.blockLen=n,this.outputLen=s,this.padOffset=c,this.isLE=l,this.buffer=new Uint8Array(n),this.view=_f(this.buffer)}update(n){ws(this),Pe(n);const{view:s,buffer:c,blockLen:l}=this,u=n.length;for(let d=0;d<u;){const m=Math.min(l-this.pos,u-d);if(m===l){const p=_f(n);for(;l<=u-d;d+=l)this.process(p,d);continue}c.set(n.subarray(d,d+m),this.pos),this.pos+=m,d+=m,this.pos===l&&(this.process(s,0),this.pos=0)}return this.length+=n.length,this.roundClean(),this}digestInto(n){ws(this),Hp(n,this),this.finished=!0;const{buffer:s,view:c,blockLen:l,isLE:u}=this;let{pos:d}=this;s[d++]=128,si(this.buffer.subarray(d)),this.padOffset>l-d&&(this.process(c,0),d=0);for(let b=d;b<l;b++)s[b]=0;c.setBigUint64(l-8,BigInt(this.length*8),u),this.process(c,0);const m=_f(n),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen must be aligned to 32bit");const h=p/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<h;b++)m.setUint32(4*b,y[b],u)}digest(){const{buffer:n,outputLen:s}=this;this.digestInto(n);const c=n.slice(0,s);return this.destroy(),c}_cloneInto(n){n||(n=new this.constructor),n.set(...this.get());const{blockLen:s,buffer:c,length:l,finished:u,destroyed:d,pos:m}=this;return n.destroyed=d,n.finished=u,n.length=l,n.pos=m,l%s&&n.buffer.set(c),n}clone(){return this._cloneInto()}}const Fa=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rl=BigInt(2**32-1),j1=BigInt(32);function Hy(a,n=!1){return n?{h:Number(a&rl),l:Number(a>>j1&rl)}:{h:Number(a>>j1&rl)|0,l:Number(a&rl)|0}}function ky(a,n=!1){const s=a.length;let c=new Uint32Array(s),l=new Uint32Array(s);for(let u=0;u<s;u++){const{h:d,l:m}=Hy(a[u],n);[c[u],l[u]]=[d,m]}return[c,l]}const zy=(a,n,s)=>a<<s|n>>>32-s,jy=(a,n,s)=>n<<s|a>>>32-s,Vy=(a,n,s)=>n<<s-32|a>>>64-s,Py=(a,n,s)=>a<<s-32|n>>>64-s,qy=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xa=new Uint32Array(64);class Yy extends zp{constructor(n){super(64,n,8,!1)}get(){const{A:n,B:s,C:c,D:l,E:u,F:d,G:m,H:p}=this;return[n,s,c,l,u,d,m,p]}set(n,s,c,l,u,d,m,p){this.A=n|0,this.B=s|0,this.C=c|0,this.D=l|0,this.E=u|0,this.F=d|0,this.G=m|0,this.H=p|0}process(n,s){for(let b=0;b<16;b++,s+=4)Xa[b]=n.getUint32(s,!1);for(let b=16;b<64;b++){const E=Xa[b-15],_=Xa[b-2],v=zn(E,7)^zn(E,18)^E>>>3,C=zn(_,17)^zn(_,19)^_>>>10;Xa[b]=C+Xa[b-7]+v+Xa[b-16]|0}let{A:c,B:l,C:u,D:d,E:m,F:p,G:h,H:y}=this;for(let b=0;b<64;b++){const E=zn(m,6)^zn(m,11)^zn(m,25),_=y+E+Iy(m,p,h)+qy[b]+Xa[b]|0,C=(zn(c,2)^zn(c,13)^zn(c,22))+My(c,l,u)|0;y=h,h=p,p=m,m=d+_|0,d=u,u=l,l=c,c=_+C|0}c=c+this.A|0,l=l+this.B|0,u=u+this.C|0,d=d+this.D|0,m=m+this.E|0,p=p+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(c,l,u,d,m,p,h,y)}roundClean(){si(Xa)}destroy(){this.set(0,0,0,0,0,0,0,0),si(this.buffer)}}class Zy extends Yy{constructor(){super(32);ie(this,"A",Fa[0]|0);ie(this,"B",Fa[1]|0);ie(this,"C",Fa[2]|0);ie(this,"D",Fa[3]|0);ie(this,"E",Fa[4]|0);ie(this,"F",Fa[5]|0);ie(this,"G",Fa[6]|0);ie(this,"H",Fa[7]|0)}}const Us=rd(()=>new Zy,Gy(1));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ld=BigInt(0),Nl=BigInt(1);function Bl(a,n=""){if(typeof a!="boolean"){const s=n&&`"${n}" `;throw new Error(s+"expected boolean, got type="+typeof a)}return a}function jp(a){if(typeof a=="bigint"){if(!Tl(a))throw new Error("positive bigint expected, got "+a)}else ya(a);return a}function Ns(a,n=""){if(!Number.isSafeInteger(a)){const s=n&&`"${n}" `;throw new Error(s+"expected safe integer, got type="+typeof a)}}function ll(a){const n=jp(a).toString(16);return n.length&1?"0"+n:n}function Vp(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);return a===""?ld:BigInt("0x"+a)}function Cn(a){return Vp(Di(a))}function Pp(a){return Vp(Di(Yp(Pe(a)).reverse()))}function Gt(a,n){ya(n),a=jp(a);const s=ci(a.toString(16).padStart(n*2,"0"));if(s.length!==n)throw new Error("number too large");return s}function qp(a,n){return Gt(a,n).reverse()}function Yp(a){return Uint8Array.from(a)}function Hl(a){return Uint8Array.from(a,(n,s)=>{const c=n.charCodeAt(0);if(n.length!==1||c>127)throw new Error(`string contains non-ASCII character "${a[s]}" with code ${c} at position ${s}`);return c})}const Tl=a=>typeof a=="bigint"&&ld<=a;function Fy(a,n,s){return Tl(a)&&Tl(n)&&Tl(s)&&n<=a&&a<s}function Xy(a,n,s,c){if(!Fy(n,s,c))throw new Error("expected valid "+a+": "+s+" <= n < "+c+", got "+n)}function Hc(a){let n;for(n=0;a>ld;a>>=Nl,n+=1);return n}function Ky(a,n){return a>>BigInt(n)&Nl}const Rs=a=>(Nl<<BigInt(a))-Nl;function Qy(a,n,s){if(ya(a,"hashLen"),ya(n,"qByteLen"),typeof s!="function")throw new Error("hmacFn must be a function");const c=B=>new Uint8Array(B),l=Uint8Array.of(),u=Uint8Array.of(0),d=Uint8Array.of(1),m=1e3;let p=c(a),h=c(a),y=0;const b=()=>{p.fill(1),h.fill(0),y=0},E=(...B)=>s(h,lt(p,...B)),_=(B=l)=>{h=E(u,B),p=E(),B.length!==0&&(h=E(d,B),p=E())},v=()=>{if(y++>=m)throw new Error("drbg: tried max amount of iterations");let B=0;const M=[];for(;B<n;){p=E();const W=p.slice();M.push(W),B+=p.length}return lt(...M)};return(B,M)=>{b(),_(B);let W;for(;!(W=M(v()));)_();return b(),W}}function kl(a,n={},s={}){if(!a||typeof a!="object")throw new Error("expected valid options object");function c(u,d,m){const p=a[u];if(m&&p===void 0)return;const h=typeof p;if(h!==d||p===null)throw new Error(`param "${u}" is invalid: expected ${d}, got ${h}`)}const l=(u,d)=>Object.entries(u).forEach(([m,p])=>c(m,p,d));l(n,!1),l(s,!0)}const ai=()=>{throw new Error("not implemented")};function Ff(a){const n=new WeakMap;return(s,...c)=>{const l=n.get(s);if(l!==void 0)return l;const u=a(s,...c);return n.set(s,u),u}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nn=BigInt(0),Yt=BigInt(1),Ni=BigInt(2),Zp=BigInt(3),Fp=BigInt(4),Xp=BigInt(5),$y=BigInt(7),Kp=BigInt(8),Jy=BigInt(9),Qp=BigInt(16);function On(a,n){const s=a%n;return s>=nn?s:n+s}function Tn(a,n,s){let c=a;for(;n-- >nn;)c*=c,c%=s;return c}function V1(a,n){if(a===nn)throw new Error("invert: expected non-zero number");if(n<=nn)throw new Error("invert: expected positive modulus, got "+n);let s=On(a,n),c=n,l=nn,u=Yt;for(;s!==nn;){const m=c/s,p=c%s,h=l-u*m;c=s,s=p,l=u,u=h}if(c!==Yt)throw new Error("invert: does not exist");return On(l,n)}function ud(a,n,s){if(!a.eql(a.sqr(n),s))throw new Error("Cannot find square root")}function $p(a,n){const s=(a.ORDER+Yt)/Fp,c=a.pow(n,s);return ud(a,c,n),c}function Wy(a,n){const s=(a.ORDER-Xp)/Kp,c=a.mul(n,Ni),l=a.pow(c,s),u=a.mul(n,l),d=a.mul(a.mul(u,Ni),l),m=a.mul(u,a.sub(d,a.ONE));return ud(a,m,n),m}function e3(a){const n=Gi(a),s=Jp(a),c=s(n,n.neg(n.ONE)),l=s(n,c),u=s(n,n.neg(c)),d=(a+$y)/Qp;return(m,p)=>{let h=m.pow(p,d),y=m.mul(h,c);const b=m.mul(h,l),E=m.mul(h,u),_=m.eql(m.sqr(y),p),v=m.eql(m.sqr(b),p);h=m.cmov(h,y,_),y=m.cmov(E,b,v);const C=m.eql(m.sqr(y),p),B=m.cmov(h,y,C);return ud(m,B,p),B}}function Jp(a){if(a<Zp)throw new Error("sqrt is not defined for small field");let n=a-Yt,s=0;for(;n%Ni===nn;)n/=Ni,s++;let c=Ni;const l=Gi(a);for(;Ul(l,c)===1;)if(c++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(s===1)return $p;let u=l.pow(c,n);const d=(n+Yt)/Ni;return function(p,h){if(p.is0(h))return h;if(Ul(p,h)!==1)throw new Error("Cannot find square root");let y=s,b=p.mul(p.ONE,u),E=p.pow(h,n),_=p.pow(h,d);for(;!p.eql(E,p.ONE);){if(p.is0(E))return p.ZERO;let v=1,C=p.sqr(E);for(;!p.eql(C,p.ONE);)if(v++,C=p.sqr(C),v===y)throw new Error("Cannot find square root");const B=Yt<<BigInt(y-v-1),M=p.pow(b,B);y=v,b=p.sqr(M),E=p.mul(E,b),_=p.mul(_,M)}return _}}function t3(a){return a%Fp===Zp?$p:a%Kp===Xp?Wy:a%Qp===Jy?e3(a):Jp(a)}const n3=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Wp(a){const n={ORDER:"bigint",BYTES:"number",BITS:"number"},s=n3.reduce((c,l)=>(c[l]="function",c),n);return kl(a,s),a}function zl(a,n,s){if(s<nn)throw new Error("invalid exponent, negatives unsupported");if(s===nn)return a.ONE;if(s===Yt)return n;let c=a.ONE,l=n;for(;s>nn;)s&Yt&&(c=a.mul(c,l)),l=a.sqr(l),s>>=Yt;return c}function Li(a,n,s=!1){const c=new Array(n.length).fill(s?a.ZERO:void 0),l=n.reduce((d,m,p)=>a.is0(m)?d:(c[p]=d,a.mul(d,m)),a.ONE),u=a.inv(l);return n.reduceRight((d,m,p)=>a.is0(m)?d:(c[p]=a.mul(d,c[p]),a.mul(d,m)),u),c}function Ul(a,n){const s=(a.ORDER-Yt)/Ni,c=a.pow(n,s),l=a.eql(c,a.ONE),u=a.eql(c,a.ZERO),d=a.eql(c,a.neg(a.ONE));if(!l&&!u&&!d)throw new Error("invalid Legendre symbol result");return l?1:u?0:-1}function a3(a,n){n!==void 0&&ya(n);const s=n!==void 0?n:a.toString(2).length,c=Math.ceil(s/8);return{nBitLength:s,nByteLength:c}}class i3{constructor(n,s={}){ie(this,"ORDER");ie(this,"BITS");ie(this,"BYTES");ie(this,"isLE");ie(this,"ZERO",nn);ie(this,"ONE",Yt);ie(this,"_lengths");ie(this,"_sqrt");ie(this,"_mod");var d;if(n<=nn)throw new Error("invalid field: expected ORDER > 0, got "+n);let c;this.isLE=!1,s!=null&&typeof s=="object"&&(typeof s.BITS=="number"&&(c=s.BITS),typeof s.sqrt=="function"&&(this.sqrt=s.sqrt),typeof s.isLE=="boolean"&&(this.isLE=s.isLE),s.allowedLengths&&(this._lengths=(d=s.allowedLengths)==null?void 0:d.slice()),typeof s.modFromBytes=="boolean"&&(this._mod=s.modFromBytes));const{nBitLength:l,nByteLength:u}=a3(n,c);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");this.ORDER=n,this.BITS=l,this.BYTES=u,this._sqrt=void 0,Object.preventExtensions(this)}create(n){return On(n,this.ORDER)}isValid(n){if(typeof n!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof n);return nn<=n&&n<this.ORDER}is0(n){return n===nn}isValidNot0(n){return!this.is0(n)&&this.isValid(n)}isOdd(n){return(n&Yt)===Yt}neg(n){return On(-n,this.ORDER)}eql(n,s){return n===s}sqr(n){return On(n*n,this.ORDER)}add(n,s){return On(n+s,this.ORDER)}sub(n,s){return On(n-s,this.ORDER)}mul(n,s){return On(n*s,this.ORDER)}pow(n,s){return zl(this,n,s)}div(n,s){return On(n*V1(s,this.ORDER),this.ORDER)}sqrN(n){return n*n}addN(n,s){return n+s}subN(n,s){return n-s}mulN(n,s){return n*s}inv(n){return V1(n,this.ORDER)}sqrt(n){return this._sqrt||(this._sqrt=t3(this.ORDER)),this._sqrt(this,n)}toBytes(n){return this.isLE?qp(n,this.BYTES):Gt(n,this.BYTES)}fromBytes(n,s=!1){Pe(n);const{_lengths:c,BYTES:l,isLE:u,ORDER:d,_mod:m}=this;if(c){if(!c.includes(n.length)||n.length>l)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+n.length);const h=new Uint8Array(l);h.set(n,u?0:h.length-n.length),n=h}if(n.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+n.length);let p=u?Pp(n):Cn(n);if(m&&(p=On(p,d)),!s&&!this.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p}invertBatch(n){return Li(this,n)}cmov(n,s,c){return c?s:n}}function Gi(a,n={}){return new i3(a,n)}function eg(a){if(typeof a!="bigint")throw new Error("field order must be bigint");const n=a.toString(2).length;return Math.ceil(n/8)}function od(a){const n=eg(a);return n+Math.ceil(n/2)}function tg(a,n,s=!1){Pe(a);const c=a.length,l=eg(n),u=od(n);if(c<16||c<u||c>1024)throw new Error("expected "+u+"-1024 bytes of input, got "+c);const d=s?Pp(a):Cn(a),m=On(d,n-Yt)+Yt;return s?qp(m,l):Gt(m,l)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bs=BigInt(0),Bi=BigInt(1);function Rl(a,n){const s=n.negate();return a?s:n}function Dl(a,n){const s=Li(a.Fp,n.map(c=>c.Z));return n.map((c,l)=>a.fromAffine(c.toAffine(s[l])))}function ng(a,n){if(!Number.isSafeInteger(a)||a<=0||a>n)throw new Error("invalid window size, expected [1.."+n+"], got W="+a)}function vf(a,n){ng(a,n);const s=Math.ceil(n/a)+1,c=2**(a-1),l=2**a,u=Rs(a),d=BigInt(a);return{windows:s,windowSize:c,mask:u,maxNumber:l,shiftBy:d}}function P1(a,n,s){const{windowSize:c,mask:l,maxNumber:u,shiftBy:d}=s;let m=Number(a&l),p=a>>d;m>c&&(m-=u,p+=Bi);const h=n*c,y=h+Math.abs(m)-1,b=m===0,E=m<0,_=n%2!==0;return{nextN:p,offset:y,isZero:b,isNeg:E,isNegF:_,offsetF:h}}const Af=new WeakMap,ag=new WeakMap;function Sf(a){return ag.get(a)||1}function q1(a){if(a!==Bs)throw new Error("invalid wNAF")}class s3{constructor(n,s){ie(this,"BASE");ie(this,"ZERO");ie(this,"Fn");ie(this,"bits");this.BASE=n.BASE,this.ZERO=n.ZERO,this.Fn=n.Fn,this.bits=s}_unsafeLadder(n,s,c=this.ZERO){let l=n;for(;s>Bs;)s&Bi&&(c=c.add(l)),l=l.double(),s>>=Bi;return c}precomputeWindow(n,s){const{windows:c,windowSize:l}=vf(s,this.bits),u=[];let d=n,m=d;for(let p=0;p<c;p++){m=d,u.push(m);for(let h=1;h<l;h++)m=m.add(d),u.push(m);d=m.double()}return u}wNAF(n,s,c){if(!this.Fn.isValid(c))throw new Error("invalid scalar");let l=this.ZERO,u=this.BASE;const d=vf(n,this.bits);for(let m=0;m<d.windows;m++){const{nextN:p,offset:h,isZero:y,isNeg:b,isNegF:E,offsetF:_}=P1(c,m,d);c=p,y?u=u.add(Rl(E,s[_])):l=l.add(Rl(b,s[h]))}return q1(c),{p:l,f:u}}wNAFUnsafe(n,s,c,l=this.ZERO){const u=vf(n,this.bits);for(let d=0;d<u.windows&&c!==Bs;d++){const{nextN:m,offset:p,isZero:h,isNeg:y}=P1(c,d,u);if(c=m,!h){const b=s[p];l=l.add(y?b.negate():b)}}return q1(c),l}getPrecomputes(n,s,c){let l=Af.get(s);return l||(l=this.precomputeWindow(s,n),n!==1&&(typeof c=="function"&&(l=c(l)),Af.set(s,l))),l}cached(n,s,c){const l=Sf(n);return this.wNAF(l,this.getPrecomputes(l,n,c),s)}unsafe(n,s,c,l){const u=Sf(n);return u===1?this._unsafeLadder(n,s,l):this.wNAFUnsafe(u,this.getPrecomputes(u,n,c),s,l)}createCache(n,s){ng(s,this.bits),ag.set(n,s),Af.delete(n)}hasCache(n){return Sf(n)!==1}}function c3(a,n,s,c){let l=n,u=a.ZERO,d=a.ZERO;for(;s>Bs||c>Bs;)s&Bi&&(u=u.add(l)),c&Bi&&(d=d.add(l)),l=l.double(),s>>=Bi,c>>=Bi;return{p1:u,p2:d}}function Y1(a,n,s){if(n){if(n.ORDER!==a)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Wp(n),n}else return Gi(a,{isLE:s})}function r3(a,n,s={},c){if(c===void 0&&(c=a==="edwards"),!n||typeof n!="object")throw new Error(`expected valid ${a} CURVE object`);for(const p of["p","n","h"]){const h=n[p];if(!(typeof h=="bigint"&&h>Bs))throw new Error(`CURVE.${p} must be positive bigint`)}const l=Y1(n.p,s.Fp,c),u=Y1(n.n,s.Fn,c),m=["Gx","Gy","a","b"];for(const p of m)if(!l.isValid(n[p]))throw new Error(`CURVE.${p} must be valid field element of CURVE.Fp`);return n=Object.freeze(Object.assign({},n)),{CURVE:n,Fp:l,Fn:u}}function l3(a,n){return function(c){const l=a(c);return{secretKey:l,publicKey:n(l)}}}const u3=Cn;function ei(a,n){if(Ns(a),Ns(n),a<0||a>=1<<8*n)throw new Error("invalid I2OSP input: "+a);const s=Array.from({length:n}).fill(0);for(let c=n-1;c>=0;c--)s[c]=a&255,a>>>=8;return new Uint8Array(s)}function o3(a,n){const s=new Uint8Array(a.length);for(let c=0;c<a.length;c++)s[c]=a[c]^n[c];return s}function ig(a){if(!Il(a)&&typeof a!="string")throw new Error("DST must be Uint8Array or ascii string");return typeof a=="string"?Hl(a):a}function f3(a,n,s,c){Pe(a),Ns(s),n=ig(n),n.length>255&&(n=c(lt(Hl("H2C-OVERSIZE-DST-"),n)));const{outputLen:l,blockLen:u}=c,d=Math.ceil(s/l);if(s>65535||d>255)throw new Error("expand_message_xmd: invalid lenInBytes");const m=lt(n,ei(n.length,1)),p=ei(0,u),h=ei(s,2),y=new Array(d),b=c(lt(p,a,h,ei(0,1),m));y[0]=c(lt(b,ei(1,1),m));for(let _=1;_<=d;_++){const v=[o3(b,y[_-1]),ei(_+1,1),m];y[_]=c(lt(...v))}return lt(...y).slice(0,s)}function d3(a,n,s,c,l){if(Pe(a),Ns(s),n=ig(n),n.length>255){const u=Math.ceil(2*c/8);n=l.create({dkLen:u}).update(Hl("H2C-OVERSIZE-DST-")).update(n).digest()}if(s>65535||n.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return l.create({dkLen:s}).update(a).update(ei(s,2)).update(n).update(ei(n.length,1)).digest()}function Tf(a,n,s){kl(s,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:c,k:l,m:u,hash:d,expand:m,DST:p}=s;Ns(d.outputLen,"valid hash"),Pe(a),Ns(n);const h=c.toString(2).length,y=Math.ceil((h+l)/8),b=n*u*y;let E;if(m==="xmd")E=f3(a,p,b,d);else if(m==="xof")E=d3(a,p,b,l,d);else if(m==="_internal_pass")E=a;else throw new Error('expand must be "xmd" or "xof"');const _=new Array(n);for(let v=0;v<n;v++){const C=new Array(u);for(let B=0;B<u;B++){const M=y*(B+v*u),W=E.subarray(M,M+y);C[B]=On(u3(W),c)}_[v]=C}return _}function sg(a,n){const s=n.map(c=>Array.from(c).reverse());return(c,l)=>{const[u,d,m,p]=s.map(b=>b.reduce((E,_)=>a.add(a.mul(E,c),_))),[h,y]=Li(a,[d,p],!0);return c=a.mul(u,h),l=a.mul(l,a.mul(m,y)),{x:c,y:l}}}const h3=Hl("HashToScalar-");function Z1(a,n,s){if(typeof n!="function")throw new Error("mapToCurve() must be defined");function c(u){return a.fromAffine(n(u))}function l(u){const d=u.clearCofactor();return d.equals(a.ZERO)?a.ZERO:(d.assertValidity(),d)}return{defaults:Object.freeze(s),Point:a,hashToCurve(u,d){const m=Object.assign({},s,d),p=Tf(u,2,m),h=c(p[0]),y=c(p[1]);return l(h.add(y))},encodeToCurve(u,d){const m=s.encodeDST?{DST:s.encodeDST}:{},p=Object.assign({},s,m,d),h=Tf(u,1,p),y=c(h[0]);return l(y)},mapToCurve(u){if(s.m===1){if(typeof u!="bigint")throw new Error("expected bigint (m=1)");return l(c([u]))}if(!Array.isArray(u))throw new Error("expected array of bigints");for(const d of u)if(typeof d!="bigint")throw new Error("expected array of bigints");return l(c(u))},hashToScalar(u,d){const m=a.Fn.ORDER,p=Object.assign({},s,{p:m,m:1,DST:h3},d);return Tf(u,1,p)[0][0]}}}class cg{constructor(n,s){ie(this,"oHash");ie(this,"iHash");ie(this,"blockLen");ie(this,"outputLen");ie(this,"finished",!1);ie(this,"destroyed",!1);if(Mp(n),Pe(s,void 0,"key"),this.iHash=n.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,l=new Uint8Array(c);l.set(s.length>c?n.create().update(s).digest():s);for(let u=0;u<l.length;u++)l[u]^=54;this.iHash.update(l),this.oHash=n.create();for(let u=0;u<l.length;u++)l[u]^=106;this.oHash.update(l),si(l)}update(n){return ws(this),this.iHash.update(n),this}digestInto(n){ws(this),Pe(n,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(n),this.oHash.update(n),this.oHash.digestInto(n),this.destroy()}digest(){const n=new Uint8Array(this.oHash.outputLen);return this.digestInto(n),n}_cloneInto(n){n||(n=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:c,finished:l,destroyed:u,blockLen:d,outputLen:m}=this;return n=n,n.finished=l,n.destroyed=u,n.blockLen=d,n.outputLen=m,n.oHash=s._cloneInto(n.oHash),n.iHash=c._cloneInto(n.iHash),n}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const rg=(a,n,s)=>new cg(a,n).update(s).digest();rg.create=(a,n)=>new cg(a,n);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const F1=(a,n)=>(a+(a>=0?n:-n)/Pn)/n;function m3(a,n,s){const[[c,l],[u,d]]=n,m=F1(d*a,s),p=F1(-l*a,s);let h=a-m*c-p*u,y=-m*l-p*d;const b=h<Ln,E=y<Ln;b&&(h=-h),E&&(y=-y);const _=Rs(Math.ceil(Hc(s)/2))+Ht;if(h<Ln||h>=_||y<Ln||y>=_)throw new Error("splitScalar (endomorphism): failed, k="+a);return{k1neg:b,k1:h,k2neg:E,k2:y}}function Xf(a){if(!["compact","recovered","der"].includes(a))throw new Error('Signature format must be "compact", "recovered", or "der"');return a}function Of(a,n){const s={};for(let c of Object.keys(n))s[c]=a[c]===void 0?n[c]:a[c];return Bl(s.lowS,"lowS"),Bl(s.prehash,"prehash"),s.format!==void 0&&Xf(s.format),s}class p3 extends Error{constructor(n=""){super(n)}}const ti={Err:p3,_tlv:{encode:(a,n)=>{const{Err:s}=ti;if(a<0||a>256)throw new s("tlv.encode: wrong tag");if(n.length&1)throw new s("tlv.encode: unpadded data");const c=n.length/2,l=ll(c);if(l.length/2&128)throw new s("tlv.encode: long form length too big");const u=c>127?ll(l.length/2|128):"";return ll(a)+u+l+n},decode(a,n){const{Err:s}=ti;let c=0;if(a<0||a>256)throw new s("tlv.encode: wrong tag");if(n.length<2||n[c++]!==a)throw new s("tlv.decode: wrong tlv");const l=n[c++],u=!!(l&128);let d=0;if(!u)d=l;else{const p=l&127;if(!p)throw new s("tlv.decode(long): indefinite length not supported");if(p>4)throw new s("tlv.decode(long): byte length is too big");const h=n.subarray(c,c+p);if(h.length!==p)throw new s("tlv.decode: length bytes not complete");if(h[0]===0)throw new s("tlv.decode(long): zero leftmost byte");for(const y of h)d=d<<8|y;if(c+=p,d<128)throw new s("tlv.decode(long): not minimal encoding")}const m=n.subarray(c,c+d);if(m.length!==d)throw new s("tlv.decode: wrong value length");return{v:m,l:n.subarray(c+d)}}},_int:{encode(a){const{Err:n}=ti;if(a<Ln)throw new n("integer: negative integers are not allowed");let s=ll(a);if(Number.parseInt(s[0],16)&8&&(s="00"+s),s.length&1)throw new n("unexpected DER parsing assertion: unpadded hex");return s},decode(a){const{Err:n}=ti;if(a[0]&128)throw new n("invalid signature integer: negative");if(a[0]===0&&!(a[1]&128))throw new n("invalid signature integer: unnecessary leading zero");return Cn(a)}},toSig(a){const{Err:n,_int:s,_tlv:c}=ti,l=Pe(a,void 0,"signature"),{v:u,l:d}=c.decode(48,l);if(d.length)throw new n("invalid signature: left bytes after parsing");const{v:m,l:p}=c.decode(2,u),{v:h,l:y}=c.decode(2,p);if(y.length)throw new n("invalid signature: left bytes after parsing");return{r:s.decode(m),s:s.decode(h)}},hexFromSig(a){const{_tlv:n,_int:s}=ti,c=n.encode(2,s.encode(a.r)),l=n.encode(2,s.encode(a.s)),u=c+l;return n.encode(48,u)}},Ln=BigInt(0),Ht=BigInt(1),Pn=BigInt(2),Ts=BigInt(3),Kf=BigInt(4);function Ds(a,n={}){const s=r3("weierstrass",a,n),{Fp:c,Fn:l}=s;let u=s.CURVE;const{h:d,n:m}=u;kl(n,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object"});const{endo:p}=n;if(p&&(!c.is0(u.a)||typeof p.beta!="bigint"||!Array.isArray(p.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const h=og(c,l);function y(){if(!c.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function b(oe,k,z){const{x:w,y:H}=k.toAffine(),J=c.toBytes(w);if(Bl(z,"isCompressed"),z){y();const se=!c.isOdd(H);return lt(lg(se),J)}else return lt(Uint8Array.of(4),J,c.toBytes(H))}function E(oe){Pe(oe,void 0,"Point");const{publicKey:k,publicKeyUncompressed:z}=h,w=oe.length,H=oe[0],J=oe.subarray(1);if(w===k&&(H===2||H===3)){const se=c.fromBytes(J);if(!c.isValid(se))throw new Error("bad point: is not on curve, wrong x");const le=C(se);let A;try{A=c.sqrt(le)}catch(ae){const te=ae instanceof Error?": "+ae.message:"";throw new Error("bad point: is not on curve, sqrt error"+te)}y();const O=c.isOdd(A);return(H&1)===1!==O&&(A=c.neg(A)),{x:se,y:A}}else if(w===z&&H===4){const se=c.BYTES,le=c.fromBytes(J.subarray(0,se)),A=c.fromBytes(J.subarray(se,se*2));if(!B(le,A))throw new Error("bad point: is not on curve");return{x:le,y:A}}else throw new Error(`bad point: got length ${w}, expected compressed=${k} or uncompressed=${z}`)}const _=n.toBytes||b,v=n.fromBytes||E;function C(oe){const k=c.sqr(oe),z=c.mul(k,oe);return c.add(c.add(z,c.mul(oe,u.a)),u.b)}function B(oe,k){const z=c.sqr(k),w=C(oe);return c.eql(z,w)}if(!B(u.Gx,u.Gy))throw new Error("bad curve params: generator point");const M=c.mul(c.pow(u.a,Ts),Kf),W=c.mul(c.sqr(u.b),BigInt(27));if(c.is0(c.add(M,W)))throw new Error("bad curve params: a or b");function K(oe,k,z=!1){if(!c.isValid(k)||z&&c.is0(k))throw new Error(`bad point coordinate ${oe}`);return k}function ue(oe){if(!(oe instanceof de))throw new Error("Weierstrass Point expected")}function pe(oe){if(!p||!p.basises)throw new Error("no endo");return m3(oe,p.basises,l.ORDER)}const Q=Ff((oe,k)=>{const{X:z,Y:w,Z:H}=oe;if(c.eql(H,c.ONE))return{x:z,y:w};const J=oe.is0();k==null&&(k=J?c.ONE:c.inv(H));const se=c.mul(z,k),le=c.mul(w,k),A=c.mul(H,k);if(J)return{x:c.ZERO,y:c.ZERO};if(!c.eql(A,c.ONE))throw new Error("invZ was invalid");return{x:se,y:le}}),ee=Ff(oe=>{if(oe.is0()){if(n.allowInfinityPoint&&!c.is0(oe.Y))return;throw new Error("bad point: ZERO")}const{x:k,y:z}=oe.toAffine();if(!c.isValid(k)||!c.isValid(z))throw new Error("bad point: x or y not field elements");if(!B(k,z))throw new Error("bad point: equation left != right");if(!oe.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ce(oe,k,z,w,H){return z=new de(c.mul(z.X,oe),z.Y,z.Z),k=Rl(w,k),z=Rl(H,z),k.add(z)}const fe=class fe{constructor(k,z,w){ie(this,"X");ie(this,"Y");ie(this,"Z");this.X=K("x",k),this.Y=K("y",z,!0),this.Z=K("z",w),Object.freeze(this)}static CURVE(){return u}static fromAffine(k){const{x:z,y:w}=k||{};if(!k||!c.isValid(z)||!c.isValid(w))throw new Error("invalid affine point");if(k instanceof fe)throw new Error("projective point not allowed");return c.is0(z)&&c.is0(w)?fe.ZERO:new fe(z,w,c.ONE)}static fromBytes(k){const z=fe.fromAffine(v(Pe(k,void 0,"point")));return z.assertValidity(),z}static fromHex(k){return fe.fromBytes(ci(k))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(k=8,z=!0){return Ee.createCache(this,k),z||this.multiply(Ts),this}assertValidity(){ee(this)}hasEvenY(){const{y:k}=this.toAffine();if(!c.isOdd)throw new Error("Field doesn't support isOdd");return!c.isOdd(k)}equals(k){ue(k);const{X:z,Y:w,Z:H}=this,{X:J,Y:se,Z:le}=k,A=c.eql(c.mul(z,le),c.mul(J,H)),O=c.eql(c.mul(w,le),c.mul(se,H));return A&&O}negate(){return new fe(this.X,c.neg(this.Y),this.Z)}double(){const{a:k,b:z}=u,w=c.mul(z,Ts),{X:H,Y:J,Z:se}=this;let le=c.ZERO,A=c.ZERO,O=c.ZERO,P=c.mul(H,H),ae=c.mul(J,J),te=c.mul(se,se),ne=c.mul(H,J);return ne=c.add(ne,ne),O=c.mul(H,se),O=c.add(O,O),le=c.mul(k,O),A=c.mul(w,te),A=c.add(le,A),le=c.sub(ae,A),A=c.add(ae,A),A=c.mul(le,A),le=c.mul(ne,le),O=c.mul(w,O),te=c.mul(k,te),ne=c.sub(P,te),ne=c.mul(k,ne),ne=c.add(ne,O),O=c.add(P,P),P=c.add(O,P),P=c.add(P,te),P=c.mul(P,ne),A=c.add(A,P),te=c.mul(J,se),te=c.add(te,te),P=c.mul(te,ne),le=c.sub(le,P),O=c.mul(te,ae),O=c.add(O,O),O=c.add(O,O),new fe(le,A,O)}add(k){ue(k);const{X:z,Y:w,Z:H}=this,{X:J,Y:se,Z:le}=k;let A=c.ZERO,O=c.ZERO,P=c.ZERO;const ae=u.a,te=c.mul(u.b,Ts);let ne=c.mul(z,J),Te=c.mul(w,se),qe=c.mul(H,le),Ie=c.add(z,w),at=c.add(J,se);Ie=c.mul(Ie,at),at=c.add(ne,Te),Ie=c.sub(Ie,at),at=c.add(z,H);let pt=c.add(J,le);return at=c.mul(at,pt),pt=c.add(ne,qe),at=c.sub(at,pt),pt=c.add(w,H),A=c.add(se,le),pt=c.mul(pt,A),A=c.add(Te,qe),pt=c.sub(pt,A),P=c.mul(ae,at),A=c.mul(te,qe),P=c.add(A,P),A=c.sub(Te,P),P=c.add(Te,P),O=c.mul(A,P),Te=c.add(ne,ne),Te=c.add(Te,ne),qe=c.mul(ae,qe),at=c.mul(te,at),Te=c.add(Te,qe),qe=c.sub(ne,qe),qe=c.mul(ae,qe),at=c.add(at,qe),ne=c.mul(Te,at),O=c.add(O,ne),ne=c.mul(pt,at),A=c.mul(Ie,A),A=c.sub(A,ne),ne=c.mul(Ie,Te),P=c.mul(pt,P),P=c.add(P,ne),new fe(A,O,P)}subtract(k){return this.add(k.negate())}is0(){return this.equals(fe.ZERO)}multiply(k){const{endo:z}=n;if(!l.isValidNot0(k))throw new Error("invalid scalar: out of range");let w,H;const J=se=>Ee.cached(this,se,le=>Dl(fe,le));if(z){const{k1neg:se,k1:le,k2neg:A,k2:O}=pe(k),{p:P,f:ae}=J(le),{p:te,f:ne}=J(O);H=ae.add(ne),w=ce(z.beta,P,te,se,A)}else{const{p:se,f:le}=J(k);w=se,H=le}return Dl(fe,[w,H])[0]}multiplyUnsafe(k){const{endo:z}=n,w=this;if(!l.isValid(k))throw new Error("invalid scalar: out of range");if(k===Ln||w.is0())return fe.ZERO;if(k===Ht)return w;if(Ee.hasCache(this))return this.multiply(k);if(z){const{k1neg:H,k1:J,k2neg:se,k2:le}=pe(k),{p1:A,p2:O}=c3(fe,w,J,le);return ce(z.beta,A,O,H,se)}else return Ee.unsafe(w,k)}toAffine(k){return Q(this,k)}isTorsionFree(){const{isTorsionFree:k}=n;return d===Ht?!0:k?k(fe,this):Ee.unsafe(this,m).is0()}clearCofactor(){const{clearCofactor:k}=n;return d===Ht?this:k?k(fe,this):this.multiplyUnsafe(d)}isSmallOrder(){return this.multiplyUnsafe(d).is0()}toBytes(k=!0){return Bl(k,"isCompressed"),this.assertValidity(),_(fe,this,k)}toHex(k=!0){return Di(this.toBytes(k))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}};ie(fe,"BASE",new fe(u.Gx,u.Gy,c.ONE)),ie(fe,"ZERO",new fe(c.ZERO,c.ONE,c.ZERO)),ie(fe,"Fp",c),ie(fe,"Fn",l);let de=fe;const ye=l.BITS,Ee=new s3(de,n.endo?Math.ceil(ye/2):ye);return de.BASE.precompute(8),de}function lg(a){return Uint8Array.of(a?2:3)}function g3(a,n){const s=a.ORDER;let c=Ln;for(let v=s-Ht;v%Pn===Ln;v/=Pn)c+=Ht;const l=c,u=Pn<<l-Ht-Ht,d=u*Pn,m=(s-Ht)/d,p=(m-Ht)/Pn,h=d-Ht,y=u,b=a.pow(n,m),E=a.pow(n,(m+Ht)/Pn);let _=(v,C)=>{let B=b,M=a.pow(C,h),W=a.sqr(M);W=a.mul(W,C);let K=a.mul(v,W);K=a.pow(K,p),K=a.mul(K,M),M=a.mul(K,C),W=a.mul(K,v);let ue=a.mul(W,M);K=a.pow(ue,y);let pe=a.eql(K,a.ONE);M=a.mul(W,E),K=a.mul(ue,B),W=a.cmov(M,W,pe),ue=a.cmov(K,ue,pe);for(let Q=l;Q>Ht;Q--){let ee=Q-Pn;ee=Pn<<ee-Ht;let ce=a.pow(ue,ee);const de=a.eql(ce,a.ONE);M=a.mul(W,B),B=a.mul(B,B),ce=a.mul(ue,B),W=a.cmov(M,W,de),ue=a.cmov(ce,ue,de)}return{isValid:pe,value:W}};if(a.ORDER%Kf===Ts){const v=(a.ORDER-Ts)/Kf,C=a.sqrt(a.neg(n));_=(B,M)=>{let W=a.sqr(M);const K=a.mul(B,M);W=a.mul(W,K);let ue=a.pow(W,v);ue=a.mul(ue,K);const pe=a.mul(ue,C),Q=a.mul(a.sqr(ue),M),ee=a.eql(Q,B);let ce=a.cmov(pe,ue,ee);return{isValid:ee,value:ce}}}return _}function ug(a,n){Wp(a);const{A:s,B:c,Z:l}=n;if(!a.isValid(s)||!a.isValid(c)||!a.isValid(l))throw new Error("mapToCurveSimpleSWU: invalid opts");const u=g3(a,l);if(!a.isOdd)throw new Error("Field does not have .isOdd()");return d=>{let m,p,h,y,b,E,_,v;m=a.sqr(d),m=a.mul(m,l),p=a.sqr(m),p=a.add(p,m),h=a.add(p,a.ONE),h=a.mul(h,c),y=a.cmov(l,a.neg(p),!a.eql(p,a.ZERO)),y=a.mul(y,s),p=a.sqr(h),E=a.sqr(y),b=a.mul(E,s),p=a.add(p,b),p=a.mul(p,h),E=a.mul(E,y),b=a.mul(E,c),p=a.add(p,b),_=a.mul(m,h);const{isValid:C,value:B}=u(p,E);v=a.mul(m,d),v=a.mul(v,B),_=a.cmov(_,h,C),v=a.cmov(v,B,C);const M=a.isOdd(d)===a.isOdd(v);v=a.cmov(a.neg(v),v,M);const W=Li(a,[y],!0)[0];return _=a.mul(_,W),{x:_,y:v}}}function og(a,n){return{secretKey:n.BYTES,publicKey:1+a.BYTES,publicKeyUncompressed:1+2*a.BYTES,publicKeyHasPrefix:!0,signature:2*n.BYTES}}function b3(a,n={}){const{Fn:s}=a,c=n.randomBytes||Ml,l=Object.assign(og(a.Fp,s),{seed:od(s.ORDER)});function u(_){try{const v=s.fromBytes(_);return s.isValidNot0(v)}catch{return!1}}function d(_,v){const{publicKey:C,publicKeyUncompressed:B}=l;try{const M=_.length;return v===!0&&M!==C||v===!1&&M!==B?!1:!!a.fromBytes(_)}catch{return!1}}function m(_=c(l.seed)){return tg(Pe(_,l.seed,"seed"),s.ORDER)}function p(_,v=!0){return a.BASE.multiply(s.fromBytes(_)).toBytes(v)}function h(_){const{secretKey:v,publicKey:C,publicKeyUncompressed:B}=l;if(!Il(_)||"_lengths"in s&&s._lengths||v===C)return;const M=Pe(_,void 0,"key").length;return M===C||M===B}function y(_,v,C=!0){if(h(_)===!0)throw new Error("first arg must be private key");if(h(v)===!1)throw new Error("second arg must be public key");const B=s.fromBytes(_);return a.fromBytes(v).multiply(B).toBytes(C)}const b={isValidSecretKey:u,isValidPublicKey:d,randomSecretKey:m},E=l3(m,p);return Object.freeze({getPublicKey:p,getSharedSecret:y,keygen:E,Point:a,utils:b,lengths:l})}function fg(a,n,s={}){Mp(n),kl(s,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"}),s=Object.assign({},s);const c=s.randomBytes||Ml,l=s.hmac||((k,z)=>rg(n,k,z)),{Fp:u,Fn:d}=a,{ORDER:m,BITS:p}=d,{keygen:h,getPublicKey:y,getSharedSecret:b,utils:E,lengths:_}=b3(a,s),v={prehash:!0,lowS:typeof s.lowS=="boolean"?s.lowS:!0,format:"compact",extraEntropy:!1},C=m*Pn<u.ORDER;function B(k){const z=m>>Ht;return k>z}function M(k,z){if(!d.isValidNot0(z))throw new Error(`invalid signature ${k}: out of range 1..Point.Fn.ORDER`);return z}function W(){if(C)throw new Error('"recovered" sig type is not supported for cofactor >2 curves')}function K(k,z){Xf(z);const w=_.signature,H=z==="compact"?w:z==="recovered"?w+1:void 0;return Pe(k,H)}class ue{constructor(z,w,H){ie(this,"r");ie(this,"s");ie(this,"recovery");if(this.r=M("r",z),this.s=M("s",w),H!=null){if(W(),![0,1,2,3].includes(H))throw new Error("invalid recovery id");this.recovery=H}Object.freeze(this)}static fromBytes(z,w=v.format){K(z,w);let H;if(w==="der"){const{r:A,s:O}=ti.toSig(Pe(z));return new ue(A,O)}w==="recovered"&&(H=z[0],w="compact",z=z.subarray(1));const J=_.signature/2,se=z.subarray(0,J),le=z.subarray(J,J*2);return new ue(d.fromBytes(se),d.fromBytes(le),H)}static fromHex(z,w){return this.fromBytes(ci(z),w)}assertRecovery(){const{recovery:z}=this;if(z==null)throw new Error("invalid recovery id: must be present");return z}addRecoveryBit(z){return new ue(this.r,this.s,z)}recoverPublicKey(z){const{r:w,s:H}=this,J=this.assertRecovery(),se=J===2||J===3?w+m:w;if(!u.isValid(se))throw new Error("invalid recovery id: sig.r+curve.n != R.x");const le=u.toBytes(se),A=a.fromBytes(lt(lg((J&1)===0),le)),O=d.inv(se),P=Q(Pe(z,void 0,"msgHash")),ae=d.create(-P*O),te=d.create(H*O),ne=a.BASE.multiplyUnsafe(ae).add(A.multiplyUnsafe(te));if(ne.is0())throw new Error("invalid recovery: point at infinify");return ne.assertValidity(),ne}hasHighS(){return B(this.s)}toBytes(z=v.format){if(Xf(z),z==="der")return ci(ti.hexFromSig(this));const{r:w,s:H}=this,J=d.toBytes(w),se=d.toBytes(H);return z==="recovered"?(W(),lt(Uint8Array.of(this.assertRecovery()),J,se)):lt(J,se)}toHex(z){return Di(this.toBytes(z))}}const pe=s.bits2int||function(z){if(z.length>8192)throw new Error("input is too large");const w=Cn(z),H=z.length*8-p;return H>0?w>>BigInt(H):w},Q=s.bits2int_modN||function(z){return d.create(pe(z))},ee=Rs(p);function ce(k){return Xy("num < 2^"+p,k,Ln,ee),d.toBytes(k)}function de(k,z){return Pe(k,void 0,"message"),z?Pe(n(k),void 0,"prehashed message"):k}function ye(k,z,w){const{lowS:H,prehash:J,extraEntropy:se}=Of(w,v);k=de(k,J);const le=Q(k),A=d.fromBytes(z);if(!d.isValidNot0(A))throw new Error("invalid private key");const O=[ce(A),ce(le)];if(se!=null&&se!==!1){const ne=se===!0?c(_.secretKey):se;O.push(Pe(ne,void 0,"extraEntropy"))}const P=lt(...O),ae=le;function te(ne){const Te=pe(ne);if(!d.isValidNot0(Te))return;const qe=d.inv(Te),Ie=a.BASE.multiply(Te).toAffine(),at=d.create(Ie.x);if(at===Ln)return;const pt=d.create(qe*d.create(ae+at*A));if(pt===Ln)return;let Hi=(Ie.x===at?0:2)|Number(Ie.y&Ht),Gs=pt;return H&&B(pt)&&(Gs=d.neg(pt),Hi^=1),new ue(at,Gs,C?void 0:Hi)}return{seed:P,k2sig:te}}function Ee(k,z,w={}){const{seed:H,k2sig:J}=ye(k,z,w);return Qy(n.outputLen,d.BYTES,l)(H,J).toBytes(w.format)}function fe(k,z,w,H={}){const{lowS:J,prehash:se,format:le}=Of(H,v);if(w=Pe(w,void 0,"publicKey"),z=de(z,se),!Il(k)){const A=k instanceof ue?", use sig.toBytes()":"";throw new Error("verify expects Uint8Array signature"+A)}K(k,le);try{const A=ue.fromBytes(k,le),O=a.fromBytes(w);if(J&&A.hasHighS())return!1;const{r:P,s:ae}=A,te=Q(z),ne=d.inv(ae),Te=d.create(te*ne),qe=d.create(P*ne),Ie=a.BASE.multiplyUnsafe(Te).add(O.multiplyUnsafe(qe));return Ie.is0()?!1:d.create(Ie.x)===P}catch{return!1}}function oe(k,z,w={}){const{prehash:H}=Of(w,v);return z=de(z,H),ue.fromBytes(k,"recovered").recoverPublicKey(z).toBytes()}return Object.freeze({keygen:h,getPublicKey:y,getSharedSecret:b,utils:E,lengths:_,Point:a,sign:Ee,verify:fe,recoverPublicKey:oe,Signature:ue,hash:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fd={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},y3={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},X1=BigInt(2);function x3(a){const n=fd.p,s=BigInt(3),c=BigInt(6),l=BigInt(11),u=BigInt(22),d=BigInt(23),m=BigInt(44),p=BigInt(88),h=a*a*a%n,y=h*h*a%n,b=Tn(y,s,n)*y%n,E=Tn(b,s,n)*y%n,_=Tn(E,X1,n)*h%n,v=Tn(_,l,n)*_%n,C=Tn(v,u,n)*v%n,B=Tn(C,m,n)*C%n,M=Tn(B,p,n)*B%n,W=Tn(M,m,n)*C%n,K=Tn(W,s,n)*y%n,ue=Tn(K,d,n)*v%n,pe=Tn(ue,c,n)*h%n,Q=Tn(pe,X1,n);if(!Qf.eql(Qf.sqr(Q),a))throw new Error("Cannot find square root");return Q}const Qf=Gi(fd.p,{sqrt:x3}),E3=Ds(fd,{Fp:Qf,endo:y3}),dd=fg(E3,Us),_3="ETHEREUMJS_DEFAULT_ERROR_CODE";class v3 extends Error{constructor(n,s,c){super(s??n.code),this.type=n,c!==void 0&&(this.stack=c)}getMetadata(){return this.type}toObject(){return{type:this.getMetadata(),message:this.message??"",stack:this.stack??"",className:this.constructor.name}}}function $(a,n){return new v3({code:_3},a,n)}function K1(a){if(a[0]===0)throw $("invalid RLP: extra zeros");return T3(S3(a))}function Q1(a,n){if(a<56)return Uint8Array.from([a+n]);const s=Wf(a),c=s.length/2,l=Wf(n+55+c);return Uint8Array.from(Jf(l+s))}function As(a,n,s){if(s>a.length)throw $("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return a.slice(n,s)}function $f(a){let n,s,c,l,u;const d=[],m=a[0];if(m<=127)return{data:a.slice(0,1),remainder:a.subarray(1)};if(m<=183){if(n=m-127,m===128?c=Uint8Array.from([]):c=As(a,1,n),n===2&&c[0]<128)throw $("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:c,remainder:a.subarray(n)}}else if(m<=191){if(s=m-182,a.length-1<s)throw $("invalid RLP: not enough bytes for string length");if(n=K1(As(a,1,s)),n<=55)throw $("invalid RLP: expected string length to be greater than 55");return c=As(a,s,n+s),{data:c,remainder:a.subarray(n+s)}}else if(m<=247){for(n=m-191,l=As(a,1,n);l.length;)u=$f(l),d.push(u.data),l=u.remainder;return{data:d,remainder:a.subarray(n)}}else{if(s=m-246,n=K1(As(a,1,s)),n<56)throw $("invalid RLP: encoded list too short");const p=s+n;if(p>a.length)throw $("invalid RLP: total length is larger than the data");for(l=As(a,s,p);l.length;)u=$f(l),d.push(u.data),l=u.remainder;return{data:d,remainder:a.subarray(p)}}}const A3=Array.from({length:256},(a,n)=>n.toString(16).padStart(2,"0"));function S3(a){let n="";for(let s=0;s<a.length;s++)n+=A3[a[s]];return n}function T3(a){const n=Number.parseInt(a,16);if(Number.isNaN(n))throw $("Invalid byte sequence");return n}const ha={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function $1(a){if(a>=ha._0&&a<=ha._9)return a-ha._0;if(a>=ha._A&&a<=ha._F)return a-(ha._A-10);if(a>=ha._a&&a<=ha._f)return a-(ha._a-10)}function Jf(a){if(a.slice(0,2)==="0x"&&(a=a.slice(0,2)),typeof a!="string")throw $("hex string expected, got "+typeof a);const n=a.length,s=n/2;if(n%2)throw $("padded hex string expected, got unpadded hex of length "+n);const c=new Uint8Array(s);for(let l=0,u=0;l<s;l++,u+=2){const d=$1(a.charCodeAt(u)),m=$1(a.charCodeAt(u+1));if(d===void 0||m===void 0){const p=a[u]+a[u+1];throw $('hex string expected, got non-hex character "'+p+'" at index '+u)}c[l]=d*16+m}return c}function J1(...a){if(a.length===1)return a[0];const n=a.reduce((c,l)=>c+l.length,0),s=new Uint8Array(n);for(let c=0,l=0;c<a.length;c++){const u=a[c];s.set(u,l),l+=u.length}return s}function O3(a){return new TextEncoder().encode(a)}function Wf(a){if(a<0)throw $("Invalid integer as argument, must be unsigned!");const n=a.toString(16);return n.length%2?`0${n}`:n}function C3(a){return a.length%2?`0${a}`:a}function dg(a){return a.length>=2&&a[0]==="0"&&a[1]==="x"}function w3(a){return typeof a!="string"?a:dg(a)?a.slice(2):a}function hg(a){if(a instanceof Uint8Array)return a;if(typeof a=="string")return dg(a)?Jf(C3(w3(a))):O3(a);if(typeof a=="number"||typeof a=="bigint")return a?Jf(Wf(a)):Uint8Array.from([]);if(a==null)return Uint8Array.from([]);throw $("toBytes: received unsupported type "+typeof a)}function mg(a){if(Array.isArray(a)){const s=[];let c=0;for(let l=0;l<a.length;l++){const u=mg(a[l]);s.push(u),c+=u.length}return J1(Q1(c,192),...s)}const n=hg(a);return n.length===1&&n[0]<128?n:J1(Q1(n.length,128),n)}function N3(a,n=!1){if(typeof a>"u"||a===null||a.length===0)return Uint8Array.from([]);const s=hg(a),c=$f(s);if(n)return{data:c.data,remainder:c.remainder.slice()};if(c.remainder.length!==0)throw $("invalid RLP: remainder must be zero");return c.data}const Ll={encode:mg,decode:N3};function hd(a,n){return!(typeof a!="string"||!a.match(/^0x[0-9A-Fa-f]*$/))}const Ol=a=>{if(typeof a!="string")throw $(`[stripHexPrefix] input must be type 'string', received ${typeof a}`);return hd(a)?a.slice(2):a};function md(a){let n=a;if(typeof n!="string")throw $(`[padToEven] value must be type 'string', received ${typeof n}`);return n.length%2&&(n=`0${n}`),n}const Zn=function(a){if(!(a instanceof Uint8Array)){const n=`This method only supports Uint8Array but input was: ${a}`;throw $(n)}},B3=function(a){if(typeof a!="string"){const n=`This method only supports strings but input was: ${a}`;throw $(n)}},pg=BigInt(0),kt=Di,_t=a=>{if(!a.startsWith("0x"))throw $("input string must be 0x prefixed");return ci(md(Ol(a)))},gg=a=>{if(a.startsWith("0x"))throw $("input string cannot be 0x prefixed");return ci(md(a))},xe=a=>`0x${kt(a)}`,ed=[];for(let a=0;a<=256*256-1;a++)ed[a]=BigInt(a);const ve=(a,n=!1)=>{Zn(a),n&&(a=a.slice().reverse());const s=xe(a);return s==="0x"?pg:s.length===4?ed[a[0]]:s.length===6?ed[a[0]*256+a[1]]:BigInt(s)},W1=a=>{const n=Number(ve(a));if(!Number.isSafeInteger(n))throw $("Number exceeds 53 bits");return n},U3=a=>{if(!Number.isSafeInteger(a)||a<0)throw $(`Received an invalid integer type: ${a}`);return`0x${a.toString(16)}`},pd=a=>{const n=U3(a);return _t(n)},Fe=(a,n=!1)=>{const s=_t(`0x${md(a.toString(16))}`);return n?s.reverse():s},bg=(a,n,s,c)=>{if(a.length>n){if(!c)throw $(`Input length ${a.length} exceeds target length ${n}. Use allowTruncate option to truncate.`);return s?a.subarray(0,n):a.subarray(-n)}return a.length<n?s?new Uint8Array([...a,...new Uint8Array(n-a.length)]):new Uint8Array([...new Uint8Array(n-a.length),...a]):a},ke=(a,n,s={})=>(Zn(a),bg(a,n,!1,s.allowTruncate??!1)),Gn=(a,n,s={})=>(Zn(a),bg(a,n,!0,s.allowTruncate??!1)),R3=a=>{let n=a[0];for(;a.length>0&&n.toString()==="0";)a=a.slice(1),n=a[0];return a},yg=a=>(Zn(a),R3(a)),D3=a=>{if(a==null)return new Uint8Array;if(Array.isArray(a)||a instanceof Uint8Array)return Uint8Array.from(a);if(typeof a=="string"){if(!hd(a))throw $(`Cannot convert string to Uint8Array. toBytes only supports 0x-prefixed hex strings and this string was given: ${a}`);return _t(a)}if(typeof a=="number")return pd(a);if(typeof a=="bigint"){if(a<pg)throw $(`Cannot convert negative bigint to Uint8Array. Given: ${a}`);let n=a.toString(16);return n.length%2&&(n="0"+n),gg(n)}if(a.toBytes!==void 0)return a.toBytes();throw $("invalid type")},gd=(a,n=50)=>{const s=a instanceof Uint8Array?xe(a):a,c=s.slice(0,2)==="0x"?n+2:n;return s.length<=c?s:s.slice(0,c)+""},Cf=a=>`0x${a.toString(16)}`,ul=a=>yg(Fe(a)),L3=(a,n=!0)=>{const s=Fe(a);if(n&&s.length>20)throw Error(`Invalid address bytes length=${s.length} strict=${n}`);return ke(s,20,{allowTruncate:!n})},ol=a=>yg(pd(a)),an=(...a)=>{if(a.length===1)return a[0];const n=a.reduce((c,l)=>c+l.length,0),s=new Uint8Array(n);for(let c=0,l=0;c<a.length;c++){const u=a[c];s.set(u,l),l+=u.length}return s};function dt(a,n){if(a.length!==n.length)return!1;for(let s=0;s<a.length;s++)if(a[s]!==n[s])return!1;return!0}const G3=BigInt("0xffffffffffffffff"),I3=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),wf=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),M3=dd.Point.CURVE().n;M3/BigInt(2);const fl=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),H3="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Lc=_t(H3),k3="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";_t(k3);const z3="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",xg=_t(z3);Us(new Uint8Array);Uint8Array.from([128]);const j3="0000000000000000000000000000000000000003";BigInt(-1);const D=BigInt(0),Ne=BigInt(1),ba=BigInt(2),V3=BigInt(3),Eg=BigInt(7),ni=BigInt(8),_g=BigInt(27),P3=BigInt(28),Ic=BigInt(31),At=BigInt(32),Mc=BigInt(64);BigInt(128);const Nf=BigInt(255),dl=BigInt(256),bd=BigInt(96);BigInt(100);const vg=BigInt(160),q3=BigInt(224),Y3=BigInt(7922816251426434e13),Z3=BigInt(1461501637330903e33),F3=BigInt(2695994666715064e52),X3=BigInt(0),Bc=BigInt(1),K3=BigInt(2),Q3=BigInt(7),$3=BigInt(256),J3=BigInt(113),Ag=[],Sg=[],Tg=[];for(let a=0,n=Bc,s=1,c=0;a<24;a++){[s,c]=[c,(2*s+3*c)%5],Ag.push(2*(5*c+s)),Sg.push((a+1)*(a+2)/2%64);let l=X3;for(let u=0;u<7;u++)n=(n<<Bc^(n>>Q3)*J3)%$3,n&K3&&(l^=Bc<<(Bc<<BigInt(u))-Bc);Tg.push(l)}const Og=ky(Tg,!0),W3=Og[0],ex=Og[1],ep=(a,n,s)=>s>32?Vy(a,n,s):zy(a,n,s),tp=(a,n,s)=>s>32?Py(a,n,s):jy(a,n,s);function tx(a,n=24){const s=new Uint32Array(10);for(let c=24-n;c<24;c++){for(let d=0;d<10;d++)s[d]=a[d]^a[d+10]^a[d+20]^a[d+30]^a[d+40];for(let d=0;d<10;d+=2){const m=(d+8)%10,p=(d+2)%10,h=s[p],y=s[p+1],b=ep(h,y,1)^s[m],E=tp(h,y,1)^s[m+1];for(let _=0;_<50;_+=10)a[d+_]^=b,a[d+_+1]^=E}let l=a[2],u=a[3];for(let d=0;d<24;d++){const m=Sg[d],p=ep(l,u,m),h=tp(l,u,m),y=Ag[d];l=a[y],u=a[y+1],a[y]=p,a[y+1]=h}for(let d=0;d<50;d+=10){for(let m=0;m<10;m++)s[m]=a[d+m];for(let m=0;m<10;m++)a[d+m]^=~s[(m+2)%10]&s[(m+4)%10]}a[0]^=W3[c],a[1]^=ex[c]}si(s)}class yd{constructor(n,s,c,l=!1,u=24){ie(this,"state");ie(this,"pos",0);ie(this,"posOut",0);ie(this,"finished",!1);ie(this,"state32");ie(this,"destroyed",!1);ie(this,"blockLen");ie(this,"suffix");ie(this,"outputLen");ie(this,"enableXOF",!1);ie(this,"rounds");if(this.blockLen=n,this.suffix=s,this.outputLen=c,this.enableXOF=l,this.rounds=u,ya(c,"outputLen"),!(0<n&&n<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=By(this.state)}clone(){return this._cloneInto()}keccak(){k1(this.state32),tx(this.state32,this.rounds),k1(this.state32),this.posOut=0,this.pos=0}update(n){ws(this),Pe(n);const{blockLen:s,state:c}=this,l=n.length;for(let u=0;u<l;){const d=Math.min(s-this.pos,l-u);for(let m=0;m<d;m++)c[this.pos++]^=n[u++];this.pos===s&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:n,suffix:s,pos:c,blockLen:l}=this;n[c]^=s,(s&128)!==0&&c===l-1&&this.keccak(),n[l-1]^=128,this.keccak()}writeInto(n){ws(this,!1),Pe(n),this.finish();const s=this.state,{blockLen:c}=this;for(let l=0,u=n.length;l<u;){this.posOut>=c&&this.keccak();const d=Math.min(c-this.posOut,u-l);n.set(s.subarray(this.posOut,this.posOut+d),l),this.posOut+=d,l+=d}return n}xofInto(n){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(n)}xof(n){return ya(n),this.xofInto(new Uint8Array(n))}digestInto(n){if(Hp(n,this),this.finished)throw new Error("digest() was already called");return this.writeInto(n),this.destroy(),n}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,si(this.state)}_cloneInto(n){const{blockLen:s,suffix:c,outputLen:l,rounds:u,enableXOF:d}=this;return n||(n=new yd(s,c,l,d,u)),n.state32.set(this.state32),n.pos=this.pos,n.posOut=this.posOut,n.finished=this.finished,n.rounds=u,n.suffix=c,n.outputLen=l,n.enableXOF=d,n.destroyed=this.destroyed,n}}const nx=(a,n,s,c={})=>rd(()=>new yd(n,a,s),c),xa=nx(1,136,32);class en{get version(){if(this._version!==null)return this._version;throw Error(`version=${this._version} not loaded`)}set version(n){this._version=n}get nonce(){if(this._nonce!==null)return this._nonce;throw Error(`nonce=${this._nonce} not loaded`)}set nonce(n){this._nonce=n}get balance(){if(this._balance!==null)return this._balance;throw Error(`balance=${this._balance} not loaded`)}set balance(n){this._balance=n}get storageRoot(){if(this._storageRoot!==null)return this._storageRoot;throw Error(`storageRoot=${this._storageRoot} not loaded`)}set storageRoot(n){this._storageRoot=n}get codeHash(){if(this._codeHash!==null)return this._codeHash;throw Error(`codeHash=${this._codeHash} not loaded`)}set codeHash(n){this._codeHash=n}get codeSize(){if(this._codeSize!==null)return this._codeSize;throw Error(`codeSize=${this._codeSize} not loaded`)}set codeSize(n){this._codeSize=n}constructor(n=D,s=D,c=xg,l=Lc,u=0,d=0){this._nonce=null,this._balance=null,this._storageRoot=null,this._codeHash=null,this._codeSize=null,this._version=null,this._nonce=n,this._balance=s,this._storageRoot=c,this._codeHash=l,u===null&&l!==null&&!this.isContract()&&(u=0),this._codeSize=u,this._version=d,this._validate()}_validate(){if(this._nonce!==null&&this._nonce<D)throw $("nonce must be greater than zero");if(this._balance!==null&&this._balance<D)throw $("balance must be greater than zero");if(this._storageRoot!==null&&this._storageRoot.length!==32)throw $("storageRoot must have a length of 32");if(this._codeHash!==null&&this._codeHash.length!==32)throw $("codeHash must have a length of 32");if(this._codeSize!==null&&this._codeSize<D)throw $("codeSize must be greater than zero")}raw(){return[ul(this.nonce),ul(this.balance),this.storageRoot,this.codeHash]}serialize(){return Ll.encode(this.raw())}serializeWithPartialInfo(){const n=[],s=ol(0),c=ol(1);return this._nonce!==null?n.push([c,ul(this._nonce)]):n.push([s]),this._balance!==null?n.push([c,ul(this._balance)]):n.push([s]),this._storageRoot!==null?n.push([c,this._storageRoot]):n.push([s]),this._codeHash!==null?n.push([c,this._codeHash]):n.push([s]),this._codeSize!==null?n.push([c,ol(this._codeSize)]):n.push([s]),this._version!==null?n.push([c,ol(this._version)]):n.push([s]),Ll.encode(n)}isContract(){if(this._codeHash===null&&this._codeSize===null)throw Error("Insufficient data as codeHash=null and codeSize=null");return this._codeHash!==null&&!dt(this._codeHash,Lc)||this._codeSize!==null&&this._codeSize!==0}isEmpty(){return this._balance!==null&&this.balance!==D||this._nonce===null&&this.nonce!==D||this._codeHash!==null&&!dt(this.codeHash,Lc)?!1:this.balance===D&&this.nonce===D&&dt(this.codeHash,Lc)}}const ax=function(a){try{B3(a)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(a)},ix=function(a,n){return Zn(a),Zn(n),ve(n)===D?xa(Ll.encode([a,Uint8Array.from([])])).subarray(-20):xa(Ll.encode([a,n])).subarray(-20)},sx=function(a,n,s){if(Zn(a),Zn(n),Zn(s),a.length!==20)throw $("Expected from to be of length 20");if(n.length!==32)throw $("Expected salt to be of length 32");return xa(an(_t("0xff"),a,n,xa(s))).subarray(-20)},cx=function(a,n=!1){if(Zn(a),n&&a.length!==64&&(a=dd.Point.fromBytes(a).toBytes(!1).slice(1)),a.length!==64)throw $("Expected pubKey to be of length 64");return xa(a).subarray(-20)},rx=cx;class Ea{constructor(n){if(n.length!==20)throw $("Invalid address length");this.bytes=n}equals(n){return dt(this.bytes,n.bytes)}isZero(){return this.equals(new Ea(new Uint8Array(20)))}isPrecompileOrSystemAddress(){const n=ve(this.bytes),s=D,c=BigInt("0xffff");return n>=s&&n<=c}toString(){return xe(this.bytes)}toBytes(){return new Uint8Array(this.bytes)}}function pa(){return new Ea(new Uint8Array(20))}function lx(a){const n=Fe(a);if(n.length>20)throw $(`Invalid address, too long: ${n.length}`);return new Ea(ke(n,20))}function hl(a){if(!ax(a))throw $(`Invalid address input=${a}`);return new Ea(_t(a))}const Ui={Number:0,BigInt:1,Uint8Array:2,PrefixedHexString:3};function Bf(a,n){if(a===null)return null;if(a===void 0)return;if(typeof a=="string"&&!hd(a))throw $(`A string must be provided with a 0x-prefix, given: ${a}`);if(typeof a=="number"&&!Number.isSafeInteger(a))throw $("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const s=D3(a);switch(n){case Ui.Uint8Array:return s;case Ui.BigInt:return ve(s);case Ui.Number:{const c=ve(s);if(c>BigInt(Number.MAX_SAFE_INTEGER))throw $("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(c)}case Ui.PrefixedHexString:return xe(s);default:throw $("unknown outputType")}}function ux(a,n){return a===D||a===Ne?a:n===void 0?a-_g:a-(n*ba+BigInt(35))}function ox(a){return a===D||a===Ne}const fx=function(a,n,s,c,l){const u=an(ke(s,32),ke(c,32)),d=ux(n,l);if(!ox(d))throw $("Invalid signature v value");return dd.Signature.fromBytes(u).addRecoveryBit(Number(d)).recoverPublicKey(a).toBytes(!1).slice(1)},dx=(a,n)=>{const s=new Uint8Array(32);return s.set([n],0),s.set(Us(_t(a)).subarray(1),1),xe(s)},jl=239,xd=0,Cg=1,hx=49152,mx=1,px=2,gx=3,bx=4,yx=0,xx=4,Ex=4096,Uf=4,_x=1,vx=1,Ax=1,Sx=256,Tx=1,Ox=127,Cx=128,wx=1023,Z={OUT_OF_BOUNDS:"Trying to read out of bounds",VERIFY_UINT:"Uint does not match expected value ",VERIFY_BYTES:"Bytes do not match expected value",FORMAT:"err: invalid format",MAGIC:"err: invalid magic",VERSION:"err: invalid eof version",KIND_TYPE:"err: expected kind types",KIND_CODE:"err: expected kind code",KIND_DATA:"err: expected kind data",TERMINATOR:"err: expected terminator",TYPE_SIZE:"missing type size",INVALID_TYPE_SIZE:"err: type section size invalid",CODE_SIZE:"missing code size",CODE_SECTION_SIZE:"code section should be at least one byte",INVALID_CODE_SIZE:"code size does not match type size",DATA_SIZE:"missing data size",CONTAINER_SIZE:"missing container size",CONTAINER_SECTION_SIZE:"container section should at least contain one section and at most 255 sections",TYPE_SECTIONS:"err: mismatch of code sections count and type signatures",INPUTS:"expected inputs",OUTPUTS:"expected outputs",MAX_INPUTS:"inputs exceeds 127, the maximum, got: ",MAX_OUTPUTS:"outputs exceeds 127, the maximum, got: ",CODE0_INPUTS:"first code section should have 0 inputs",CODE0_OUTPUTS:"first code section should have 0x80 (terminating section) outputs",MAX_STACK_HEIGHT:"expected maxStackHeight",MAX_STACK_HEIGHT_LIMIT:"stack height limit of 1024 exceeded: ",MIN_CODE_SECTIONS:"should have at least 1 code section",CODE_SECTION:"expected a code section",DATA_SECTION:"Expected data section",CONTAINER_SECTION:"expected a container section",CONTAINER_SECTION_MIN:"container section should be at least 1 byte",INVALID_EOF_CREATE_TARGET:"EOFCREATE targets an undefined container",INVALID_RETURN_CONTRACT_TARGET:"RETURNCONTRACT targets an undefined container",CONTAINER_DOUBLE_TYPE:"Container is targeted by both EOFCREATE and RETURNCONTRACT",UNREACHABLE_CONTAINER_SECTIONS:"Unreachable containers (by both EOFCREATE and RETURNCONTRACT)",CONTAINER_TYPE_ERROR:"Container contains opcodes which this mode (deployment mode / init code / runtime mode) cannot have",DANGLING_BYTES:"got dangling bytes in body",INVALID_OPCODE:"invalid opcode",INVALID_TERMINATOR:"invalid terminating opcode",OPCODE_INTERMEDIATES_OOB:"invalid opcode: intermediates out-of-bounds",INVALID_RJUMP:"invalid rjump* target",INVALID_CALL_TARGET:"invalid callf/jumpf target",INVALID_CALLF_RETURNING:"invalid callf: calls to non-returning function",INVALID_STACK_HEIGHT:"invalid stack height",INVALID_JUMPF:"invalid jumpf target (output count)",INVALID_RETURNING_SECTION:"invalid returning code section: section is not returning",RETURNING_NO_RETURN:"invalid section: section should return but has no RETF/JUMP to return",RJUMPV_TABLE_SIZE0:"invalid RJUMPV: table size 0",UNREACHABLE_CODE_SECTIONS:"unreachable code sections",UNREACHABLE_CODE:"unreachable code (by forward jumps)",DATALOADN_OOB:"DATALOADN reading out of bounds",MAX_STACK_HEIGHT_VIOLATION:"Max stack height does not match the reported max stack height",STACK_UNDERFLOW:"Stack underflow",STACK_OVERFLOW:"Stack overflow",UNSTABLE_STACK:"Unstable stack (can reach stack under/overflow by jumps)",RETF_NO_RETURN:"Trying to return to undefined function",RETURN_STACK_OVERFLOW:"Return stack overflow",INVALID_EXTCALL_TARGET:"invalid extcall target: address > 20 bytes",INVALID_RETURN_CONTRACT_DATA_SIZE:"invalid RETURNCONTRACT: data size lower than expected"};function ge(a,...n){switch(a){case Z.OUT_OF_BOUNDS:{const s=n[0];throw $(s===0||s===2||s===3||s===6?n[1]:Z.OUT_OF_BOUNDS+" ")}case Z.VERIFY_BYTES:{const s=n[0];throw $(s===0||s===2||s===3||s===6?n[1]:Z.VERIFY_BYTES+` at pos: ${n[0]}: ${n[1]}`)}case Z.VERIFY_UINT:{const s=n[0];throw $(s===0||s===2||s===3||s===6||s===18?n[1]:Z.VERIFY_UINT+`at pos: ${n[0]}: ${n[1]}`)}case Z.TYPE_SIZE:throw $(Z.TYPE_SIZE+n[0]);case Z.TYPE_SECTIONS:throw $(`${Z.TYPE_SECTIONS} (types ${n[0]} code ${n[1]})`);case Z.INVALID_TYPE_SIZE:throw $(Z.INVALID_TYPE_SIZE);case Z.INVALID_CODE_SIZE:throw $(Z.INVALID_CODE_SIZE+n[0]);case Z.INPUTS:throw $(`${Z.INPUTS} - typeSection ${n[0]}`);case Z.OUTPUTS:throw $(`${Z.OUTPUTS} - typeSection ${n[0]}`);case Z.CODE0_INPUTS:throw $("first code section should have 0 inputs");case Z.CODE0_OUTPUTS:throw $("first code section should have 0 outputs");case Z.MAX_INPUTS:throw $(Z.MAX_INPUTS+`${n[1]} - code section ${n[0]}`);case Z.MAX_OUTPUTS:throw $(Z.MAX_OUTPUTS+`${n[1]} - code section ${n[0]}`);case Z.CODE_SECTION:throw $(`expected code: codeSection ${n[0]}: `);case Z.DATA_SECTION:throw $(Z.DATA_SECTION);case Z.MAX_STACK_HEIGHT:throw $(`${Z.MAX_STACK_HEIGHT} - typeSection ${n[0]}: `);case Z.MAX_STACK_HEIGHT_LIMIT:throw $(`${Z.MAX_STACK_HEIGHT_LIMIT}, got: ${n[1]} - typeSection ${n[0]}`);case Z.DANGLING_BYTES:throw $(Z.DANGLING_BYTES);default:throw $(a)}}const Ri={0:{inputs:0,outputs:0,name:"STOP",intermediates:0,terminating:!0},1:{inputs:2,outputs:1,name:"ADD",intermediates:0},2:{inputs:2,outputs:1,name:"MUL",intermediates:0},3:{inputs:2,outputs:1,name:"SUB",intermediates:0},4:{inputs:2,outputs:1,name:"DIV",intermediates:0},5:{inputs:2,outputs:1,name:"SDIV",intermediates:0},6:{inputs:2,outputs:1,name:"MOD",intermediates:0},7:{inputs:2,outputs:1,name:"SMOD",intermediates:0},8:{inputs:3,outputs:1,name:"ADDMOD",intermediates:0},9:{inputs:3,outputs:1,name:"MULMOD",intermediates:0},10:{inputs:2,outputs:1,name:"EXP",intermediates:0},11:{inputs:2,outputs:1,name:"SIGNEXTEND",intermediates:0},16:{inputs:2,outputs:1,name:"LT",intermediates:0},17:{inputs:2,outputs:1,name:"GT",intermediates:0},18:{inputs:2,outputs:1,name:"SLT",intermediates:0},19:{inputs:2,outputs:1,name:"SGT",intermediates:0},20:{inputs:2,outputs:1,name:"EQ",intermediates:0},21:{inputs:1,outputs:1,name:"ISZERO",intermediates:0},22:{inputs:2,outputs:1,name:"AND",intermediates:0},23:{inputs:2,outputs:1,name:"OR",intermediates:0},24:{inputs:2,outputs:1,name:"XOR",intermediates:0},25:{inputs:1,outputs:1,name:"NOT",intermediates:0},26:{inputs:2,outputs:1,name:"BYTE",intermediates:0},27:{inputs:2,outputs:1,name:"SHL",intermediates:0},28:{inputs:2,outputs:1,name:"SHR",intermediates:0},29:{inputs:2,outputs:1,name:"SAR",intermediates:0},32:{inputs:2,outputs:1,name:"SHA3",intermediates:0},48:{inputs:0,outputs:1,name:"ADDRESS",intermediates:0},49:{inputs:1,outputs:1,name:"BALANCE",intermediates:0},50:{inputs:0,outputs:1,name:"ORIGIN",intermediates:0},51:{inputs:0,outputs:1,name:"CALLER",intermediates:0},52:{inputs:0,outputs:1,name:"CALLVALUE",intermediates:0},53:{inputs:1,outputs:1,name:"CALLDATALOAD",intermediates:0},54:{inputs:0,outputs:1,name:"CALLDATASIZE",intermediates:0},55:{inputs:3,outputs:0,name:"CALLDATACOPY",intermediates:0},58:{inputs:0,outputs:1,name:"GASPRICE",intermediates:0},61:{inputs:0,outputs:1,name:"RETURNDATASIZE",intermediates:0},62:{inputs:3,outputs:0,name:"RETURNDATACOPY",intermediates:0},64:{inputs:1,outputs:1,name:"BLOCKHASH",intermediates:0},65:{inputs:0,outputs:1,name:"COINBASE",intermediates:0},66:{inputs:0,outputs:1,name:"TIMESTAMP",intermediates:0},67:{inputs:0,outputs:1,name:"NUMBER",intermediates:0},68:{inputs:0,outputs:1,name:"PREVRANDAO",intermediates:0},69:{inputs:0,outputs:1,name:"GASLIMIT",intermediates:0},70:{inputs:0,outputs:1,name:"CHAINID",intermediates:0},71:{inputs:0,outputs:1,name:"SELFBALANCE",intermediates:0},72:{inputs:0,outputs:1,name:"BASEFEE",intermediates:0},73:{inputs:1,outputs:1,name:"BLOBAHASH",intermediates:0},74:{inputs:0,outputs:1,name:"BLOBBASEFEE",intermediates:0},80:{inputs:1,outputs:0,name:"POP",intermediates:0},81:{inputs:1,outputs:1,name:"MLOAD",intermediates:0},82:{inputs:2,outputs:0,name:"MSTORE",intermediates:0},83:{inputs:2,outputs:0,name:"MSTORE8",intermediates:0},84:{inputs:1,outputs:1,name:"SLOAD",intermediates:0},85:{inputs:2,outputs:0,name:"SSTORE",intermediates:0},89:{inputs:0,outputs:1,name:"MSIZE",intermediates:0},91:{inputs:0,outputs:0,name:"NOOP",intermediates:0},92:{inputs:1,outputs:1,name:"TLOAD",intermediates:0},93:{inputs:2,outputs:0,name:"TSTORE",intermediates:0},94:{inputs:3,outputs:0,name:"MCOPY",intermediates:0},95:{inputs:0,outputs:1,name:"PUSH0",intermediates:0},96:{inputs:0,outputs:1,name:"PUSH1",intermediates:1},97:{inputs:0,outputs:1,name:"PUSH2",intermediates:2},98:{inputs:0,outputs:1,name:"PUSH3",intermediates:3},99:{inputs:0,outputs:1,name:"PUSH4",intermediates:4},100:{inputs:0,outputs:1,name:"PUSH5",intermediates:5},101:{inputs:0,outputs:1,name:"PUSH6",intermediates:6},102:{inputs:0,outputs:1,name:"PUSH7",intermediates:7},103:{inputs:0,outputs:1,name:"PUSH8",intermediates:8},104:{inputs:0,outputs:1,name:"PUSH9",intermediates:9},105:{inputs:0,outputs:1,name:"PUSH10",intermediates:10},106:{inputs:0,outputs:1,name:"PUSH11",intermediates:11},107:{inputs:0,outputs:1,name:"PUSH12",intermediates:12},108:{inputs:0,outputs:1,name:"PUSH13",intermediates:13},109:{inputs:0,outputs:1,name:"PUSH14",intermediates:14},110:{inputs:0,outputs:1,name:"PUSH15",intermediates:15},111:{inputs:0,outputs:1,name:"PUSH16",intermediates:16},112:{inputs:0,outputs:1,name:"PUSH17",intermediates:17},113:{inputs:0,outputs:1,name:"PUSH18",intermediates:18},114:{inputs:0,outputs:1,name:"PUSH19",intermediates:19},115:{inputs:0,outputs:1,name:"PUSH20",intermediates:20},116:{inputs:0,outputs:1,name:"PUSH21",intermediates:21},117:{inputs:0,outputs:1,name:"PUSH22",intermediates:22},118:{inputs:0,outputs:1,name:"PUSH23",intermediates:23},119:{inputs:0,outputs:1,name:"PUSH24",intermediates:24},120:{inputs:0,outputs:1,name:"PUSH25",intermediates:25},121:{inputs:0,outputs:1,name:"PUSH26",intermediates:26},122:{inputs:0,outputs:1,name:"PUSH27",intermediates:27},123:{inputs:0,outputs:1,name:"PUSH28",intermediates:28},124:{inputs:0,outputs:1,name:"PUSH29",intermediates:29},125:{inputs:0,outputs:1,name:"PUSH30",intermediates:30},126:{inputs:0,outputs:1,name:"PUSH31",intermediates:31},127:{inputs:0,outputs:1,name:"PUSH32",intermediates:32},128:{inputs:1,outputs:2,name:"DUP1",intermediates:0},129:{inputs:2,outputs:3,name:"DUP2",intermediates:0},130:{inputs:3,outputs:4,name:"DUP3",intermediates:0},131:{inputs:4,outputs:5,name:"DUP4",intermediates:0},132:{inputs:5,outputs:6,name:"DUP5",intermediates:0},133:{inputs:6,outputs:7,name:"DUP6",intermediates:0},134:{inputs:7,outputs:8,name:"DUP7",intermediates:0},135:{inputs:8,outputs:9,name:"DUP8",intermediates:0},136:{inputs:9,outputs:10,name:"DUP9",intermediates:0},137:{inputs:10,outputs:11,name:"DUP10",intermediates:0},138:{inputs:11,outputs:12,name:"DUP11",intermediates:0},139:{inputs:12,outputs:13,name:"DUP12",intermediates:0},140:{inputs:13,outputs:14,name:"DUP13",intermediates:0},141:{inputs:14,outputs:15,name:"DUP14",intermediates:0},142:{inputs:15,outputs:16,name:"DUP15",intermediates:0},143:{inputs:16,outputs:17,name:"DUP16",intermediates:0},144:{inputs:2,outputs:2,name:"SWAP1",intermediates:0},145:{inputs:3,outputs:3,name:"SWAP2",intermediates:0},146:{inputs:4,outputs:4,name:"SWAP3",intermediates:0},147:{inputs:5,outputs:5,name:"SWAP4",intermediates:0},148:{inputs:6,outputs:6,name:"SWAP5",intermediates:0},149:{inputs:7,outputs:7,name:"SWAP6",intermediates:0},150:{inputs:8,outputs:8,name:"SWAP7",intermediates:0},151:{inputs:9,outputs:9,name:"SWAP8",intermediates:0},152:{inputs:10,outputs:10,name:"SWAP9",intermediates:0},153:{inputs:11,outputs:11,name:"SWAP10",intermediates:0},154:{inputs:12,outputs:12,name:"SWAP11",intermediates:0},155:{inputs:13,outputs:13,name:"SWAP12",intermediates:0},156:{inputs:14,outputs:14,name:"SWAP13",intermediates:0},157:{inputs:15,outputs:15,name:"SWAP14",intermediates:0},158:{inputs:16,outputs:16,name:"SWAP15",intermediates:0},159:{inputs:17,outputs:17,name:"SWAP16",intermediates:0},160:{inputs:2,outputs:0,name:"LOG0",intermediates:0},161:{inputs:3,outputs:0,name:"LOG1",intermediates:0},162:{inputs:4,outputs:0,name:"LOG2",intermediates:0},163:{inputs:5,outputs:0,name:"LOG3",intermediates:0},164:{inputs:6,outputs:0,name:"LOG4",intermediates:0},208:{inputs:1,outputs:1,name:"DATALOAD",intermediates:0},209:{inputs:0,outputs:1,name:"DATALOADN",intermediates:2},210:{inputs:0,outputs:1,name:"DATASIZE",intermediates:0},211:{inputs:3,outputs:0,name:"DATACOPY",intermediates:0},224:{inputs:0,outputs:0,name:"RJUMP",intermediates:2},225:{inputs:1,outputs:0,name:"RJUMPI",intermediates:2},226:{inputs:1,outputs:0,name:"RJUMPV",intermediates:0},227:{inputs:0,outputs:0,name:"CALLF",intermediates:2},228:{inputs:0,outputs:0,name:"RETF",intermediates:0,terminating:!0},229:{inputs:0,outputs:0,name:"JUMPF",intermediates:2,terminating:!0},230:{inputs:0,outputs:1,name:"DUPN",intermediates:1},231:{inputs:0,outputs:0,name:"SWAPN",intermediates:1},232:{inputs:0,outputs:0,name:"EXCHANGE",intermediates:1},236:{inputs:4,outputs:1,name:"EOFCREATE",intermediates:1},238:{inputs:2,outputs:0,name:"RETURNCONTRACT",intermediates:1,terminating:!0},243:{inputs:2,outputs:0,name:"RETURN",intermediates:0,terminating:!0},247:{inputs:1,outputs:1,name:"RETURNDATALOAD",intermediates:0},248:{inputs:4,outputs:1,name:"EXTCALL",intermediates:0},249:{inputs:3,outputs:1,name:"EXTDELEGATECALL",intermediates:0},251:{inputs:3,outputs:1,name:"EXTSTATICCALL",intermediates:0},253:{inputs:2,outputs:0,name:"REVERT",intermediates:0,terminating:!0},254:{inputs:0,outputs:0,name:"INVALID",intermediates:0,terminating:!0}},Rn={InitCode:"initCode",DeploymentCode:"deploymentCode",RuntimeCode:"runtimeCode"};function Nx(a,n,s=Rn.RuntimeCode){return Bx(a,n,s)}function np(a,n){return new DataView(a.buffer).getInt16(n)}function ap(a,n){return new DataView(a.buffer).getUint16(n)}function Bx(a,n,s=Rn.RuntimeCode){const c=new Map,l=n.getActiveOpcodes(),u=new Set;for(const[v]of l)u.add(v);u.add(254),u.delete(56),u.delete(57),u.delete(90),u.delete(59),u.delete(60),u.delete(63),u.delete(242),u.delete(255),u.delete(86),u.delete(87),u.delete(88),u.delete(240),u.delete(245);const d=new Set;d.add(0),d.add(243),d.add(253),d.add(254),d.add(238),d.add(228),d.add(229),d.add(224);for(const v of d)u.has(v)||d.delete(v);const m=new Set,p={};let h=-1;for(const v of a.body.codeSections){let M=function(fe){C.has(fe)&&ge(Z.INVALID_RJUMP),B.add(fe)},W=function(fe){B.has(fe)&&ge(Z.INVALID_RJUMP),C.add(fe)};var E=M,_=W;const C=new Set,B=new Set;h++,p[h]=new Set;const K=a.body.typeSections[h].outputs===128;let ue=!1;const pe=new Set;pe.add(0);let Q=0,ee=0;const ce=a.body.typeSections[h].inputs;let de=ce;const ye=[ce],Ee=[ce];for(;Q<v.length;){const fe=new Set;pe.has(Q)||ge(Z.UNREACHABLE_CODE),(ye[Q]===void 0||Ee[Q]===void 0)&&ge(Z.UNREACHABLE_CODE),m.add(Q);const oe=v[Q],k=ye[Q],z=Ee[Q],w=Ri[oe].inputs,H=Ri[oe].outputs;k-w<0&&ge(Z.STACK_UNDERFLOW);const J=H-w;let se=k+J,le=z+J;if(le>1024&&ge(Z.STACK_OVERFLOW),K&&oe===228&&ge(Z.INVALID_RETURNING_SECTION),ee=oe,u.has(oe)||ge(Z.INVALID_OPCODE),oe===224||oe===225){const O=np(v,Q+1)+Q+3;(O<0||O>=v.length)&&ge(Z.INVALID_RJUMP),fe.add(O),M(O),pe.add(O),oe===224&&!pe.has(Q+3)&&Q+3<v.length&&ge(Z.UNREACHABLE_CODE)}else if(oe===226){const O=v[Q+1]+1;O===void 0?ge(Z.OPCODE_INTERMEDIATES_OOB):O===0&&ge(Z.RJUMPV_TABLE_SIZE0),Q+O*2+2>=v.length&&ge(Z.OPCODE_INTERMEDIATES_OOB);const P=Q+2+O*2;for(let ae=0;ae<O;ae++){const te=Q+2+ae*2;W(te),W(te+1);const ne=np(v,te)+P;(ne<0||ne>=v.length)&&ge(Z.OPCODE_INTERMEDIATES_OOB),fe.add(ne),M(ne),pe.add(ne)}W(Q+1),Q+=2*O+1}else if(oe===227||oe===229){const O=ap(v,Q+1);if(p[h].add(O),O>=a.header.codeSizes.length&&ge(Z.INVALID_CALL_TARGET),oe===227){const P=a.body.typeSections[O].outputs,ae=a.body.typeSections[O].inputs;P===128&&ge(Z.INVALID_CALLF_RETURNING),k<ae&&ge(Z.STACK_UNDERFLOW),z+a.body.typeSections[O].maxStackHeight-ae>1024&&ge(Z.STACK_OVERFLOW),se+=P-ae,le+=P-ae}else{const P=a.body.typeSections[h].outputs,ae=a.body.typeSections[O].outputs,te=a.body.typeSections[O].inputs,ne=ae===128;if(ae>P&&!ne&&ge(Z.INVALID_JUMPF),K&&ae<=127&&ge(Z.INVALID_RETURNING_SECTION),ne)k<te&&ge(Z.STACK_UNDERFLOW);else{const Te=P+te-ae;k===z&&z===Te||ge(Z.INVALID_STACK_HEIGHT),ue=!0}z+a.body.typeSections[O].maxStackHeight-te>1024&&ge(Z.STACK_OVERFLOW)}}else if(oe===228){const O=a.body.typeSections[h].outputs;k===z&&z===O||ge(Z.INVALID_STACK_HEIGHT),ue=!0}else if(oe===230)v[Q+1]+1>k&&ge(Z.STACK_UNDERFLOW);else if(oe===231)v[Q+1]+2>k&&ge(Z.STACK_UNDERFLOW);else if(oe===232){const O=v[Q+1],P=(O>>4)+1,ae=(O&15)+1;P+ae+1>k&&ge(Z.STACK_UNDERFLOW)}else if(oe===236){const O=v[Q+1];O>=a.header.containerSizes.length&&ge(Z.INVALID_EOF_CREATE_TARGET),c.has(O)&&c.get(O)!==Rn.InitCode&&ge(Z.CONTAINER_DOUBLE_TYPE),c.set(O,Rn.InitCode)}else if(oe===238){s!==Rn.InitCode&&ge(Z.CONTAINER_TYPE_ERROR);const O=v[Q+1];O>=a.header.containerSizes.length&&ge(Z.INVALID_RETURN_CONTRACT_TARGET),c.has(O)&&c.get(O)!==Rn.DeploymentCode&&ge(Z.CONTAINER_DOUBLE_TYPE),c.set(O,Rn.DeploymentCode)}else if(oe===209){const P=ap(v,Q+1)+32;a.header.dataSize<P&&ge(Z.DATALOADN_OOB)}else(oe===0||oe===243)&&s===Rn.InitCode&&ge(Z.CONTAINER_TYPE_ERROR);const A=Ri[oe].intermediates;if(A>0){for(let O=1;O<=A;O++)W(Q+O);Q+=A}Q>=v.length&&ge(Z.OPCODE_INTERMEDIATES_OOB),Q++,Ri[oe].terminating===void 0&&(pe.add(Q),oe!==224&&fe.add(Q));for(const O of fe)O<Q&&(ye[O]!==se||Ee[O]!==le)&&ge(Z.UNSTABLE_STACK),Ee[O]===void 0?(ye[O]=se,Ee[O]=le):(ye[O]=Math.min(ye[O],se),Ee[O]=Math.max(Ee[O],le));de=Math.max(le,de)}d.has(ee)||ge(Z.INVALID_TERMINATOR),a.body.typeSections[h].maxStackHeight!==de&&ge(Z.MAX_STACK_HEIGHT_VIOLATION),de>1024&&ge(Z.MAX_STACK_HEIGHT_LIMIT),!ue&&!K&&ge(Z.RETURNING_NO_RETURN)}const y=new Set;y.add(0);const b=[0];for(;b.length>0;){const v=p[b.pop()];for(const C of v)y.has(C)||(y.add(C),b.push(C))}return y.size!==a.header.codeSizes.length&&ge(Z.UNREACHABLE_CODE_SECTIONS),c.size!==a.header.containerSizes.length&&ge(Z.UNREACHABLE_CONTAINER_SECTIONS),c}const Fn={Default:"default",Initmode:"initMode",TxInitmode:"txInitMode"};class wg{constructor(n){this.data=n,this.ptr=0}readBytes(n,s){const c=this.ptr+n;c>this.data.length&&ge(Z.OUT_OF_BOUNDS,this.ptr,s);const l=this.ptr;return this.ptr+=n,this.data.slice(l,c)}readUint(n){return this.ptr>=this.data.length&&ge(Z.OUT_OF_BOUNDS,this.ptr,n),this.data[this.ptr++]}verifyUint(n,s){this.readUint()!==n&&ge(Z.VERIFY_UINT,this.ptr-1,s)}readUint16(n){this.ptr+2>this.data.length&&ge(Z.OUT_OF_BOUNDS,this.ptr,n);const c=this.ptr;return this.ptr+=2,new DataView(this.data.buffer).getUint16(c)}getPtr(){return this.ptr}readRemainder(){return this.data.slice(this.ptr)}isAtEnd(){return this.ptr===this.data.length}}class Ux{constructor(n){if(n.length>hx)throw $("err: container size more than maximum valid size");const s=new wg(n);if(s.verifyUint(jl,Z.FORMAT),s.verifyUint(xd,Z.MAGIC),s.verifyUint(Cg,Z.VERSION),n.length<15)throw $("err: container size less than minimum valid size");s.verifyUint(mx,Z.KIND_TYPE);const c=s.readUint16(Z.TYPE_SIZE);if(c<xx&&ge(Z.INVALID_TYPE_SIZE,c),c%Uf!==0&&ge(Z.INVALID_TYPE_SIZE,c),c>Ex)throw $(`err: number of code sections must not exceed 1024 (got ${c})`);s.verifyUint(px,Z.KIND_CODE);const l=s.readUint16(Z.CODE_SIZE);l<_x&&ge(Z.MIN_CODE_SECTIONS),l!==c/Uf&&ge(Z.TYPE_SECTIONS,c/Uf,l);const u=[];for(let y=0;y<l;y++){const b=s.readUint16(Z.CODE_SECTION);b<vx&&ge(Z.CODE_SECTION_SIZE),u.push(b)}let d=s.readUint();const m=[];if(d===gx){const y=s.readUint16(Z.CONTAINER_SIZE);y<Ax&&ge(Z.CONTAINER_SECTION_SIZE),y>Sx&&ge(Z.CONTAINER_SECTION_SIZE);for(let b=0;b<y;b++){const E=s.readUint16(Z.CONTAINER_SECTION);E<Tx&&ge(Z.CONTAINER_SECTION_MIN),m.push(E)}d=s.readUint()}d!==bx&&ge(Z.KIND_DATA),this.dataSizePtr=s.getPtr();const p=s.readUint16(Z.DATA_SIZE);s.verifyUint(yx,Z.TERMINATOR),this.typeSize=c,this.codeSizes=u,this.containerSizes=m,this.dataSize=p,this.buffer=n.slice(0,s.getPtr());const h=this.buffer.length+this.typeSize;this.codeStartPos=[h]}sections(){return[this.typeSize,this.codeSizes,this.containerSizes,this.dataSize]}sectionSizes(){return[1,this.codeSizes.length,this.containerSizes.length,1]}getCodePosition(n){if(this.codeStartPos[n])return this.codeStartPos[n];const s=this.codeStartPos.length;let c=this.codeStartPos[s-1];for(let l=s;l<=n;l++)c+=this.codeSizes[l-1],this.codeStartPos[l]=c;return c}getSectionFromProgramCounter(n){const s=this.codeSizes.length-1,l=this.getCodePosition(s)+this.codeSizes[s];if(n<0||n>l)throw $("program counter out of bounds");this.codeStartPos.length<this.codeSizes.length&&this.getCodePosition(this.codeSizes.length-1);for(let u=0;u<this.codeSizes.length;u++)if(n<this.codeStartPos[u]+this.codeSizes[u])return u;throw $(`Invalid program counter value: ${n}`)}}class Rx{constructor(n,s,c=Fn.Default,l=!1){const u=new wg(n),d=[];for(let E=0;E<s.typeSize/4;E++){const _=u.readUint(Z.INPUTS),v=u.readUint(Z.OUTPUTS),C=u.readUint16(Z.MAX_STACK_HEIGHT);E===0&&(_!==0&&ge(Z.CODE0_INPUTS),v!==128&&ge(Z.CODE0_OUTPUTS)),_>Ox&&ge(Z.MAX_INPUTS,E,_),v>Cx&&ge(Z.MAX_OUTPUTS,E,v),C>wx&&ge(Z.MAX_STACK_HEIGHT_LIMIT,E,C),d.push({inputs:_,outputs:v,maxStackHeight:C})}const m=u.getPtr(),p=[];for(const[E,_]of s.codeSizes.entries())try{const v=u.readBytes(_);p.push(v)}catch{ge(Z.CODE_SECTION,E)}const h=n.slice(m,u.getPtr()),y=[];for(const[E,_]of s.containerSizes.entries())try{const v=u.readBytes(_);y.push(v)}catch{ge(Z.CONTAINER_SECTION,E)}let b;c!==Fn.Initmode&&!l?(b=u.readBytes(s.dataSize,Z.DATA_SECTION),c===Fn.Default?u.isAtEnd()||ge(Z.DANGLING_BYTES):this.txCallData=u.readRemainder()):(b=u.readRemainder(),b.length>s.dataSize&&ge(Z.DANGLING_BYTES)),this.typeSections=d,this.codeSections=p,this.containerSections=y,this.entireCode=h,this.dataSection=b,this.buffer=n}sections(){return[this.typeSections,this.codeSections,this.dataSection]}size(){return{typeSize:this.typeSections.length,codeSize:this.codeSections.length,dataSize:this.dataSection.length}}sectionSizes(){return[this.typeSections.map(()=>4),this.codeSections.map(n=>n.length),this.dataSection.length]}}class Ed{constructor(n,s=Fn.Default,c=!1){this.eofMode=s,this.header=new Ux(n),this.body=new Rx(n.slice(this.header.buffer.length),this.header,s,c),this.buffer=n}}function Ng(a,n,s=Rn.RuntimeCode,c=Fn.Default){const l=new Ed(a,c,s===Rn.DeploymentCode),u=Nx(l,n,s);for(let d=0;d<l.body.containerSections.length;d++){const m=l.body.containerSections[d],p=u.get(d);Ng(m,n,p)}return l}const Bg="EVMError",Dx={OUT_OF_GAS:"out of gas",CODESTORE_OUT_OF_GAS:"code store out of gas",CODESIZE_EXCEEDS_MAXIMUM:"code size to deposit exceeds maximum code size",STACK_UNDERFLOW:"stack underflow",STACK_OVERFLOW:"stack overflow",INVALID_JUMP:"invalid JUMP",INVALID_OPCODE:"invalid opcode",OUT_OF_RANGE:"value out of range",REVERT:"revert",STATIC_STATE_CHANGE:"static state change",INTERNAL_ERROR:"internal error",CREATE_COLLISION:"create collision",STOP:"stop",REFUND_EXHAUSTED:"refund exhausted",VALUE_OVERFLOW:"value overflow",INSUFFICIENT_BALANCE:"insufficient balance",INVALID_BYTECODE_RESULT:"invalid bytecode deployed",INITCODE_SIZE_VIOLATION:"initcode exceeds max initcode size",INVALID_INPUT_LENGTH:"invalid input length",INVALID_EOF_FORMAT:"invalid EOF format",BLS_12_381_INVALID_INPUT_LENGTH:"invalid input length",BLS_12_381_POINT_NOT_ON_CURVE:"point not on curve",BLS_12_381_INPUT_EMPTY:"input is empty",BLS_12_381_FP_NOT_IN_FIELD:"fp point not in field",BN254_FP_NOT_IN_FIELD:"fp point not in field",INVALID_COMMITMENT:"kzg commitment does not match versioned hash",INVALID_INPUTS:"kzg inputs invalid",INVALID_PROOF:"kzg proof invalid"};class R{constructor(n){this.error=n,this.errorType=Bg}}R.errorMessages=Dx;const Lx={name:"mainnet",chainId:1,defaultHardfork:"prague",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},depositContractAddress:"0x00000000219ab540356cBB839Cbe05303d7705Fa",hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{name:"paris",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeNetsplitBlock",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1681338455",forkHash:"0xdce96c2d"},{name:"cancun",block:null,timestamp:"1710338135",forkHash:"0x9f3d2254"},{name:"prague",block:null,timestamp:"1746612311",forkHash:"0xc376cf8b"},{name:"osaka",block:null,timestamp:"1764798551",forkHash:"0x5167e2a6"},{name:"bpo1",block:null,timestamp:"1765290071",forkHash:"0xcba2a1c0"},{name:"bpo2",block:null,timestamp:"1767747671",forkHash:"0x07c9462e"},{name:"amsterdam",block:null}],bootstrapNodes:[{ip:"18.138.108.67",port:30303,id:"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666",location:"ap-southeast-1-001",comment:"bootnode-aws-ap-southeast-1-001"},{ip:"3.209.45.79",port:30303,id:"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de",location:"us-east-1-001",comment:"bootnode-aws-us-east-1-001"},{ip:"65.108.70.101",port:30303,id:"2b252ab6a1d0f971d9722cb839a42cb81db019ba44c08754628ab4a823487071b5695317c8ccd085219c3a03af063495b2f1da8d18218da2d6a82981b45e6ffc",location:"eu-west-1-001",comment:"bootnode-hetzner-hel"},{ip:"157.90.35.166",port:30303,id:"4aeb4ab6c14b23e2c4cfdce879c04b0748a20d8e9b59e25ded2a08143e265c6c25936e74cbc8e641e3312ca288673d91f2f93f8e277de3cfa444ecdaaf982052",location:"eu-central-1-001",comment:"bootnode-hetzner-fsn"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]};var Rf={exports:{}},ip;function Gx(){return ip||(ip=1,(function(a){var n=Object.prototype.hasOwnProperty,s="~";function c(){}Object.create&&(c.prototype=Object.create(null),new c().__proto__||(s=!1));function l(p,h,y){this.fn=p,this.context=h,this.once=y||!1}function u(p,h,y,b,E){if(typeof y!="function")throw new TypeError("The listener must be a function");var _=new l(y,b||p,E),v=s?s+h:h;return p._events[v]?p._events[v].fn?p._events[v]=[p._events[v],_]:p._events[v].push(_):(p._events[v]=_,p._eventsCount++),p}function d(p,h){--p._eventsCount===0?p._events=new c:delete p._events[h]}function m(){this._events=new c,this._eventsCount=0}m.prototype.eventNames=function(){var h=[],y,b;if(this._eventsCount===0)return h;for(b in y=this._events)n.call(y,b)&&h.push(s?b.slice(1):b);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(y)):h},m.prototype.listeners=function(h){var y=s?s+h:h,b=this._events[y];if(!b)return[];if(b.fn)return[b.fn];for(var E=0,_=b.length,v=new Array(_);E<_;E++)v[E]=b[E].fn;return v},m.prototype.listenerCount=function(h){var y=s?s+h:h,b=this._events[y];return b?b.fn?1:b.length:0},m.prototype.emit=function(h,y,b,E,_,v){var C=s?s+h:h;if(!this._events[C])return!1;var B=this._events[C],M=arguments.length,W,K;if(B.fn){switch(B.once&&this.removeListener(h,B.fn,void 0,!0),M){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,y),!0;case 3:return B.fn.call(B.context,y,b),!0;case 4:return B.fn.call(B.context,y,b,E),!0;case 5:return B.fn.call(B.context,y,b,E,_),!0;case 6:return B.fn.call(B.context,y,b,E,_,v),!0}for(K=1,W=new Array(M-1);K<M;K++)W[K-1]=arguments[K];B.fn.apply(B.context,W)}else{var ue=B.length,pe;for(K=0;K<ue;K++)switch(B[K].once&&this.removeListener(h,B[K].fn,void 0,!0),M){case 1:B[K].fn.call(B[K].context);break;case 2:B[K].fn.call(B[K].context,y);break;case 3:B[K].fn.call(B[K].context,y,b);break;case 4:B[K].fn.call(B[K].context,y,b,E);break;default:if(!W)for(pe=1,W=new Array(M-1);pe<M;pe++)W[pe-1]=arguments[pe];B[K].fn.apply(B[K].context,W)}}return!0},m.prototype.on=function(h,y,b){return u(this,h,y,b,!1)},m.prototype.once=function(h,y,b){return u(this,h,y,b,!0)},m.prototype.removeListener=function(h,y,b,E){var _=s?s+h:h;if(!this._events[_])return this;if(!y)return d(this,_),this;var v=this._events[_];if(v.fn)v.fn===y&&(!E||v.once)&&(!b||v.context===b)&&d(this,_);else{for(var C=0,B=[],M=v.length;C<M;C++)(v[C].fn!==y||E&&!v[C].once||b&&v[C].context!==b)&&B.push(v[C]);B.length?this._events[_]=B.length===1?B[0]:B:d(this,_)}return this},m.prototype.removeAllListeners=function(h){var y;return h?(y=s?s+h:h,this._events[y]&&d(this,y)):(this._events=new c,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=s,m.EventEmitter=m,a.exports=m})(Rf)),Rf.exports}var Ix=Gx();const td=Ip(Ix);let nd=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(nd=new Int32Array(nd));const Mx=(a,n)=>{let s=n===0?0:-1;for(let c=0;c<a.length;c++)s=nd[(s^a[c])&255]^s>>>8;return s^-1},Hx=(a,n)=>Mx(a,n)>>>0,Gc={Mainnet:1,Sepolia:11155111,Holesky:17e3,Hoodi:560048};Object.entries(Gc).reduce((a,[n,s])=>(a[s]=n,a),{});Gc.Mainnet+"",_t("0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544"),Gc.Sepolia+"",_t("0x5eb6e371a698b8d68f665192350ffcecbbbf322916f4b51bd79bb6887da3f494"),Gc.Holesky+"",_t("0x69d8c9d72f6fa4ad42d4702b433707212f90db395eb54dc20bc85de253788783"),Gc.Hoodi+"",_t("0xda87d7f5f91c51508791bbcbd4aa5baf04917830b86985eeb9ad3d5bfb657576");const q={Chainstart:"chainstart",Homestead:"homestead",Dao:"dao",TangerineWhistle:"tangerineWhistle",SpuriousDragon:"spuriousDragon",Byzantium:"byzantium",Constantinople:"constantinople",Petersburg:"petersburg",Istanbul:"istanbul",MuirGlacier:"muirGlacier",Berlin:"berlin",London:"london",ArrowGlacier:"arrowGlacier",GrayGlacier:"grayGlacier",MergeNetsplitBlock:"mergeNetsplitBlock",Paris:"paris",Shanghai:"shanghai",Cancun:"cancun",Prague:"prague",Osaka:"osaka",Bpo1:"bpo1",Bpo2:"bpo2",Bpo3:"bpo3",Bpo4:"bpo4",Bpo5:"bpo5",Amsterdam:"amsterdam"},kx={Clique:"clique"},Uc={1:{minimumHardfork:q.Chainstart},606:{minimumHardfork:q.Chainstart},608:{minimumHardfork:q.Homestead},607:{minimumHardfork:q.TangerineWhistle},609:{minimumHardfork:q.SpuriousDragon},1013:{minimumHardfork:q.Constantinople},1716:{minimumHardfork:q.Constantinople},1679:{minimumHardfork:q.Constantinople},2384:{minimumHardfork:q.Istanbul},663:{minimumHardfork:q.Chainstart,requiredEIPs:[3540,5450]},1153:{minimumHardfork:q.Chainstart},1559:{minimumHardfork:q.Berlin,requiredEIPs:[2930]},2565:{minimumHardfork:q.Byzantium},2537:{minimumHardfork:q.Chainstart},2718:{minimumHardfork:q.Chainstart},2929:{minimumHardfork:q.Chainstart},2930:{minimumHardfork:q.Istanbul,requiredEIPs:[2718,2929]},2935:{minimumHardfork:q.Chainstart},3198:{minimumHardfork:q.London},3529:{minimumHardfork:q.Berlin,requiredEIPs:[2929]},3540:{minimumHardfork:q.London,requiredEIPs:[3541,3860]},3541:{minimumHardfork:q.Berlin},3554:{minimumHardfork:q.MuirGlacier},3607:{minimumHardfork:q.Chainstart},3651:{minimumHardfork:q.London,requiredEIPs:[2929]},3670:{minimumHardfork:q.London,requiredEIPs:[3540]},3675:{minimumHardfork:q.London},3855:{minimumHardfork:q.Chainstart},3860:{minimumHardfork:q.SpuriousDragon},4200:{minimumHardfork:q.London,requiredEIPs:[3540,3670]},4345:{minimumHardfork:q.London},4399:{minimumHardfork:q.London},4750:{minimumHardfork:q.London,requiredEIPs:[3540,3670,5450]},4788:{minimumHardfork:q.Cancun},4844:{minimumHardfork:q.Paris,requiredEIPs:[1559,2718,2930,4895]},4895:{minimumHardfork:q.Paris},5133:{minimumHardfork:q.GrayGlacier},5450:{minimumHardfork:q.London,requiredEIPs:[3540,3670,4200,4750]},5656:{minimumHardfork:q.Shanghai},6110:{minimumHardfork:q.Cancun,requiredEIPs:[7685]},6206:{minimumHardfork:q.London,requiredEIPs:[4750,5450]},6780:{minimumHardfork:q.London},7002:{minimumHardfork:q.Paris,requiredEIPs:[7685]},7069:{minimumHardfork:q.Berlin,requiredEIPs:[2929]},7251:{minimumHardfork:q.Paris,requiredEIPs:[7685]},7480:{minimumHardfork:q.London,requiredEIPs:[3540,3670]},7516:{minimumHardfork:q.Paris,requiredEIPs:[4844]},7594:{minimumHardfork:q.Paris,requiredEIPs:[4844]},7620:{minimumHardfork:q.London,requiredEIPs:[3540,3541,3670]},7623:{minimumHardfork:q.Chainstart,requiredEIPs:[]},7685:{minimumHardfork:q.Cancun,requiredEIPs:[3675]},7691:{minimumHardfork:q.Paris,requiredEIPs:[4844]},7918:{minimumHardfork:q.Paris,requiredEIPs:[4844]},7692:{minimumHardfork:q.Cancun,requiredEIPs:[663,3540,3670,4200,4750,5450,6206,7069,7480,7620,7698]},7698:{minimumHardfork:q.London,requiredEIPs:[3540,7620]},7702:{minimumHardfork:q.Cancun,requiredEIPs:[2718,2929,2930]},7823:{minimumHardfork:q.Byzantium},7709:{minimumHardfork:q.Chainstart,requiredEIPs:[2935]},7825:{minimumHardfork:q.Chainstart,requiredEIPs:[]},7864:{minimumHardfork:q.London},7883:{minimumHardfork:q.Chainstart},7928:{minimumHardfork:q.Prague,requiredEIPs:[]},7939:{minimumHardfork:q.Chainstart,requiredEIPs:[]},7951:{minimumHardfork:q.Chainstart,requiredEIPs:[]},7934:{minimumHardfork:q.Chainstart,requiredEIPs:[]}},zx={chainstart:{eips:[1]},homestead:{eips:[606]},dao:{eips:[]},tangerineWhistle:{eips:[608]},spuriousDragon:{eips:[607]},byzantium:{eips:[609]},constantinople:{eips:[1013]},petersburg:{eips:[1716]},istanbul:{eips:[1679]},muirGlacier:{eips:[2384]},berlin:{eips:[2565,2929,2718,2930]},london:{eips:[1559,3198,3529,3541]},arrowGlacier:{eips:[4345]},grayGlacier:{eips:[5133]},paris:{consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},mergeNetsplitBlock:{eips:[]},shanghai:{eips:[3651,3855,3860,4895]},cancun:{eips:[1153,4844,4788,5656,6780,7516]},prague:{eips:[2537,2935,6110,7002,7251,7623,7685,7691,7702]},osaka:{eips:[7594,7823,7825,7883,7892,7939,7951,7918]},bpo1:{eips:[],params:{target:10,max:15,blobGasPriceUpdateFraction:8346193}},bpo2:{eips:[],params:{target:14,max:21,blobGasPriceUpdateFraction:11684671}},amsterdam:{eips:[7928]}};class jx{constructor(n){this._eips=[],this._paramsCache={},this._activatedEIPsCache=[],this.events=new td,this._chainParams=JSON.parse(JSON.stringify(n.chain)),this.DEFAULT_HARDFORK=this._chainParams.defaultHardfork??q.Prague,this.HARDFORK_CHANGES=this.hardforks().map(s=>[s.name,(this._chainParams.customHardforks&&this._chainParams.customHardforks[s.name])??zx[s.name]]),this._hardfork=this.DEFAULT_HARDFORK,this._params=n.params?JSON.parse(JSON.stringify(n.params)):{},n.hardfork!==void 0&&this.setHardfork(n.hardfork),n.eips&&this.setEIPs(n.eips),this.customCrypto=n.customCrypto??{},Object.keys(this._paramsCache).length===0&&(this._buildParamsCache(),this._buildActivatedEIPsCache())}updateParams(n){for(const[s,c]of Object.entries(n))s in this._params?this._params[s]=JSON.parse(JSON.stringify({...this._params[s],...n[s]})):this._params[s]=JSON.parse(JSON.stringify(c));this._buildParamsCache()}resetParams(n){this._params=JSON.parse(JSON.stringify(n)),this._buildParamsCache()}setHardfork(n){let s=!1;for(const c of this.HARDFORK_CHANGES)c[0]===n&&(this._hardfork!==n&&(this._hardfork=n,this._buildParamsCache(),this._buildActivatedEIPsCache(),this.events.emit("hardforkChanged",n)),s=!0);if(!s)throw $(`Hardfork with name ${n} not supported`)}getHardforkBy(n){const s=Bf(n.blockNumber,Ui.BigInt),c=Bf(n.timestamp,Ui.BigInt),l=this.hardforks().filter(p=>p.block!==null||p.timestamp!==void 0);let u=l.findIndex(p=>s!==void 0&&p.block!==null&&BigInt(p.block)>s||c!==void 0&&p.timestamp!==void 0&&BigInt(p.timestamp)>c);if(u===-1)u=l.length;else if(u===0)throw Error("Must have at least one hardfork at block 0");if(c===void 0){const p=l.slice(0,u).reverse().findIndex(h=>h.block!==null);u=u-p}u=u-1;const d=u;for(;u<l.length-1&&!(l[u].block!==l[u+1].block||l[u].timestamp!==l[u+1].timestamp);u++);if(c!==void 0){if(l.slice(0,d).reduce((y,b)=>Math.max(Number(b.timestamp??"0"),y),0)>c)throw Error("Maximum HF determined by timestamp is lower than the block number HF");if(l.slice(u+1).reduce((y,b)=>Math.min(Number(b.timestamp??c),y),Number(c))<c)throw Error("Maximum HF determined by block number is lower than timestamp HF")}return l[u].name}setHardforkBy(n){const s=this.getHardforkBy(n);return this.setHardfork(s),s}_getHardfork(n){const s=this.hardforks();for(const c of s)if(c.name===n)return c;return null}setEIPs(n=[]){for(const s of n){if(!(s in Uc))throw $(`${s} not supported`);const c=this.gteHardfork(Uc[s].minimumHardfork);if(!c)throw $(`${s} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${c}`)}this._eips=n,this._buildParamsCache(),this._buildActivatedEIPsCache();for(const s of n)if(Uc[s].requiredEIPs!==void 0){for(const c of Uc[s].requiredEIPs)if(!(n.includes(c)||this.isActivatedEIP(c)))throw $(`${s} requires EIP ${c}, but is not included in the EIP list`)}}_mergeWithParamsCache(n){for(const[s,c]of Object.entries(n))this._paramsCache[s]=c}_buildParamsCache(){this._paramsCache={};const n=this.hardfork();for(const s of this.HARDFORK_CHANGES){if("eips"in s[1]){const l=s[1].eips??[];for(const u of l)this._params[u]!==void 0&&this._params[u]!==null&&this._mergeWithParamsCache(this._params[u])}const c=this._params[s[0]];if(c!=null&&this._mergeWithParamsCache(c),s[1].params!==void 0&&s[1].params!==null&&this._mergeWithParamsCache(s[1].params),s[0]===n)break}for(const s of this._eips)this._params[s]!==void 0&&this._params[s]!==null&&this._mergeWithParamsCache(this._params[s])}_buildActivatedEIPsCache(){this._activatedEIPsCache=[];for(const[n,s]of this.HARDFORK_CHANGES)this.gteHardfork(n)&&"eips"in s&&(this._activatedEIPsCache=this._activatedEIPsCache.concat(s.eips??[]));this._activatedEIPsCache=this._activatedEIPsCache.concat(this._eips)}param(n){if(!(n in this._paramsCache))throw $(`Missing parameter value for ${n}`);const s=this._paramsCache[n];return BigInt(s??0)}paramByHardfork(n,s){var l;let c;for(const u of this.HARDFORK_CHANGES){if("eips"in u[1]){const d=u[1].eips;for(const m of d){const p=this._params[m],h=p==null?void 0:p[n];h!==void 0&&(c=h)}}else{const d=(l=u[1].params)==null?void 0:l[n];d!==void 0&&(c=d)}if(u[0]===s)break}if(c===void 0)throw $(`Missing parameter value for ${n}`);return BigInt(c??0)}paramByEIP(n,s){if(!(s in Uc))throw $(`${s} not supported`);const c=this._params[s];if((c==null?void 0:c[n])===void 0)throw $(`Missing parameter value for ${n}`);const l=c[n];return BigInt(l??0)}paramByBlock(n,s,c){const l=this.getHardforkBy({blockNumber:s,timestamp:c});return this.paramByHardfork(n,l)}getBlobGasSchedule(){return this.gteHardfork(q.Bpo1)?{targetBlobGasPerBlock:this.param("target")*this.param("blobGasPerBlob"),maxBlobGasPerBlock:this.param("max")*this.param("blobGasPerBlob"),blobGasPriceUpdateFraction:this.param("blobGasPriceUpdateFraction")}:{targetBlobGasPerBlock:this.param("targetBlobGasPerBlock"),maxBlobGasPerBlock:this.param("maxBlobGasPerBlock"),blobGasPriceUpdateFraction:this.param("blobGasPriceUpdateFraction")}}isActivatedEIP(n){return!!this._activatedEIPsCache.includes(n)}hardforkIsActiveOnBlock(n,s){s=Bf(s,Ui.BigInt),n=n??this._hardfork;const c=this.hardforkBlock(n);return typeof c=="bigint"&&c!==D&&s>=c}activeOnBlock(n){return this.hardforkIsActiveOnBlock(null,n)}hardforkGteHardfork(n,s){n=n??this._hardfork;const c=this.hardforks();let l=-1,u=-1,d=0;for(const m of c)m.name===n&&(l=d),m.name===s&&(u=d),d+=1;return l>=u&&u!==-1}gteHardfork(n){return this.hardforkGteHardfork(null,n)}hardforkBlock(n){var c;n=n??this._hardfork;const s=(c=this._getHardfork(n))==null?void 0:c.block;return s==null?null:BigInt(s)}hardforkTimestamp(n){var c;n=n??this._hardfork;const s=(c=this._getHardfork(n))==null?void 0:c.timestamp;return s==null?null:BigInt(s)}eipBlock(n){for(const s of this.HARDFORK_CHANGES){const c=s[1];if("eips"in c&&c.eips.includes(n))return this.hardforkBlock(s[0])}return null}eipTimestamp(n){for(const s of this.HARDFORK_CHANGES){const c=s[1];if("eips"in c&&c.eips.includes(n))return this.hardforkTimestamp(s[0])}return null}nextHardforkBlockOrTimestamp(n){const s=n??this._hardfork,c=this.hardforks();let l=c.findIndex(h=>h.name===s);if(s===q.Paris&&(l-=1),l<0)return null;const u=c[l],d=u.timestamp??u.block;if(d==null)return null;const m=c.slice(l+1).find(h=>{const y=h.timestamp??h.block;return y!=null&&y!==d});if(m===void 0)return null;const p=m.timestamp??m.block;return p==null?null:BigInt(p)}_calcForkHash(n,s){let c=new Uint8Array(0),l=0;for(const m of this.hardforks()){const{block:p,timestamp:h,name:y}=m;let b=h??p;if(b=b!==null?Number(b):null,typeof b=="number"&&b!==0&&b!==l&&y!==q.Paris){const E=_t(`0x${b.toString(16).padStart(16,"0")}`);c=an(c,E),l=b}if(m.name===n)break}const u=an(s,c);return xe(pd(Hx(u)>>>0))}forkHash(n,s){n=n??this._hardfork;const c=this._getHardfork(n);if(c===null||(c==null?void 0:c.block)===null&&(c==null?void 0:c.timestamp)===void 0)throw $("No fork hash calculation possible for future hardfork");if((c==null?void 0:c.forkHash)!==null&&(c==null?void 0:c.forkHash)!==void 0)return c.forkHash;if(!s)throw $("genesisHash required for forkHash calculation");return this._calcForkHash(n,s)}hardforkForForkHash(n){const s=this.hardforks().filter(c=>c.forkHash===n);return s.length>=1?s[s.length-1]:null}setForkHashes(n){for(const s of this.hardforks()){const c=s.timestamp??s.block;(s.forkHash===null||s.forkHash===void 0)&&c!==null&&c!==void 0&&(s.forkHash=this.forkHash(s.name,n))}}genesis(){return this._chainParams.genesis}hardforks(){const n=this._chainParams.hardforks;if(this._chainParams.customHardforks!==void 0){const s=new Set(n.map(l=>l.name)),c=Object.keys(this._chainParams.customHardforks).filter(l=>!s.has(l)).map(l=>({name:l,block:null}));return[...n,...c]}return n}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}eips(){return this._eips}consensusType(){const n=this.hardfork();let s;for(const c of this.HARDFORK_CHANGES)if("consensus"in c[1]&&(s=c[1].consensus.type),c[0]===n)break;return s??this._chainParams.consensus.type}consensusAlgorithm(){const n=this.hardfork();let s;for(const c of this.HARDFORK_CHANGES)if("consensus"in c[1]&&(s=c[1].consensus.algorithm),c[0]===n)break;return s??this._chainParams.consensus.algorithm}consensusConfig(){const n=this.hardfork();let s;for(const c of this.HARDFORK_CHANGES){if("consensus"in c[1]){const l=c[1],u=l.consensus.algorithm;s=l.consensus[u]}if(c[0]===n)break}return s??this._chainParams.consensus[this.consensusAlgorithm()]??{}}copy(){const n=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return n.events=new td,n}}var ml={exports:{}},Df,sp;function Vx(){if(sp)return Df;sp=1;var a=1e3,n=a*60,s=n*60,c=s*24,l=c*7,u=c*365.25;Df=function(y,b){b=b||{};var E=typeof y;if(E==="string"&&y.length>0)return d(y);if(E==="number"&&isFinite(y))return b.long?p(y):m(y);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(y))};function d(y){if(y=String(y),!(y.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(b){var E=parseFloat(b[1]),_=(b[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return E*u;case"weeks":case"week":case"w":return E*l;case"days":case"day":case"d":return E*c;case"hours":case"hour":case"hrs":case"hr":case"h":return E*s;case"minutes":case"minute":case"mins":case"min":case"m":return E*n;case"seconds":case"second":case"secs":case"sec":case"s":return E*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}function m(y){var b=Math.abs(y);return b>=c?Math.round(y/c)+"d":b>=s?Math.round(y/s)+"h":b>=n?Math.round(y/n)+"m":b>=a?Math.round(y/a)+"s":y+"ms"}function p(y){var b=Math.abs(y);return b>=c?h(y,b,c,"day"):b>=s?h(y,b,s,"hour"):b>=n?h(y,b,n,"minute"):b>=a?h(y,b,a,"second"):y+" ms"}function h(y,b,E,_){var v=b>=E*1.5;return Math.round(y/E)+" "+_+(v?"s":"")}return Df}var Lf,cp;function Px(){if(cp)return Lf;cp=1;function a(n){c.debug=c,c.default=c,c.coerce=h,c.disable=m,c.enable=u,c.enabled=p,c.humanize=Vx(),c.destroy=y,Object.keys(n).forEach(b=>{c[b]=n[b]}),c.names=[],c.skips=[],c.formatters={};function s(b){let E=0;for(let _=0;_<b.length;_++)E=(E<<5)-E+b.charCodeAt(_),E|=0;return c.colors[Math.abs(E)%c.colors.length]}c.selectColor=s;function c(b){let E,_=null,v,C;function B(...M){if(!B.enabled)return;const W=B,K=Number(new Date),ue=K-(E||K);W.diff=ue,W.prev=E,W.curr=K,E=K,M[0]=c.coerce(M[0]),typeof M[0]!="string"&&M.unshift("%O");let pe=0;M[0]=M[0].replace(/%([a-zA-Z%])/g,(ee,ce)=>{if(ee==="%%")return"%";pe++;const de=c.formatters[ce];if(typeof de=="function"){const ye=M[pe];ee=de.call(W,ye),M.splice(pe,1),pe--}return ee}),c.formatArgs.call(W,M),(W.log||c.log).apply(W,M)}return B.namespace=b,B.useColors=c.useColors(),B.color=c.selectColor(b),B.extend=l,B.destroy=c.destroy,Object.defineProperty(B,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(v!==c.namespaces&&(v=c.namespaces,C=c.enabled(b)),C),set:M=>{_=M}}),typeof c.init=="function"&&c.init(B),B}function l(b,E){const _=c(this.namespace+(typeof E>"u"?":":E)+b);return _.log=this.log,_}function u(b){c.save(b),c.namespaces=b,c.names=[],c.skips=[];const E=(typeof b=="string"?b:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const _ of E)_[0]==="-"?c.skips.push(_.slice(1)):c.names.push(_)}function d(b,E){let _=0,v=0,C=-1,B=0;for(;_<b.length;)if(v<E.length&&(E[v]===b[_]||E[v]==="*"))E[v]==="*"?(C=v,B=_,v++):(_++,v++);else if(C!==-1)v=C+1,B++,_=B;else return!1;for(;v<E.length&&E[v]==="*";)v++;return v===E.length}function m(){const b=[...c.names,...c.skips.map(E=>"-"+E)].join(",");return c.enable(""),b}function p(b){for(const E of c.skips)if(d(b,E))return!1;for(const E of c.names)if(d(b,E))return!0;return!1}function h(b){return b instanceof Error?b.stack||b.message:b}function y(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return c.enable(c.load()),c}return Lf=a,Lf}var rp;function qx(){return rp||(rp=1,(function(a,n){var s={};n.formatArgs=l,n.save=u,n.load=d,n.useColors=c,n.storage=m(),n.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function c(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let h;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(h=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(h[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function l(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;const y="color: "+this.color;h.splice(1,0,y,"color: inherit");let b=0,E=0;h[0].replace(/%[a-zA-Z%]/g,_=>{_!=="%%"&&(b++,_==="%c"&&(E=b))}),h.splice(E,0,y)}n.log=console.debug||console.log||(()=>{});function u(h){try{h?n.storage.setItem("debug",h):n.storage.removeItem("debug")}catch{}}function d(){let h;try{h=n.storage.getItem("debug")||n.storage.getItem("DEBUG")}catch{}return!h&&typeof process<"u"&&"env"in process&&(h=s.DEBUG),h}function m(){try{return localStorage}catch{}}a.exports=Px()(n);const{formatters:p}=a.exports;p.j=function(h){try{return JSON.stringify(h)}catch(y){return"[UnexpectedJSONParseError]: "+y.message}}})(ml,ml.exports)),ml.exports}var Yx=qx();const Ii=Ip(Yx),kc=new Uint8Array([jl,xd]),Zx=xa(kc);function Ci(a){const n=a.subarray(0,kc.length);return dt(kc,n)}function Fx(a,n=Fn.Default){a.env.eof={container:new Ed(a.code,n),eofRunState:{returnStack:[]}},a.env.eof.container.body.txCallData!==void 0&&(a.env.callData=a.env.eof.container.body.txCallData);const s=a.env.eof.container.header.getCodePosition(0);a.programCounter=s}const Xx=3e7,Kx=12,Qx=Xx/Kx;class $x{constructor(n){this.runTime=0,this.tag=n,this.startTime=performance.now()}pause(){this.runTime=this.runTime+performance.now()-this.startTime}unpause(){this.startTime=performance.now()}time(){return(performance.now()-this.startTime+this.runTime)/1e3}}class Jx{constructor(){this.clear()}clear(){this.opcodes={},this.precompiles={}}getLogs(){function n(s){const c=[];for(const l in s){const u=s[l],d=u.gasUsed/u.time,m={calls:u.calls,totalTime:Math.round(u.time*1e6)/1e3,avgTimePerCall:Math.round(u.time/u.calls*1e6)/1e3,gasUsed:u.gasUsed,millionGasPerSecond:Math.round(d/1e3)/1e3,blocksPerSlot:Math.round(d/Qx*1e3)/1e3,tag:l};u.dynamicGasUsed!==void 0&&(m.staticGas=u.staticGas,m.staticGasUsed=u.staticGas*u.calls,m.dynamicGasUsed=u.dynamicGasUsed),c.push(m)}return c.sort((l,u)=>u.millionGasPerSecond-l.millionGasPerSecond),c}return{opcodes:n(this.opcodes),precompiles:n(this.precompiles)}}hasTimer(){return this.currentTimer!==void 0}startTimer(n){if(this.currentTimer!==void 0)throw $("Cannot have two timers running at the same time");return this.currentTimer=new $x(n),this.currentTimer}pauseTimer(){const n=this.currentTimer;if(n===void 0)throw $("No timer to pause");return n.pause(),this.currentTimer=void 0,n}unpauseTimer(n){if(this.currentTimer!==void 0)throw $("Cannot unpause timer: another timer is already running");n.unpause(),this.currentTimer=n}stopTimer(n,s,c="opcodes",l,u){if(this.currentTimer===void 0||this.currentTimer!==n)throw $("Cannot stop timer: another timer is already running");const d=n.time(),m=n.tag;this.currentTimer=void 0;const p=this[c];p[m]===void 0&&(p[m]={calls:0,time:0,gasUsed:0});const h=p[m];h.calls++,h.time+=d,h.gasUsed+=s,c==="opcodes"&&(h.staticGas=l,h.dynamicGasUsed=(h.dynamicGasUsed??0)+u)}}const Wx=(a,n)=>{const s=a%n;return s===0?a:a+n-s},Gf=8192;class e6{constructor(){this._store=new Uint8Array(Gf)}extend(n,s){if(s===0)return;const l=Wx(n+s,32)-this._store.length;if(l>0){const u=Math.ceil(l/Gf)*Gf;this._store=an(this._store,new Uint8Array(u))}}write(n,s,c){if(s!==0){if(this.extend(n,s),c.length!==s)throw $("Invalid value size");if(n+s>this._store.length)throw $("Value exceeds memory capacity");this._store.set(c,n)}}read(n,s,c){this.extend(n,s);const l=this._store.subarray(n,n+s);if(c===!0)return l;const u=new Uint8Array(s);return u.set(l),u}}const Ka={value:D,caller:pa(),data:new Uint8Array(0),depth:0,isStatic:!1,isCompiled:!1,delegatecall:!1,gasRefund:D};class wi{constructor(n){if(this.to=n.to,this.value=n.value??Ka.value,this.caller=n.caller??Ka.caller,this.gasLimit=n.gasLimit,this.data=n.data??Ka.data,this.eofCallData=n.eofCallData,this.depth=n.depth??Ka.depth,this.code=n.code,this._codeAddress=n.codeAddress,this.isStatic=n.isStatic??Ka.isStatic,this.isCompiled=n.isCompiled??Ka.isCompiled,this.salt=n.salt,this.selfdestruct=n.selfdestruct,this.createdAddresses=n.createdAddresses,this.delegatecall=n.delegatecall??Ka.delegatecall,this.gasRefund=n.gasRefund??Ka.gasRefund,this.blobVersionedHashes=n.blobVersionedHashes,this.accessWitness=n.accessWitness,this.value<0)throw $(`value field cannot be negative, received ${this.value}`)}get codeAddress(){const n=this._codeAddress??this.to;if(!n)throw $("Missing codeAddress");return n}}const t6=(Ne<<vg)-Ne;function Ja(a,n){let s=a%n;return s<D&&(s=n+s),s}function Qa(a){return BigInt.asIntN(256,a)}function lp(a){return BigInt.asUintN(256,a)}const up=BigInt(1157920892373162e62);function n6(a,n){let s=Ne;for(;n>D;)n%ba!==D&&(s=s*a%up),a=a*a%up,n=n/ba;return s}function Ze(a){const n=a&t6;return lx(n)}function Rc(a){return dt(a,new Uint8Array(a.length))?new Uint8Array(0):ke(a,32)}function me(a){throw new R(a)}function pl(a){const n=a.interpreter._evm.common.customCrypto.keccak256??xa,s=xe(n(a.interpreter.getCode())),c=a.interpreter.getAddress().toString(),l=a.programCounter-1;return`${s}/${c}:${l}`}function ma(a,n){const s=a/n;return Ja(a,n)===D?s:s<D?s-Ne:s+Ne}function Ss(a,n,s){const c=BigInt(a.length);n>c&&(n=c);let l=n+s;return l>c&&(l=c),a=a.subarray(Number(n),Number(l)),a=Gn(a,Number(s)),a}function a6(a,n){switch(n){case"LOG":n+=a-160;break;case"PUSH":n+=a-95;break;case"DUP":n+=a-127;break;case"SWAP":n+=a-143;break}return n}function op(a,n){return a.validJumps[n]===1}function Oi(a,n,s,c){if(c.gteHardfork(q.TangerineWhistle)){const l=n-n/Mc;return a>l?l:a}else return a}function Je(a,n,s,c){if(s===D)return D;const l=ma(n+s,At);if(l<=a.memoryWordCount)return D;const u=l,d=c.param("memoryGas"),m=c.param("quadCoefficientDivGas");let p=u*d+u*u/m;if(p>a.highestMemCost){const h=a.highestMemCost;a.highestMemCost=p,p-=h}return a.memoryWordCount=l,p}function gl(a,n,s){const c=a.interpreter.getReturnData();if(c.length>0){const l=Number(n);let u=Number(s);BigInt(c.length)<u&&(u=c.length);const d=Ss(c,D,BigInt(u));a.memory.extend(l,u),a.memory.write(l,u,d)}}function i6(a,n,s,c){if(s.length===0&&n.length===0||s.length>0&&n.length>0)return c.param("sstoreResetGas");if(s.length===0&&n.length>0){const l=c.param("sstoreResetGas");return a.interpreter.refundGas(c.param("sstoreRefundGas"),"updateSstoreGas"),l}else return c.param("sstoreSetGas")}const _a=new Map([[0,function(){me(R.errorMessages.STOP)}],[1,function(a){const[n,s]=a.stack.popN(2),c=Ja(n+s,fl);a.stack.push(c)}],[2,function(a){const[n,s]=a.stack.popN(2),c=Ja(n*s,fl);a.stack.push(c)}],[3,function(a){const[n,s]=a.stack.popN(2),c=Ja(n-s,fl);a.stack.push(c)}],[4,function(a){const[n,s]=a.stack.popN(2);let c;s===D?c=D:c=Ja(n/s,fl),a.stack.push(c)}],[5,function(a){const[n,s]=a.stack.popN(2);let c;s===D?c=D:c=lp(Qa(n)/Qa(s)),a.stack.push(c)}],[6,function(a){const[n,s]=a.stack.popN(2);let c;s===D?c=s:c=Ja(n,s),a.stack.push(c)}],[7,function(a){const[n,s]=a.stack.popN(2);let c;s===D?c=s:c=Qa(n)%Qa(s),a.stack.push(lp(c))}],[8,function(a){const[n,s,c]=a.stack.popN(3);let l;c===D?l=D:l=Ja(n+s,c),a.stack.push(l)}],[9,function(a){const[n,s,c]=a.stack.popN(3);let l;c===D?l=D:l=Ja(n*s,c),a.stack.push(l)}],[10,function(a){const[n,s]=a.stack.popN(2);if(n===ba)switch(s){case bd:a.stack.push(Y3);return;case vg:a.stack.push(Z3);return;case q3:a.stack.push(F3);return}if(s===D){a.stack.push(Ne);return}if(n===D){a.stack.push(n);return}const c=n6(n,s);a.stack.push(c)}],[11,function(a){let[n,s]=a.stack.popN(2);if(n<Ic){const c=n*ni+Eg,l=(Ne<<c)-Ne;s>>c&Ne?s=s|BigInt.asUintN(256,~l):s=s&l}a.stack.push(s)}],[16,function(a){const[n,s]=a.stack.popN(2),c=n<s?Ne:D;a.stack.push(c)}],[17,function(a){const[n,s]=a.stack.popN(2),c=n>s?Ne:D;a.stack.push(c)}],[18,function(a){const[n,s]=a.stack.popN(2),c=Qa(n)<Qa(s)?Ne:D;a.stack.push(c)}],[19,function(a){const[n,s]=a.stack.popN(2),c=Qa(n)>Qa(s)?Ne:D;a.stack.push(c)}],[20,function(a){const[n,s]=a.stack.popN(2),c=n===s?Ne:D;a.stack.push(c)}],[21,function(a){const s=a.stack.pop()===D?Ne:D;a.stack.push(s)}],[22,function(a){const[n,s]=a.stack.popN(2),c=n&s;a.stack.push(c)}],[23,function(a){const[n,s]=a.stack.popN(2),c=n|s;a.stack.push(c)}],[24,function(a){const[n,s]=a.stack.popN(2),c=n^s;a.stack.push(c)}],[25,function(a){const n=a.stack.pop(),s=BigInt.asUintN(256,~n);a.stack.push(s)}],[26,function(a){const[n,s]=a.stack.popN(2);if(n>At){a.stack.push(D);return}const c=s>>(Ic-n)*ni&Nf;a.stack.push(c)}],[27,function(a){const[n,s]=a.stack.popN(2);if(n>dl){a.stack.push(D);return}const c=s<<n&wf;a.stack.push(c)}],[28,function(a){const[n,s]=a.stack.popN(2);if(n>256){a.stack.push(D);return}const c=s>>n;a.stack.push(c)}],[29,function(a){const[n,s]=a.stack.popN(2);let c;const u=BigInt.asIntN(256,s)<0;if(n>256){u?c=wf:c=D,a.stack.push(c);return}const d=s>>n;if(u){const m=Nf-n,p=wf>>m<<m;c=d|p}else c=d;a.stack.push(c)}],[30,function(a){const n=a.stack.pop();if(n===D){a.stack.push(dl);return}const c=256-n.toString(2).length;a.stack.push(BigInt(c))}],[32,function(a,n){const[s,c]=a.stack.popN(2);let l=new Uint8Array(0);c!==D&&(l=a.memory.read(Number(s),Number(c)));const u=BigInt(xe((n.customCrypto.keccak256??xa)(l)));a.stack.push(u)}],[48,function(a){const n=ve(a.interpreter.getAddress().bytes);a.stack.push(n)}],[49,async function(a){const n=a.stack.pop(),s=Ze(n),c=await a.interpreter.getExternalBalance(s);a.stack.push(c)}],[50,function(a){a.stack.push(a.interpreter.getTxOrigin())}],[51,function(a){a.stack.push(a.interpreter.getCaller())}],[52,function(a){a.stack.push(a.interpreter.getCallValue())}],[53,function(a){const n=a.stack.pop();if(n>a.interpreter.getCallDataSize()){a.stack.push(D);return}const s=Number(n);let c=a.interpreter.getCallData().subarray(s,s+32);c=c.length?c:Uint8Array.from([0]);let l=ve(c);c.length<32&&(l=l<<ni*BigInt(32-c.length)),a.stack.push(l)}],[54,function(a){const n=a.interpreter.getCallDataSize();a.stack.push(n)}],[55,function(a){const[n,s,c]=a.stack.popN(3);if(c!==D){const l=Ss(a.interpreter.getCallData(),s,c),u=Number(n),d=Number(c);a.memory.write(u,d,l)}}],[56,function(a){a.stack.push(a.interpreter.getCodeSize())}],[57,function(a){const[n,s,c]=a.stack.popN(3);if(c!==D){const l=Ss(a.interpreter.getCode(),s,c),u=Number(n),d=Number(c);a.memory.write(u,d,l)}}],[59,async function(a){const n=a.stack.pop(),s=Ze(n),c=await a.stateManager.getCode(s);if(Ci(c)){a.stack.push(BigInt(kc.length));return}const l=BigInt(c.length);a.stack.push(l)}],[60,async function(a){const[n,s,c,l]=a.stack.popN(4);if(l!==D){const u=Ze(n);let d=await a.stateManager.getCode(u);Ci(d)&&(d=kc);const m=Ss(d,c,l),p=Number(s),h=Number(l);a.memory.write(p,h,m)}}],[63,async function(a){const n=a.stack.pop(),s=Ze(n),c=await a.stateManager.getCode(s);if(Ci(c)){a.stack.push(ve(Zx));return}const l=await a.stateManager.getAccount(s);if(!l||l.isEmpty()){a.stack.push(D);return}a.stack.push(BigInt(xe(l.codeHash)))}],[61,function(a){a.stack.push(a.interpreter.getReturnDataSize())}],[62,function(a){const[n,s,c]=a.stack.popN(3);if(c!==D){const l=Ss(a.interpreter.getReturnData(),s,c),u=Number(n),d=Number(c);a.memory.write(u,d,l)}}],[58,function(a){a.stack.push(a.interpreter.getTxGasPrice())}],[64,async function(a,n){const s=a.stack.pop();if(n.isActivatedEIP(7709)){if(s>=a.interpreter.getBlockNumber()){a.stack.push(D);return}const c=a.interpreter.getBlockNumber()-s;if(c>dl||c<=D){a.stack.push(D);return}const l=new Ea(L3(n.param("historyStorageAddress"))),u=n.param("historyServeWindow"),d=ke(Fe(s%u),32);if(n.isActivatedEIP(6800)||n.isActivatedEIP(7864)){const p=a.env.accessWitness.readAccountStorage(l,s);a.interpreter.useGas(p,"BLOCKHASH")}const m=await a.stateManager.getStorage(l,d);a.stack.push(ve(m))}else{const c=a.interpreter.getBlockNumber()-s;if(c>dl||c<=D){a.stack.push(D);return}const l=await a.blockchain.getBlock(Number(s));a.stack.push(ve(l.hash()))}}],[65,function(a){a.stack.push(a.interpreter.getBlockCoinbase())}],[66,function(a){a.stack.push(a.interpreter.getBlockTimestamp())}],[67,function(a){a.stack.push(a.interpreter.getBlockNumber())}],[68,function(a,n){n.isActivatedEIP(4399)?a.stack.push(a.interpreter.getBlockPrevRandao()):a.stack.push(a.interpreter.getBlockDifficulty())}],[69,function(a){a.stack.push(a.interpreter.getBlockGasLimit())}],[70,function(a){a.stack.push(a.interpreter.getChainId())}],[71,function(a){a.stack.push(a.interpreter.getSelfBalance())}],[72,function(a){a.stack.push(a.interpreter.getBlockBaseFee())}],[73,function(a){const n=a.stack.pop();a.env.blobVersionedHashes.length>Number(n)?a.stack.push(BigInt(a.env.blobVersionedHashes[Number(n)])):a.stack.push(D)}],[74,function(a){a.stack.push(a.interpreter.getBlobBaseFee())}],[80,function(a){a.stack.pop()}],[81,function(a){const n=a.stack.pop(),s=a.memory.read(Number(n),32,!0);a.stack.push(ve(s))}],[82,function(a){const[n,s]=a.stack.popN(2),c=ke(Fe(s),32),l=Number(n);a.memory.write(l,32,c)}],[83,function(a){const[n,s]=a.stack.popN(2),c=Fe(s&Nf),l=Number(n);a.memory.write(l,1,c)}],[84,async function(a){const n=a.stack.pop(),s=ke(Fe(n),32),c=await a.interpreter.storageLoad(s),l=c.length?ve(c):D;a.stack.push(l)}],[85,async function(a){const[n,s]=a.stack.popN(2),c=ke(Fe(n),32);let l;s===D?l=Uint8Array.from([]):l=Fe(s),await a.interpreter.storageStore(c,l)}],[86,function(a){const n=a.stack.pop();n>a.interpreter.getCodeSize()&&me(R.errorMessages.INVALID_JUMP+" at "+pl(a));const s=Number(n);op(a,s)||me(R.errorMessages.INVALID_JUMP+" at "+pl(a)),a.programCounter=s}],[87,function(a){const[n,s]=a.stack.popN(2);if(s!==D){n>a.interpreter.getCodeSize()&&me(R.errorMessages.INVALID_JUMP+" at "+pl(a));const c=Number(n);op(a,c)||me(R.errorMessages.INVALID_JUMP+" at "+pl(a)),a.programCounter=c}}],[88,function(a){a.stack.push(BigInt(a.programCounter-1))}],[89,function(a){a.stack.push(a.memoryWordCount*At)}],[90,function(a){a.stack.push(a.interpreter.getGasLeft())}],[91,function(){}],[92,function(a){const n=a.stack.pop(),s=ke(Fe(n),32),c=a.interpreter.transientStorageLoad(s),l=c.length?ve(c):D;a.stack.push(l)}],[93,function(a){a.interpreter.isStatic()&&me(R.errorMessages.STATIC_STATE_CHANGE);const[n,s]=a.stack.popN(2),c=ke(Fe(n),32);let l;s===D?l=Uint8Array.from([]):l=Fe(s),a.interpreter.transientStorageStore(c,l)}],[94,function(a){const[n,s,c]=a.stack.popN(3),l=a.memory.read(Number(s),Number(c),!0);a.memory.write(Number(n),Number(c),l)}],[95,function(a){a.stack.push(D)}],[96,function(a,n){const s=a.opCode-95;if((n.isActivatedEIP(6800)||n.isActivatedEIP(7864))&&a.env.chargeCodeAccesses===!0){const c=a.interpreter.getAddress(),l=Math.min(a.code.length,a.programCounter+1),u=Math.min(a.code.length,l+s-1),d=a.env.accessWitness.readAccountCodeChunks(c,l,u);a.interpreter.useGas(d,"PUSH")}if(!a.shouldDoJumpAnalysis)a.stack.push(a.cachedPushes[a.programCounter]),a.programCounter+=s;else{let c=a.code.subarray(a.programCounter,a.programCounter+s);c.length<s&&(c=Gn(c,s)),a.programCounter+=s,a.stack.push(ve(c))}}],[128,function(a){const n=a.opCode-127;a.stack.dup(n)}],[144,function(a){const n=a.opCode-143;a.stack.swap(n)}],[160,function(a){const[n,s]=a.stack.popN(2),c=a.opCode-160,u=a.stack.popN(c).map(function(m){return ke(Fe(m),32)});let d=new Uint8Array(0);s!==D&&(d=a.memory.read(Number(n),Number(s))),a.interpreter.log(d,c,u)}],[208,function(a){a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE);const n=a.stack.pop();if(n>a.env.eof.container.body.dataSection.length){a.stack.push(D);return}const s=Number(n);let c=a.env.eof.container.body.dataSection.subarray(s,s+32);c=c.length?c:Uint8Array.from([0]);let l=ve(c);c.length<32&&(l=l<<ni*BigInt(32-c.length)),a.stack.push(l)}],[209,function(a){a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE);const n=Number(ve(a.code.subarray(a.programCounter,a.programCounter+2))),s=ve(a.env.eof.container.body.dataSection.subarray(n,n+32));a.stack.push(s),a.programCounter+=2}],[210,function(a){a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE),a.stack.push(BigInt(a.env.eof.container.body.dataSection.length))}],[211,function(a){a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE);const[n,s,c]=a.stack.popN(3);if(c!==D){const l=Ss(a.env.eof.container.body.dataSection,s,c),u=Number(n),d=Number(c);a.memory.write(u,d,l)}}],[224,function(a){if(a.env.eof===void 0)me(R.errorMessages.INVALID_OPCODE);else{const n=a.env.code,s=new DataView(n.buffer).getInt16(a.programCounter);a.programCounter+=2+s}}],[225,function(a){if(a.env.eof===void 0)me(R.errorMessages.INVALID_OPCODE);else{if(a.stack.pop()>0){const s=a.env.code,c=new DataView(s.buffer).getInt16(a.programCounter);a.programCounter+=c}a.programCounter+=2}}],[226,function(a){if(a.env.eof===void 0)me(R.errorMessages.INVALID_OPCODE);else{const n=a.env.code,s=n[a.programCounter],c=(s+1)*2;a.programCounter+=1;const l=a.stack.pop();if(l<=s){const u=new DataView(n.buffer).getInt16(a.programCounter+Number(l)*2);a.programCounter+=c+u}else a.programCounter+=c}}],[227,function(a){var l;a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE);const n=W1(a.code.slice(a.programCounter,a.programCounter+2)),s=a.stack.length,c=a.env.eof.container.body.typeSections[n];s>1024-c.maxStackHeight+c.inputs&&me(Z.STACK_OVERFLOW),a.env.eof.eofRunState.returnStack.length>=1024&&me(Z.RETURN_STACK_OVERFLOW),(l=a.env.eof)==null||l.eofRunState.returnStack.push(a.programCounter+2),a.programCounter=a.env.eof.container.header.getCodePosition(n)}],[228,function(a){a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE);const n=a.env.eof.eofRunState.returnStack.pop();n===void 0&&me(Z.RETF_NO_RETURN),a.programCounter=n}],[229,function(a){a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE);const n=W1(a.code.slice(a.programCounter,a.programCounter+2)),s=a.stack.length,c=a.env.eof.container.body.typeSections[n];s>1024-c.maxStackHeight+c.inputs&&me(Z.STACK_OVERFLOW),a.programCounter=a.env.eof.container.header.getCodePosition(n)}],[230,function(a){a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE);const n=Number(ve(a.code.subarray(a.programCounter,a.programCounter+1)))+1;a.stack.dup(n),a.programCounter++}],[231,function(a){a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE);const n=Number(ve(a.code.subarray(a.programCounter,a.programCounter+1)))+1;a.stack.swap(n),a.programCounter++}],[232,function(a){a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE);const n=Number(ve(a.code.subarray(a.programCounter,a.programCounter+1))),s=(n>>4)+1,c=(n&15)+1;a.stack.exchange(s,s+c),a.programCounter++}],[236,async function(a){if(a.env.eof===void 0)me(R.errorMessages.INVALID_OPCODE);else{a.interpreter.isStatic()&&me(R.errorMessages.STATIC_STATE_CHANGE);const n=a.env.code[a.programCounter],s=a.env.eof.container.body.containerSections[n],[c,l,u,d]=a.stack.popN(4),m=a.messageGasLimit;a.messageGasLimit=void 0;let p=new Uint8Array(0);d!==D&&(p=a.memory.read(Number(u),Number(d),!0)),a.programCounter++;const h=await a.interpreter.eofcreate(m,c,s,ke(Fe(l),32),p);a.stack.push(h)}}],[238,async function(a){if(a.env.eof===void 0)me(R.errorMessages.INVALID_OPCODE);else{const n=a.env.code[a.programCounter],s=a.env.eof.container.body.containerSections[n],c=new Ed(s,Fn.Initmode),[l,u]=a.stack.popN(2);let d=new Uint8Array(0);u!==D&&(d=a.memory.read(Number(l),Number(u)));const m=c.header.dataSize,h=c.body.dataSection.length+Number(u);h<m&&me(Z.INVALID_RETURN_CONTRACT_DATA_SIZE),h>65535&&me(R.errorMessages.OUT_OF_GAS);const y=ke(Fe(BigInt(h)),2),b=c.header.dataSizePtr;s[b]=y[0],s[b+1]=y[1];const E=an(s,d);a.interpreter.finish(E)}}],[240,async function(a,n){const[s,c,l]=a.stack.popN(3);n.isActivatedEIP(3860)&&l>Number(n.param("maxInitCodeSize"))&&!a.interpreter._evm.allowUnlimitedInitCodeSize&&me(R.errorMessages.INITCODE_SIZE_VIOLATION);const u=a.messageGasLimit;a.messageGasLimit=void 0;let d=new Uint8Array(0);if(l!==D&&(d=a.memory.read(Number(c),Number(l),!0)),Ci(d)){a.stack.push(D);return}const m=await a.interpreter.create(u,s,d);a.stack.push(m)}],[245,async function(a,n){a.interpreter.isStatic()&&me(R.errorMessages.STATIC_STATE_CHANGE);const[s,c,l,u]=a.stack.popN(4);n.isActivatedEIP(3860)&&l>Number(n.param("maxInitCodeSize"))&&!a.interpreter._evm.allowUnlimitedInitCodeSize&&me(R.errorMessages.INITCODE_SIZE_VIOLATION);const d=a.messageGasLimit;a.messageGasLimit=void 0;let m=new Uint8Array(0);if(l!==D&&(m=a.memory.read(Number(c),Number(l),!0)),Ci(m)){a.stack.push(D);return}const p=await a.interpreter.create2(d,s,m,ke(Fe(u),32));a.stack.push(p)}],[241,async function(a,n){const[s,c,l,u,d,m,p]=a.stack.popN(7),h=Ze(c);let y=new Uint8Array(0);d!==D&&(y=a.memory.read(Number(u),Number(d),!0));let b=a.messageGasLimit;if(l!==D){const _=n.param("callStipendGas");a.interpreter.addStipend(_),b+=_}a.messageGasLimit=void 0;const E=await a.interpreter.call(b,h,l,y);gl(a,m,p),a.stack.push(E)}],[242,async function(a,n){const[s,c,l,u,d,m,p]=a.stack.popN(7),h=Ze(c);let y=a.messageGasLimit;if(l!==D){const _=n.param("callStipendGas");a.interpreter.addStipend(_),y+=_}a.messageGasLimit=void 0;let b=new Uint8Array(0);d!==D&&(b=a.memory.read(Number(u),Number(d),!0));const E=await a.interpreter.callCode(y,h,l,b);gl(a,m,p),a.stack.push(E)}],[244,async function(a){const n=a.interpreter.getCallValue(),[s,c,l,u,d,m]=a.stack.popN(6),p=Ze(c);let h=new Uint8Array(0);u!==D&&(h=a.memory.read(Number(l),Number(u),!0));const y=a.messageGasLimit;a.messageGasLimit=void 0;const b=await a.interpreter.callDelegate(y,p,n,h);gl(a,d,m),a.stack.push(b)}],[247,function(a){a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE);const n=a.stack.pop();if(n>a.interpreter.getReturnDataSize()){a.stack.push(D);return}const s=Number(n);let c=a.interpreter.getReturnData().subarray(s,s+32);c=c.length?c:Uint8Array.from([0]);let l=ve(c);c.length<32&&(l=l<<ni*BigInt(32-c.length)),a.stack.push(l)}],[248,async function(a){if(a.env.eof===void 0)me(R.errorMessages.INVALID_OPCODE);else{const[n,s,c,l]=a.stack.popN(4),u=a.messageGasLimit;if(a.messageGasLimit=void 0,u===-Ne){a.stack.push(Ne),a.returnBytes=new Uint8Array(0);return}const d=Ze(n);let m=new Uint8Array(0);c!==D&&(m=a.memory.read(Number(s),Number(c),!0));const p=await a.interpreter.call(u,d,l,m);a.stack.push(p)}}],[249,async function(a){if(a.env.eof===void 0)me(R.errorMessages.INVALID_OPCODE);else{const n=a.interpreter.getCallValue(),[s,c,l]=a.stack.popN(3),u=a.messageGasLimit;if(a.messageGasLimit=void 0,u===-Ne){a.stack.push(Ne),a.returnBytes=new Uint8Array(0);return}const d=Ze(s),m=await a.stateManager.getCode(d);if(!Ci(m)){a.stack.push(Ne),a.returnBytes=new Uint8Array(0);return}let p=new Uint8Array(0);l!==D&&(p=a.memory.read(Number(c),Number(l),!0));const h=await a.interpreter.callDelegate(u,d,n,p);a.stack.push(h)}}],[250,async function(a){const n=D,[s,c,l,u,d,m]=a.stack.popN(6),p=Ze(c),h=a.messageGasLimit;a.messageGasLimit=void 0;let y=new Uint8Array(0);u!==D&&(y=a.memory.read(Number(l),Number(u),!0));const b=await a.interpreter.callStatic(h,p,n,y);gl(a,d,m),a.stack.push(b)}],[251,async function(a){if(a.env.eof===void 0)me(R.errorMessages.INVALID_OPCODE);else{const n=D,[s,c,l]=a.stack.popN(3),u=a.messageGasLimit;if(a.messageGasLimit=void 0,u===-Ne){a.stack.push(Ne),a.returnBytes=new Uint8Array(0);return}const d=Ze(s);let m=new Uint8Array(0);l!==D&&(m=a.memory.read(Number(c),Number(l),!0));const p=await a.interpreter.callStatic(u,d,n,m);a.stack.push(p)}}],[243,function(a){const[n,s]=a.stack.popN(2);let c=new Uint8Array(0);s!==D&&(c=a.memory.read(Number(n),Number(s))),a.interpreter.finish(c)}],[253,function(a){const[n,s]=a.stack.popN(2);let c=new Uint8Array(0);s!==D&&(c=a.memory.read(Number(n),Number(s))),a.interpreter.revert(c)}],[255,async function(a){const n=a.stack.pop(),s=Ze(n);return a.interpreter.selfDestruct(s)}]]),s6=_a.get(96);for(let a=97;a<=127;a++)_a.set(a,s6);const c6=_a.get(128);for(let a=129;a<=143;a++)_a.set(a,c6);const r6=_a.get(144);for(let a=145;a<=159;a++)_a.set(a,r6);const l6=_a.get(160);for(let a=161;a<=164;a++)_a.set(a,l6);function u6(a){return"opcode"in a&&"opcodeName"in a&&"baseFee"in a&&"logicFunction"in a}class o6{async getBlock(){return{hash(){return new Uint8Array(32)}}}async putBlock(){}shallowCopy(){return this}}const Ug=new Uint8Array([239,1,0]);function f6(a,n,s,c,l){return dt(n,c)?l.param("netSstoreNoopGas"):dt(s,n)?s.length===0?l.param("netSstoreInitGas"):(c.length===0&&a.interpreter.refundGas(l.param("netSstoreClearRefundGas"),"EIP-1283 -> netSstoreClearRefund"),l.param("netSstoreCleanGas")):(s.length!==0&&(n.length===0?a.interpreter.subRefund(l.param("netSstoreClearRefundGas"),"EIP-1283 -> netSstoreClearRefund"):c.length===0&&a.interpreter.refundGas(l.param("netSstoreClearRefundGas"),"EIP-1283 -> netSstoreClearRefund")),dt(s,c)&&(s.length===0?a.interpreter.refundGas(l.param("netSstoreResetClearRefundGas"),"EIP-1283 -> netSstoreResetClearRefund"):a.interpreter.refundGas(l.param("netSstoreResetRefundGas"),"EIP-1283 -> netSstoreResetRefund")),l.param("netSstoreDirtyGas"))}function Vt(a,n,s,c=!0,l=!1){if(!s.isActivatedEIP(2929))return D;if(a.interpreter.journal.isWarmedAddress(n)){if(c&&!l)return s.param("warmstoragereadGas")}else{if(a.interpreter.journal.addWarmedAddress(n),c&&!s.isActivatedEIP(7864))return s.param("coldaccountaccessGas");if(c&&s.isActivatedEIP(7864))return s.param("warmstoragereadGas")}return D}function fp(a,n,s,c,l=!0){if(!c.isActivatedEIP(2929))return D;const u=a.interpreter.getAddress().bytes;if(!a.interpreter.journal.isWarmedStorage(u,n)){if(a.interpreter.journal.addWarmedStorage(u,n),l&&!(c.isActivatedEIP(6800)||c.isActivatedEIP(7864)))return c.param("coldsloadGas")}else if(l&&(!s||c.isActivatedEIP(6800)||c.isActivatedEIP(7864)))return c.param("warmstoragereadGas");return D}function If(a,n,s,c,l){if(!l.isActivatedEIP(2929))return s;const u=a.interpreter.getAddress().bytes,d=l.param("warmstoragereadGas"),m=l.param("coldsloadGas");if(a.interpreter.journal.isWarmedStorage(u,n))switch(c){case"noop":return d;case"initRefund":return l.param("sstoreInitEIP2200Gas")-d;case"cleanRefund":return l.param("sstoreResetGas")-m-d}return s}function d6(a,n,s,c,l,u){if(a.interpreter.getGasLeft()<=u.param("sstoreSentryEIP2200Gas")&&me(R.errorMessages.OUT_OF_GAS),dt(n,c)){const d=u.param("sstoreNoopEIP2200Gas");return If(a,l,d,"noop",u)}if(dt(s,n))return s.length===0?u.param("sstoreInitEIP2200Gas"):(c.length===0&&a.interpreter.refundGas(u.param("sstoreClearRefundEIP2200Gas"),"EIP-2200 -> sstoreClearRefundEIP2200"),u.param("sstoreCleanEIP2200Gas"));if(s.length>0&&(n.length===0?a.interpreter.subRefund(u.param("sstoreClearRefundEIP2200Gas"),"EIP-2200 -> sstoreClearRefundEIP2200"):c.length===0&&a.interpreter.refundGas(u.param("sstoreClearRefundEIP2200Gas"),"EIP-2200 -> sstoreClearRefundEIP2200")),dt(s,c))if(s.length===0){const d=u.param("sstoreInitRefundEIP2200Gas");a.interpreter.refundGas(If(a,l,d,"initRefund",u),"EIP-2200 -> initRefund")}else{const d=u.param("sstoreCleanRefundEIP2200Gas");a.interpreter.refundGas(BigInt(If(a,l,d,"cleanRefund",u)),"EIP-2200 -> cleanRefund")}return u.param("sstoreDirtyEIP2200Gas")}const Mf=BigInt(2)**BigInt(160)-BigInt(1);async function bl(a,n,s,c){const l=await a.stateManager.getCode(s);return dt(l.slice(0,3),Ug)?Vt(a,l.slice(3,24),n,c):D}const _d=new Map([[10,async function(a,n,s){const[c,l]=a.stack.peek(2);if(l===D)return n;let u=l.toString(2).length/8;u>Math.trunc(u)&&(u=Math.trunc(u)+1),(u<1||u>32)&&me(R.errorMessages.OUT_OF_RANGE);const d=s.param("expByteGas");return n+=BigInt(u)*d,n}],[32,async function(a,n,s){const[c,l]=a.stack.peek(2);return n+=Je(a,c,l,s),n+=s.param("keccak256WordGas")*ma(l,At),n}],[49,async function(a,n,s){const c=Ze(a.stack.peek()[0]);let l=!0;if(s.isActivatedEIP(6800)||s.isActivatedEIP(7864)){const u=a.env.accessWitness.readAccountBasicData(c);n+=u,l=u===D}return s.isActivatedEIP(2929)&&(n+=Vt(a,c.bytes,s,l)),n}],[55,async function(a,n,s){const[c,l,u]=a.stack.peek(3);return n+=Je(a,c,u,s),u!==D&&(n+=s.param("copyGas")*ma(u,At)),n}],[57,async function(a,n,s){const[c,l,u]=a.stack.peek(3);if(n+=Je(a,c,u,s),u!==D&&(n+=s.param("copyGas")*ma(u,At),(s.isActivatedEIP(6800)||s.isActivatedEIP(7864))&&a.env.chargeCodeAccesses===!0)){const d=a.interpreter.getAddress();let m=l+u;const p=a.interpreter.getCodeSize();m>p&&(m=p),n+=a.env.accessWitness.readAccountCodeChunks(d,Number(l),Number(m))}return n}],[59,async function(a,n,s){const c=Ze(a.stack.peek()[0]);let l=!0;if((s.isActivatedEIP(6800)||s.isActivatedEIP(7864))&&a.interpreter._evm.getPrecompile(c)===void 0&&!c.equals(Ze(s.param("systemAddress")))){let u=D;u+=a.env.accessWitness.readAccountBasicData(c),n+=u,l=u===D}return s.isActivatedEIP(2929)&&(n+=Vt(a,c.bytes,s,l)),n}],[60,async function(a,n,s){const[c,l,u,d]=a.stack.peek(4),m=Ze(c);n+=Je(a,l,d,s);let p=!0;if((s.isActivatedEIP(6800)||s.isActivatedEIP(7864))&&a.interpreter._evm.getPrecompile(m)===void 0&&!m.equals(Ze(s.param("systemAddress")))){let h=D;h+=a.env.accessWitness.readAccountBasicData(m),n+=h,p=h===D}if(s.isActivatedEIP(2929)&&(n+=Vt(a,m.bytes,s,p)),d!==D&&(n+=s.param("copyGas")*ma(d,At),s.isActivatedEIP(6800)||s.isActivatedEIP(7864))){let h=u+d;const y=BigInt((await a.stateManager.getCode(m)).length);h>y&&(h=y),n+=a.env.accessWitness.readAccountCodeChunks(m,Number(u),Number(h))}return n}],[62,async function(a,n,s){const[c,l,u]=a.stack.peek(3);return l+u>a.interpreter.getReturnDataSize()&&a.env.eof===void 0&&me(R.errorMessages.OUT_OF_GAS),n+=Je(a,c,u,s),u!==D&&(n+=s.param("copyGas")*ma(u,At)),n}],[63,async function(a,n,s){const c=Ze(a.stack.peek()[0]);let l=!0;if((s.isActivatedEIP(6800)||s.isActivatedEIP(7864))&&a.interpreter._evm.getPrecompile(c)===void 0&&!c.equals(Ze(s.param("systemAddress")))){let u=D;u+=a.env.accessWitness.readAccountCodeHash(c),n+=u,l=u===D}return s.isActivatedEIP(2929)&&(n+=Vt(a,c.bytes,s,l)),n}],[81,async function(a,n,s){const c=a.stack.peek()[0];return n+=Je(a,c,At,s),n}],[82,async function(a,n,s){const c=a.stack.peek()[0];return n+=Je(a,c,At,s),n}],[83,async function(a,n,s){const c=a.stack.peek()[0];return n+=Je(a,c,Ne,s),n}],[84,async function(a,n,s){const c=a.stack.peek()[0],l=ke(Fe(c),32);let u=!0;if(s.isActivatedEIP(6800)||s.isActivatedEIP(7864)){const d=a.interpreter.getAddress(),m=a.env.accessWitness.readAccountStorage(d,c);n+=m,u=m===D}return s.isActivatedEIP(2929)&&(n+=fp(a,l,!1,s,u)),n}],[85,async function(a,n,s){a.interpreter.isStatic()&&me(R.errorMessages.STATIC_STATE_CHANGE);const[c,l]=a.stack.peek(2),u=ke(Fe(c),32);let d;l===D?d=Uint8Array.from([]):d=Fe(l);const m=Rc(await a.interpreter.storageLoad(u)),p=Rc(await a.interpreter.storageLoad(u,!0));s.hardfork()===q.Constantinople?n+=f6(a,m,p,Rc(d),s):s.gteHardfork(q.Istanbul)?!s.isActivatedEIP(6800)&&!s.isActivatedEIP(7864)&&(n+=d6(a,m,p,Rc(d),u,s)):n+=i6(a,m,Rc(d),s);let h=!0;if(s.isActivatedEIP(6800)||s.isActivatedEIP(7864)){const y=a.interpreter.getAddress(),b=a.env.accessWitness.writeAccountStorage(y,c);n+=b,h=b===D}return s.isActivatedEIP(2929)&&(n+=fp(a,u,!0,s,h)),n}],[94,async function(a,n,s){const[c,l,u]=a.stack.peek(3),d=(u+Ic)/At;return n+=V3*d,n+=Je(a,l,u,s),n+=Je(a,c,u,s),n}],[160,async function(a,n,s){a.interpreter.isStatic()&&me(R.errorMessages.STATIC_STATE_CHANGE);const[c,l]=a.stack.peek(2),u=a.opCode-160;return(u<0||u>4)&&me(R.errorMessages.OUT_OF_RANGE),n+=Je(a,c,l,s),n+=s.param("logTopicGas")*BigInt(u)+l*s.param("logDataGas"),n}],[211,async function(a,n,s){a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE);const[c,l,u]=a.stack.peek(3);return n+=Je(a,c,u,s),u!==D&&(n+=s.param("copyGas")*ma(u,At)),n}],[236,async function(a,n,s){a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE);const c=a.env.code[a.programCounter+1],[l,u,d,m]=a.stack.peek(4);n+=Je(a,d,m,s);const p=a.env.eof.container.body.containerSections[c];n+=s.param("keccak256WordGas")*ma(BigInt(p.length),At);const h=a.interpreter.getGasLeft()-n;return a.messageGasLimit=Oi(h,h,a,s),n}],[238,async function(a,n,s){const[c,l]=a.stack.peek(2);return n+=Je(a,c,l,s),n}],[240,async function(a,n,s){a.interpreter.isStatic()&&me(R.errorMessages.STATIC_STATE_CHANGE);const[c,l,u]=a.stack.peek(3);s.isActivatedEIP(2929)&&(n+=Vt(a,a.interpreter.getAddress().bytes,s,!1)),s.isActivatedEIP(3860)&&(n+=(u+Ic)/At*s.param("initCodeWordGas")),n+=Je(a,l,u,s);let d=BigInt(a.interpreter.getGasLeft())-n;return d=Oi(d,d,a,s),a.messageGasLimit=d,n}],[241,async function(a,n,s){const[c,l,u,d,m,p,h]=a.stack.peek(7),y=Ze(l);a.interpreter.isStatic()&&u!==D&&me(R.errorMessages.STATIC_STATE_CHANGE),n+=Je(a,d,m,s),n+=Je(a,p,h,s);let b=!0;if((s.isActivatedEIP(6800)||s.isActivatedEIP(7864))&&a.interpreter._evm.getPrecompile(y)===void 0){const _=a.env.accessWitness.readAccountBasicData(y);if(u!==D){const v=a.interpreter.getAddress();n+=a.env.accessWitness.writeAccountBasicData(v),n+=a.env.accessWitness.writeAccountBasicData(y)}n+=_,b=_===D}if(s.isActivatedEIP(2929)&&(n+=Vt(a,y.bytes,s,b)),s.isActivatedEIP(7702)&&(n+=await bl(a,s,y,b)),u!==D&&!s.isActivatedEIP(6800)&&!s.isActivatedEIP(7864)&&(n+=s.param("callValueTransferGas")),s.gteHardfork(q.SpuriousDragon)){const _=await a.stateManager.getAccount(y);let v=!1;(_===void 0||_.isEmpty())&&(v=!0),v&&u!==D&&(n+=s.param("callNewAccountGas"))}else await a.stateManager.getAccount(y)===void 0&&(n+=s.param("callNewAccountGas"));const E=Oi(c,a.interpreter.getGasLeft()-n,a,s);return E>a.interpreter.getGasLeft()-n&&me(R.errorMessages.OUT_OF_GAS),n>a.interpreter.getGasLeft()&&me(R.errorMessages.OUT_OF_GAS),a.messageGasLimit=E,n}],[242,async function(a,n,s){const[c,l,u,d,m,p,h]=a.stack.peek(7),y=Ze(l);n+=Je(a,d,m,s),n+=Je(a,p,h,s);let b=!0;if((s.isActivatedEIP(6800)||s.isActivatedEIP(7864))&&a.interpreter._evm.getPrecompile(y)===void 0){const _=a.env.accessWitness.readAccountBasicData(y);n+=_,b=_===D}s.isActivatedEIP(2929)&&(n+=Vt(a,Ze(l).bytes,s,b)),s.isActivatedEIP(7702)&&(n+=await bl(a,s,y,b)),u!==D&&(n+=s.param("callValueTransferGas"));const E=Oi(c,a.interpreter.getGasLeft()-n,a,s);return E>a.interpreter.getGasLeft()-n&&me(R.errorMessages.OUT_OF_GAS),a.messageGasLimit=E,n}],[243,async function(a,n,s){const[c,l]=a.stack.peek(2);return n+=Je(a,c,l,s),n}],[244,async function(a,n,s){const[c,l,u,d,m,p]=a.stack.peek(6),h=Ze(l);n+=Je(a,u,d,s),n+=Je(a,m,p,s);let y=!0;if((s.isActivatedEIP(6800)||s.isActivatedEIP(7864))&&a.interpreter._evm.getPrecompile(h)===void 0){const E=a.env.accessWitness.readAccountBasicData(h);n+=E,y=E===D}s.isActivatedEIP(2929)&&(n+=Vt(a,Ze(l).bytes,s,y)),s.isActivatedEIP(7702)&&(n+=await bl(a,s,h,y));const b=Oi(c,a.interpreter.getGasLeft()-n,a,s);return b>a.interpreter.getGasLeft()-n&&me(R.errorMessages.OUT_OF_GAS),a.messageGasLimit=b,n}],[245,async function(a,n,s){a.interpreter.isStatic()&&me(R.errorMessages.STATIC_STATE_CHANGE);const[c,l,u,d]=a.stack.peek(4);n+=Je(a,l,u,s),s.isActivatedEIP(2929)&&(n+=Vt(a,a.interpreter.getAddress().bytes,s,!1)),s.isActivatedEIP(3860)&&(n+=(u+Ic)/At*s.param("initCodeWordGas")),n+=s.param("keccak256WordGas")*ma(u,At);let m=a.interpreter.getGasLeft()-n;return m=Oi(m,m,a,s),a.messageGasLimit=m,n}],[248,async function(a,n,s){a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE);const[c,l,u,d]=a.stack.peek(4);a.interpreter.isStatic()&&d!==D&&me(R.errorMessages.STATIC_STATE_CHANGE),d>D&&(n+=s.param("callValueTransferGas")),c>Mf&&me(Z.INVALID_EXTCALL_TARGET),n+=Je(a,l,u,s);const m=Ze(c);if(n+=Vt(a,m.bytes,s),d>D){const _=await a.stateManager.getAccount(m);(_===void 0||_.isEmpty())&&(n+=s.param("callNewAccountGas"))}const p=s.param("minRetainedGas"),h=s.param("minCalleeGas"),y=a.interpreter.getGasLeft()-n,b=y/Mc;let E;return b<p?E=y-p:E=y-b,(a.env.depth>=Number(s.param("stackLimit"))||a.env.contract.balance<d||E<h)&&(E=-Ne),a.messageGasLimit=E,n}],[249,async function(a,n,s){a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE);const[c,l,u]=a.stack.peek(3);c>Mf&&me(Z.INVALID_EXTCALL_TARGET),n+=Je(a,l,u,s);const d=Ze(c);n+=Vt(a,d.bytes,s);const m=s.param("minRetainedGas"),p=s.param("minCalleeGas"),h=a.interpreter.getGasLeft()-n,y=h/Mc;let b;return y<m?b=h-m:b=h-y,(a.env.depth>=Number(s.param("stackLimit"))||b<p)&&(b=-Ne),a.messageGasLimit=b,n}],[250,async function(a,n,s){const[c,l,u,d,m,p]=a.stack.peek(6);n+=Je(a,u,d,s),n+=Je(a,m,p,s);let h=!0;const y=Ze(l);if((s.isActivatedEIP(6800)||s.isActivatedEIP(7864))&&a.interpreter._evm.getPrecompile(y)===void 0){const E=a.env.accessWitness.readAccountBasicData(y);n+=E,h=E===D}s.isActivatedEIP(2929)&&(n+=Vt(a,Ze(l).bytes,s,h)),s.isActivatedEIP(7702)&&(n+=await bl(a,s,Ze(l),h));const b=Oi(c,a.interpreter.getGasLeft()-n,a,s);return a.messageGasLimit=b,n}],[251,async function(a,n,s){a.env.eof===void 0&&me(R.errorMessages.INVALID_OPCODE);const[c,l,u]=a.stack.peek(3);c>Mf&&me(Z.INVALID_EXTCALL_TARGET),n+=Je(a,l,u,s);const d=Ze(c);n+=Vt(a,d.bytes,s);const m=s.param("minRetainedGas"),p=s.param("minCalleeGas"),h=a.interpreter.getGasLeft()-n,y=h/Mc;let b;return y<m?b=h-m:b=h-y,(a.env.depth>=Number(s.param("stackLimit"))||b<p)&&(b=-Ne),a.messageGasLimit=b,n}],[253,async function(a,n,s){const[c,l]=a.stack.peek(2);return n+=Je(a,c,l,s),n}],[255,async function(a,n,s){a.interpreter.isStatic()&&me(R.errorMessages.STATIC_STATE_CHANGE);const c=a.stack.peek()[0],l=Ze(c),u=a.interpreter.getAddress();let d=!1;const m=await a.interpreter.getExternalBalance(u);if(s.gteHardfork(q.SpuriousDragon)){if(m>D){const h=await a.stateManager.getAccount(l);(h===void 0||h.isEmpty())&&(d=!0)}}else s.gteHardfork(q.TangerineWhistle)&&(await a.stateManager.getAccount(l)!==void 0||(d=!0));d&&(n+=s.param("callNewAccountGas"));let p=!0;if((s.isActivatedEIP(6800)||s.isActivatedEIP(7864))&&a.env.chargeCodeAccesses===!0){n+=a.env.accessWitness.readAccountBasicData(u),m>D&&(n+=a.env.accessWitness.writeAccountBasicData(u));let h=a.env.accessWitness.readAccountBasicData(l);m>D&&(h+=a.env.accessWitness.writeAccountBasicData(l)),n+=h,p=h===D}return s.isActivatedEIP(2929)&&(n+=Vt(a,l.bytes,s,p,!0)),n}]]),h6=_d.get(160);for(let a=161;a<=164;a++)_d.set(a,h6);class m6{constructor({code:n,name:s,fullName:c,fee:l,isAsync:u,dynamicGas:d}){this.code=n,this.name=s,this.fullName=c,this.fee=l,this.feeBigInt=BigInt(l),this.isAsync=u,this.dynamicGas=d,this.isInvalid=this.name==="INVALID",Object.freeze(this)}}const Y=a=>({name:a,isAsync:!1,dynamicGas:!1}),Pt=a=>({name:a,isAsync:!1,dynamicGas:!0}),Wt=a=>({name:a,isAsync:!0,dynamicGas:!1}),nt=a=>({name:a,isAsync:!0,dynamicGas:!0}),p6={0:Y("STOP"),1:Y("ADD"),2:Y("MUL"),3:Y("SUB"),4:Y("DIV"),5:Y("SDIV"),6:Y("MOD"),7:Y("SMOD"),8:Y("ADDMOD"),9:Y("MULMOD"),10:Pt("EXP"),11:Y("SIGNEXTEND"),16:Y("LT"),17:Y("GT"),18:Y("SLT"),19:Y("SGT"),20:Y("EQ"),21:Y("ISZERO"),22:Y("AND"),23:Y("OR"),24:Y("XOR"),25:Y("NOT"),26:Y("BYTE"),32:Pt("KECCAK256"),48:Wt("ADDRESS"),49:nt("BALANCE"),50:Wt("ORIGIN"),51:Wt("CALLER"),52:Wt("CALLVALUE"),53:Wt("CALLDATALOAD"),54:Wt("CALLDATASIZE"),55:nt("CALLDATACOPY"),56:Y("CODESIZE"),57:Pt("CODECOPY"),58:Y("GASPRICE"),59:nt("EXTCODESIZE"),60:nt("EXTCODECOPY"),64:Wt("BLOCKHASH"),65:Wt("COINBASE"),66:Wt("TIMESTAMP"),67:Wt("NUMBER"),68:Wt("DIFFICULTY"),69:Wt("GASLIMIT"),80:Y("POP"),81:Pt("MLOAD"),82:Pt("MSTORE"),83:Pt("MSTORE8"),84:nt("SLOAD"),85:nt("SSTORE"),86:Y("JUMP"),87:Y("JUMPI"),88:Y("PC"),89:Y("MSIZE"),90:Y("GAS"),91:Y("JUMPDEST"),96:Y("PUSH"),97:Y("PUSH"),98:Y("PUSH"),99:Y("PUSH"),100:Y("PUSH"),101:Y("PUSH"),102:Y("PUSH"),103:Y("PUSH"),104:Y("PUSH"),105:Y("PUSH"),106:Y("PUSH"),107:Y("PUSH"),108:Y("PUSH"),109:Y("PUSH"),110:Y("PUSH"),111:Y("PUSH"),112:Y("PUSH"),113:Y("PUSH"),114:Y("PUSH"),115:Y("PUSH"),116:Y("PUSH"),117:Y("PUSH"),118:Y("PUSH"),119:Y("PUSH"),120:Y("PUSH"),121:Y("PUSH"),122:Y("PUSH"),123:Y("PUSH"),124:Y("PUSH"),125:Y("PUSH"),126:Y("PUSH"),127:Y("PUSH"),128:Y("DUP"),129:Y("DUP"),130:Y("DUP"),131:Y("DUP"),132:Y("DUP"),133:Y("DUP"),134:Y("DUP"),135:Y("DUP"),136:Y("DUP"),137:Y("DUP"),138:Y("DUP"),139:Y("DUP"),140:Y("DUP"),141:Y("DUP"),142:Y("DUP"),143:Y("DUP"),144:Y("SWAP"),145:Y("SWAP"),146:Y("SWAP"),147:Y("SWAP"),148:Y("SWAP"),149:Y("SWAP"),150:Y("SWAP"),151:Y("SWAP"),152:Y("SWAP"),153:Y("SWAP"),154:Y("SWAP"),155:Y("SWAP"),156:Y("SWAP"),157:Y("SWAP"),158:Y("SWAP"),159:Y("SWAP"),160:Pt("LOG"),161:Pt("LOG"),162:Pt("LOG"),163:Pt("LOG"),164:Pt("LOG"),240:nt("CREATE"),241:nt("CALL"),242:nt("CALLCODE"),243:Pt("RETURN"),254:Y("INVALID"),255:nt("SELFDESTRUCT")},Hf=[{hardfork:q.Homestead,opcodes:{244:nt("DELEGATECALL")}},{hardfork:q.TangerineWhistle,opcodes:{84:nt("SLOAD"),241:nt("CALL"),242:nt("CALLCODE"),59:nt("EXTCODESIZE"),60:nt("EXTCODECOPY"),244:nt("DELEGATECALL"),255:nt("SELFDESTRUCT"),49:nt("BALANCE")}},{hardfork:q.Byzantium,opcodes:{253:Pt("REVERT"),250:nt("STATICCALL"),61:Wt("RETURNDATASIZE"),62:nt("RETURNDATACOPY")}},{hardfork:q.Constantinople,opcodes:{27:Y("SHL"),28:Y("SHR"),29:Y("SAR"),63:nt("EXTCODEHASH"),245:nt("CREATE2")}},{hardfork:q.Istanbul,opcodes:{70:Y("CHAINID"),71:Y("SELFBALANCE")}},{hardfork:q.Paris,opcodes:{68:Wt("PREVRANDAO")}}],g6=[{eip:663,opcodes:{230:Y("DUPN"),231:Y("SWAPN"),232:Y("EXCHANGE")}},{eip:1153,opcodes:{92:Y("TLOAD"),93:Y("TSTORE")}},{eip:3198,opcodes:{72:Y("BASEFEE")}},{eip:3855,opcodes:{95:Y("PUSH0")}},{eip:4200,opcodes:{224:Y("RJUMP"),225:Y("RJUMPI"),226:Y("RJUMPV")}},{eip:4750,opcodes:{227:Y("CALLF"),228:Y("RETF")}},{eip:4844,opcodes:{73:Y("BLOBHASH")}},{eip:5656,opcodes:{94:Pt("MCOPY")}},{eip:6206,opcodes:{229:Y("JUMPF")}},{eip:7069,opcodes:{247:Y("RETURNDATALOAD"),248:nt("EXTCALL"),249:nt("EXTDELEGATECALL"),251:nt("EXTSTATICCALL")}},{eip:7480,opcodes:{208:Y("DATALOAD"),209:Y("DATALOADN"),210:Y("DATASIZE"),211:Pt("DATACOPY")}},{eip:7516,opcodes:{74:Y("BLOBBASEFEE")}},{eip:7620,opcodes:{236:nt("EOFCREATE"),238:nt("RETURNCONTRACT")}},{eip:7939,opcodes:{30:Y("CLZ")}}];function b6(a){const n=new Map;for(const[s,c]of Object.entries(a)){const l=parseInt(s,10);isNaN(c.fee)&&(c.fee=0),n.set(l,new m6({code:l,fullName:a6(l,c.name),...c}))}return n}function y6(a,n){let s={...p6};const c=new Map(_a),l=new Map(_d);for(let p=0;p<Hf.length;p++)a.gteHardfork(Hf[p].hardfork)&&(s={...s,...Hf[p].opcodes});for(const p of g6)a.isActivatedEIP(p.eip)&&(s={...s,...p.opcodes});for(const p in s){const h=Number(a.param(`${s[p].name.toLowerCase()}Gas`));if(h===void 0)throw $(`base fee not defined for: ${s[p].name}`);s[p].fee=h}if(n)for(const p of n){const h=p;if(!u6(h)){delete s[h.opcode];continue}const y={[h.opcode]:{name:h.opcodeName,isAsync:!0,dynamicGas:h.gasFunction!==void 0,fee:h.baseFee,feeBigInt:BigInt(h.baseFee)}};s={...s,...y},h.gasFunction!==void 0&&l.set(h.opcode,h.gasFunction),c.set(h.opcode,h.logicFunction)}const u=b6(s),d=[];for(const[p,h]of u){const y=l.get(p),b=c.get(p);d[p]={opcodeInfo:h,opHandler:b,gasHandler:y}}const m=d[254];for(let p=0;p<=255;p++)d[p]===void 0&&(d[p]=m);return{dynamicGasHandlers:l,handlers:c,opcodes:u,opcodeMap:d}}class x6{constructor(n){this._len=0,this._store=[],this._maxHeight=n??1024}get length(){return this._len}push(n){if(this._len>=this._maxHeight)throw new R(R.errorMessages.STACK_OVERFLOW);this._store[this._len++]=n}pop(){if(this._len<1)throw new R(R.errorMessages.STACK_UNDERFLOW);return this._store[--this._len]}popN(n=1){if(this._len<n)throw new R(R.errorMessages.STACK_UNDERFLOW);if(n===0)return[];const s=Array(n),c=this._store;for(let l=0;l<n;l++)s[l]=c[--this._len];return s}peek(n=1){const s=Array(n);let c=this._len;for(let l=0;l<n;l++){const u=--c;if(u<0)throw new R(R.errorMessages.STACK_UNDERFLOW);s[l]=this._store[u]}return s}swap(n){if(this._len<=n)throw new R(R.errorMessages.STACK_UNDERFLOW);const s=this._len-1,c=s-n,l=this._store,u=l[s];l[s]=l[c],l[c]=u}dup(n){const s=this._len;if(s<n)throw new R(R.errorMessages.STACK_UNDERFLOW);if(s>=this._maxHeight)throw new R(R.errorMessages.STACK_OVERFLOW);const c=s-n;this._store[this._len++]=this._store[c]}exchange(n,s){const c=this._len-1,l=c-n,u=c-s;if(l<0||u<0)throw new R(R.errorMessages.STACK_UNDERFLOW);const d=this._store[u];this._store[u]=this._store[l],this._store[l]=d}getStack(){return this._store.slice(0,this._len)}}const Dc=Ii("evm:gas");class E6{constructor(n,s,c,l,u,d,m,p){if(this.opDebuggers={},this._evm=n,this._stateManager=s,this.common=this._evm.common,this.common.consensusType()==="poa"&&this._evm._optsCached.cliqueSigner===void 0)throw $("Must include cliqueSigner function if clique/poa is being used for consensus type");this._runState={programCounter:0,opCode:254,memory:new e6,memoryWordCount:D,highestMemCost:D,stack:new x6,code:new Uint8Array(0),validJumps:Uint8Array.from([]),cachedPushes:{},stateManager:this._stateManager,blockchain:c,env:l,shouldDoJumpAnalysis:!0,interpreter:this,gasRefund:l.gasRefund,gasLeft:u,returnBytes:new Uint8Array(0)},this.journal=d,this._env=l,this._result={logs:[],returnValue:void 0,selfdestruct:new Set},this.profilerOpts=p,this.performanceLogger=m}async run(n,s={}){var h,y;if(!this.common.isActivatedEIP(3540)||n[0]!==jl)this._runState.code=n;else if(this.common.isActivatedEIP(3540)){if(n[1]!==xd)return{runState:this._runState,exceptionError:new R(R.errorMessages.INVALID_BYTECODE_RESULT)};if(n[2]!==Cg)return{runState:this._runState,exceptionError:new R(R.errorMessages.INVALID_EOF_FORMAT)};this._runState.code=n;const b=this._env.isCreate&&this._env.depth===0,E=b?Fn.TxInitmode:Fn.Default;try{Fx(this._runState,E)}catch{return{runState:this._runState,exceptionError:new R(R.errorMessages.INVALID_EOF_FORMAT)}}if(b)try{Ng(this._runState.code,this._evm,Rn.InitCode,Fn.TxInitmode)}catch{return{runState:this._runState,exceptionError:new R(R.errorMessages.INVALID_EOF_FORMAT)}}}this._runState.programCounter=s.pc??this._runState.programCounter;const c=this._runState.programCounter;if(c!==0&&(c<0||c>=this._runState.code.length))throw $("Internal error: program counter not in range");let l,u,d=!0,m,p;for(((h=this.profilerOpts)==null?void 0:h.enabled)===!0&&this.performanceLogger.hasTimer()&&(m=this.performanceLogger.pauseTimer(),p=this.performanceLogger.startTimer("Overhead"));this._runState.programCounter<this._runState.code.length;){const b=this._runState.programCounter;let E,_;if(d){if(E=this._runState.code[b],E===86||E===87||E===94){const{jumps:v,pushes:C,opcodesCached:B}=this._getValidJumpDestinations(this._runState.code);this._runState.validJumps=v,this._runState.cachedPushes=C,this._runState.shouldDoJumpAnalysis=!1,u=B,d=!1}}else _=u[b],E=_.opcodeInfo.code;if(E===254&&this.common.isActivatedEIP(7864)&&this._runState.env.chargeCodeAccesses===!0){const v=this._runState.interpreter.getAddress();if(!await this._runState.stateManager.checkChunkWitnessPresent(v,b))throw Error(`Invalid witness with missing codeChunk for pc=${b}`)}this._runState.opCode=E;try{p!==void 0&&this.performanceLogger.pauseTimer(),await this.runStep(_),p!==void 0&&this.performanceLogger.unpauseTimer(p)}catch(v){if((y=this._runState.env.accessWitness)==null||y.revert(),p!==void 0&&this.performanceLogger.unpauseTimer(p),!("errorType"in v&&v.errorType===Bg))throw v;v.error!==R.errorMessages.STOP&&(l=v);break}}return m!==void 0&&(this.performanceLogger.stopTimer(p,0),this.performanceLogger.unpauseTimer(m)),{runState:this._runState,exceptionError:l}}async runStep(n){var m,p,h;const s=n??this.lookupOpInfo(this._runState.opCode),c=s.opcodeInfo;let l;((m=this.profilerOpts)==null?void 0:m.enabled)===!0&&(l=this.performanceLogger.startTimer(c.name));let u=c.feeBigInt;const d=this._runState.memoryWordCount;try{if(c.dynamicGas&&(u=await s.gasHandler(this._runState,u,this.common)),(this._evm.events.listenerCount("step")>0||this._evm.DEBUG)&&await this._runStepHook(u,this.getGasLeft(),d),(this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864))&&this._env.chargeCodeAccesses===!0){const b=this._runState.interpreter.getAddress(),E=this._runState.env.accessWitness.readAccountCodeChunks(b,this._runState.programCounter,this._runState.programCounter);u+=E,Dc(`codechunk accessed statelessGas=${E} (-> ${u})`)}if(c.isInvalid)throw new R(R.errorMessages.INVALID_OPCODE);this.useGas(u,c),this._runState.programCounter++;const y=s.opHandler;c.isAsync?await y.apply(null,[this._runState,this.common]):y.apply(null,[this._runState,this.common]),(p=this._runState.env.accessWitness)==null||p.commit()}finally{((h=this.profilerOpts)==null?void 0:h.enabled)===!0&&this.performanceLogger.stopTimer(l,Number(u),"opcodes",c.fee,Number(u)-c.fee)}}lookupOpInfo(n){return this._evm._opcodeMap[n]}async _runStepHook(n,s,c){var h,y;const l=this.lookupOpInfo(this._runState.opCode).opcodeInfo,u=(h=this._env.eof)==null?void 0:h.container.header.getSectionFromProgramCounter(this._runState.programCounter);let d,m;if(l.code===253){const[b,E]=this._runState.stack.peek(2);d=new Uint8Array(0),E!==D&&(d=this._runState.memory.read(Number(b),Number(E)))}Ri[l.code]!==void 0&&Ri[l.code].intermediates>0&&(m=this._runState.code.slice(this._runState.programCounter+1,this._runState.programCounter+1+Ri[l.code].intermediates));const p={pc:this._runState.programCounter,gasLeft:s,gasRefund:this._runState.gasRefund,opcode:{name:l.fullName,fee:l.fee,dynamicFee:n,isAsync:l.isAsync,code:l.code},stack:this._runState.stack.getStack(),depth:this._env.depth,address:this._env.address,account:this._env.contract,memory:this._runState.memory._store.subarray(0,Number(c)*32),memoryWordCount:c,codeAddress:this._env.codeAddress,stateManager:this._runState.stateManager,eofSection:u,immediate:m,error:d,eofFunctionDepth:this._env.eof!==void 0?((y=this._env.eof)==null?void 0:y.eofRunState.returnStack.length)+1:void 0};if(this._evm.DEBUG){let b=[];b=p.stack.map(v=>Cf(BigInt(v)));const E=p.opcode.name,_={pc:p.pc,op:E,gas:Cf(p.gasLeft),gasCost:Cf(n),stack:b,depth:p.depth};E in this.opDebuggers||(this.opDebuggers[E]=Ii(`evm:ops:${E}`)),this.opDebuggers[E](JSON.stringify(_))}await this._evm._emit("step",p)}_getValidJumpDestinations(n){const s=new Uint8Array(n.length),c={},l=Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];if(l[u]=this.lookupOpInfo(d),d<=127)if(d>=96){const m=d-95;let p=n.subarray(u+1,u+d-94);p.length<m&&(p=Gn(p,m));const h=ve(p);c[u+1]=h,u+=m}else d===91&&(s[u]=1)}return{jumps:s,pushes:c,opcodesCached:l}}useGas(n,s){if(this._runState.gasLeft-=n,this._evm.DEBUG){let c="";typeof s=="string"?c=s+": ":s!==void 0&&(c=`${s.name} fee: `),Dc(`${c}used ${n} gas (-> ${this._runState.gasLeft})`)}this._runState.gasLeft<D&&(this._runState.gasLeft=D,me(R.errorMessages.OUT_OF_GAS))}refundGas(n,s){this._evm.DEBUG&&Dc(`${typeof s=="string"?s+": ":""}refund ${n} gas (-> ${this._runState.gasRefund})`),this._runState.gasRefund+=n}subRefund(n,s){this._evm.DEBUG&&Dc(`${typeof s=="string"?s+": ":""}sub gas refund ${n} (-> ${this._runState.gasRefund})`),this._runState.gasRefund-=n,this._runState.gasRefund<D&&(this._runState.gasRefund=D,me(R.errorMessages.REFUND_EXHAUSTED))}addStipend(n){this._evm.DEBUG&&Dc(`add stipend ${n} (-> ${this._runState.gasLeft})`),this._runState.gasLeft+=n}async getExternalBalance(n){if(n.equals(this._env.address))return this._env.contract.balance;let s=await this._stateManager.getAccount(n);return s||(s=new en),s.balance}async storageStore(n,s){await this._stateManager.putStorage(this._env.address,n,s);const c=await this._stateManager.getAccount(this._env.address);if(!c)throw $("could not read account while persisting memory");this._env.contract=c}async storageLoad(n,s=!1){return s?this._stateManager.originalStorageCache.get(this._env.address,n):this._stateManager.getStorage(this._env.address,n)}transientStorageStore(n,s){return this._evm.transientStorage.put(this._env.address,n,s)}transientStorageLoad(n){return this._evm.transientStorage.get(this._env.address,n)}finish(n){this._result.returnValue=n,me(R.errorMessages.STOP)}revert(n){this._result.returnValue=n,me(R.errorMessages.REVERT)}getAddress(){return this._env.address}getSelfBalance(){return this._env.contract.balance}getCallValue(){return this._env.callValue}getCallData(){return this._env.callData}getCallDataSize(){return BigInt(this._env.callData.length)}getCaller(){return ve(this._env.caller.bytes)}getCodeSize(){return BigInt(this._env.code.length)}getCode(){return this._env.code}getGasLeft(){return this._runState.gasLeft}getReturnDataSize(){return BigInt(this._runState.returnBytes.length)}getReturnData(){return this._runState.returnBytes}isStatic(){return this._env.isStatic}getTxGasPrice(){return this._env.gasPrice}getTxOrigin(){return ve(this._env.origin.bytes)}getBlockNumber(){return this._env.block.header.number}getBlockCoinbase(){let n;return this.common.consensusAlgorithm()===kx.Clique?n=this._evm._optsCached.cliqueSigner(this._env.block.header):n=this._env.block.header.coinbase,ve(n.toBytes())}getBlockTimestamp(){return this._env.block.header.timestamp}getBlockDifficulty(){return this._env.block.header.difficulty}getBlockPrevRandao(){return ve(this._env.block.header.prevRandao)}getBlockGasLimit(){return this._env.block.header.gasLimit}getBlockBaseFee(){const n=this._env.block.header.baseFeePerGas;if(n===void 0)throw $("Block has no Base Fee");return n}getBlobBaseFee(){const n=this._env.block.header.getBlobGasPrice();if(n===void 0)throw $("Block has no Blob Base Fee");return n}getChainId(){return this.common.chainId()}async call(n,s,c,l){const u=new wi({caller:this._env.address,gasLimit:n,to:s,value:c,data:l,isStatic:this._env.isStatic,depth:this._env.depth+1,blobVersionedHashes:this._env.blobVersionedHashes,accessWitness:this._env.accessWitness});return this._baseCall(u)}async callCode(n,s,c,l){const u=new wi({caller:this._env.address,gasLimit:n,to:this._env.address,codeAddress:s,value:c,data:l,isStatic:this._env.isStatic,depth:this._env.depth+1,blobVersionedHashes:this._env.blobVersionedHashes,accessWitness:this._env.accessWitness});return this._baseCall(u)}async callStatic(n,s,c,l){const u=new wi({caller:this._env.address,gasLimit:n,to:s,value:c,data:l,isStatic:!0,depth:this._env.depth+1,blobVersionedHashes:this._env.blobVersionedHashes,accessWitness:this._env.accessWitness});return this._baseCall(u)}async callDelegate(n,s,c,l){const u=new wi({caller:this._env.caller,gasLimit:n,to:this._env.address,codeAddress:s,value:c,data:l,isStatic:this._env.isStatic,delegatecall:!0,depth:this._env.depth+1,blobVersionedHashes:this._env.blobVersionedHashes,accessWitness:this._env.accessWitness});return this._baseCall(u)}async _baseCall(n){const s=new Set(this._result.selfdestruct);n.selfdestruct=s,n.gasRefund=this._runState.gasRefund,this._runState.returnBytes=new Uint8Array(0);let c;if(this.common.isActivatedEIP(6780)&&(c=new Set(this._result.createdAddresses),n.createdAddresses=c),this._runState.returnBytes=new Uint8Array(0),this._env.depth>=Number(this.common.param("stackLimit"))||n.delegatecall!==!0&&this._env.contract.balance<n.value)return D;const l=await this._evm.runCall({message:n});if(l.execResult.logs&&(this._result.logs=this._result.logs.concat(l.execResult.logs)),this.useGas(l.execResult.executionGasUsed,"CALL, STATICCALL, DELEGATECALL, CALLCODE"),l.execResult.returnValue!==void 0&&(!l.execResult.exceptionError||l.execResult.exceptionError.error===R.errorMessages.REVERT)&&(this._runState.returnBytes=l.execResult.returnValue),!l.execResult.exceptionError){for(const d of s)this._result.selfdestruct.add(d);if(this.common.isActivatedEIP(6780))for(const d of c)this._result.createdAddresses.add(d);const u=await this._stateManager.getAccount(this._env.address);if(!u)throw $("could not read contract account");this._env.contract=u,this._runState.gasRefund=l.execResult.gasRefund??D}return this._getReturnCode(l)}async create(n,s,c,l,u){const d=new Set(this._result.selfdestruct),m=this._env.address,p=this._env.depth+1;if(this._runState.returnBytes=new Uint8Array(0),this._env.depth>=Number(this.common.param("stackLimit"))||this._env.contract.balance<s||this._env.contract.nonce>=G3||(this._env.contract.nonce+=Ne,await this.journal.putAccount(this._env.address,this._env.contract),this.common.isActivatedEIP(3860)&&c.length>Number(this.common.param("maxInitCodeSize"))&&this._evm.allowUnlimitedInitCodeSize===!1))return D;const h=new wi({caller:m,gasLimit:n,value:s,data:c,eofCallData:u,salt:l,depth:p,selfdestruct:d,gasRefund:this._runState.gasRefund,blobVersionedHashes:this._env.blobVersionedHashes,accessWitness:this._env.accessWitness});let y;this.common.isActivatedEIP(6780)&&(y=new Set(this._result.createdAddresses),h.createdAddresses=y);const b=await this._evm.runCall({message:h});if(b.execResult.logs&&(this._result.logs=this._result.logs.concat(b.execResult.logs)),this.useGas(b.execResult.executionGasUsed,"CREATE"),b.execResult.exceptionError&&b.execResult.exceptionError.error===R.errorMessages.REVERT&&(this._runState.returnBytes=b.execResult.returnValue),!b.execResult.exceptionError||b.execResult.exceptionError.error===R.errorMessages.CODESTORE_OUT_OF_GAS){for(const _ of d)this._result.selfdestruct.add(_);if(this.common.isActivatedEIP(6780))for(const _ of y)this._result.createdAddresses.add(_);const E=await this._stateManager.getAccount(this._env.address);if(!E)throw $("could not read contract account");if(this._env.contract=E,this._runState.gasRefund=b.execResult.gasRefund??D,b.createdAddress)return ve(b.createdAddress.bytes)}return this._getReturnCode(b,!0)}async create2(n,s,c,l){return this.create(n,s,c,l)}async eofcreate(n,s,c,l,u){return this.create(n,s,c,l,u)}async selfDestruct(n){return this._selfDestruct(n)}async _selfDestruct(n){this._result.selfdestruct.has(xe(this._env.address.bytes))||this.refundGas(this.common.param("selfdestructRefundGas")),this._result.selfdestruct.add(xe(this._env.address.bytes));const s=dt(n.bytes,this._env.address.bytes);if(!s){let l=await this._stateManager.getAccount(n);l||(l=new en),l.balance+=this._env.contract.balance,await this.journal.putAccount(n,l)}let c=!this.common.isActivatedEIP(6780);c||(c=this._env.createdAddresses.has(this._env.address.toString()),c||(c=!s)),c&&await this._stateManager.modifyAccountFields(this._env.address,{balance:D}),me(R.errorMessages.STOP)}log(n,s,c){(s<0||s>4)&&me(R.errorMessages.OUT_OF_RANGE),c.length!==s&&me(R.errorMessages.INTERNAL_ERROR);const l=[this._env.address.bytes,c,n];this._result.logs.push(l)}_getReturnCode(n,s=!1){return this._runState.env.eof===void 0||s?n.execResult.exceptionError?D:Ne:n.execResult.exceptionError!==void 0?n.execResult.exceptionError.error===R.errorMessages.REVERT?Ne:ba:D}}class _6{constructor(n,s){var c,l;this.DEBUG=typeof window>"u"?((l=(c=process==null?void 0:process.env)==null?void 0:c.DEBUG)==null?void 0:l.includes("ethjs"))??!1:!1,this._debug=Ii("evm:journal"),this.cleanJournal(),this.journalHeight=0,this.stateManager=n,this.common=s}startReportingAccessList(){this.accessList=new Map}startReportingPreimages(){this.preimages=new Map}async putAccount(n,s){return this.touchAddress(n),this.stateManager.putAccount(n,s)}async deleteAccount(n){this.touchAddress(n),await this.stateManager.deleteAccount(n)}touchAddress(n){const s=n.toString().slice(2);this.touchAccount(s)}touchAccount(n){if(this.preimages!==void 0){const s=gg(n);if(this.stateManager.getAppliedKey===void 0)throw $("touchAccount: stateManager.getAppliedKey can not be undefined if preimage storing is enabled");const c=this.stateManager.getAppliedKey(s);this.preimages.set(xe(c),s)}this.touched.has(n)||(this.touched.add(n),this.journalDiff[this.journalDiff.length-1][1][2].add(n))}async commit(){this.journalHeight--,this.journalDiff.push([this.journalHeight,[new Set,new Map,new Set]]),await this.stateManager.commit()}async checkpoint(){this.journalHeight++,this.journalDiff.push([this.journalHeight,[new Set,new Map,new Set]]),await this.stateManager.checkpoint()}async revert(){let n;for(let s=this.journalDiff.length-1;s>=0;s--){n=s;const[c,l]=this.journalDiff[s];if(c<this.journalHeight)break;const u=l[0],d=l[1],m=l[2];for(const p of u)this.journal.has(p)&&this.journal.delete(p);for(const[p,h]of d)if(this.journal.has(p)){const y=this.journal.get(p);for(const b of h)y.delete(b)}for(const p of m)p!==j3&&this.touched.delete(p)}this.journalDiff=this.journalDiff.slice(0,n+1),this.journalHeight--,await this.stateManager.revert()}cleanJournal(){this.journalHeight=0,this.journal=new Map,this.alwaysWarmJournal=new Map,this.touched=new Set,this.journalDiff=[[0,[new Set,new Map,new Set]]]}async cleanup(){if(this.common.gteHardfork(q.SpuriousDragon))for(const n of this.touched){const s=new Ea(_t(`0x${n}`)),c=await this.stateManager.getAccount(s);(c===void 0||c.isEmpty())&&(await this.deleteAccount(s),this.DEBUG&&this._debug(`Cleanup touched account address=${s} (>= SpuriousDragon)`))}this.cleanJournal(),delete this.accessList,delete this.preimages}addAlwaysWarmAddress(n,s=!1){const c=Ol(n);this.alwaysWarmJournal.has(c)||this.alwaysWarmJournal.set(c,new Set),s&&this.accessList!==void 0&&(this.accessList.has(c)||this.accessList.set(c,new Set))}addAlwaysWarmSlot(n,s,c=!1){const l=Ol(n);this.addAlwaysWarmAddress(l,c);const u=this.alwaysWarmJournal.get(l),d=Ol(s);u.add(d),c&&this.accessList!==void 0&&this.accessList.get(l).add(d)}isWarmedAddress(n){const s=kt(n);return this.journal.has(s)||this.alwaysWarmJournal.has(s)}addWarmedAddress(n){const s=kt(n);this.journal.has(s)||(this.journal.set(s,new Set),this.journalDiff[this.journalDiff.length-1][1][0].add(s)),this.accessList!==void 0&&(this.accessList.has(s)||this.accessList.set(s,new Set))}isWarmedStorage(n,s){const c=kt(n),l=this.journal.get(c);return l===void 0?this.alwaysWarmJournal.has(c)?this.alwaysWarmJournal.get(c).has(kt(s)):!1:l.has(kt(s))?!0:this.alwaysWarmJournal.has(c)?this.alwaysWarmJournal.get(c).has(kt(s)):!1}addWarmedStorage(n,s){const c=kt(n);let l=this.journal.get(c);l===void 0&&(this.addWarmedAddress(n),l=this.journal.get(c));const u=kt(s);if(!l.has(u)){l.add(u);const m=this.journalDiff[this.journalDiff.length-1][1][1];m.has(c)||m.set(c,new Set),m.get(c).add(u)}this.accessList!==void 0&&this.accessList.get(c).add(u)}}const v6={1:{maxRefundQuotient:2,basefeeGas:2,expGas:10,expByteGas:10,keccak256Gas:30,keccak256WordGas:6,sloadGas:50,sstoreSetGas:2e4,sstoreResetGas:5e3,sstoreRefundGas:15e3,jumpdestGas:1,logGas:375,logDataGas:8,logTopicGas:375,createGas:32e3,callGas:40,callStipendGas:2300,callValueTransferGas:9e3,callNewAccountGas:25e3,selfdestructRefundGas:24e3,memoryGas:3,quadCoefficientDivGas:512,createDataGas:200,copyGas:3,ecRecoverGas:3e3,sha256Gas:60,sha256WordGas:12,ripemd160Gas:600,ripemd160WordGas:120,identityGas:15,identityWordGas:3,stopGas:0,addGas:3,mulGas:5,subGas:3,divGas:5,sdivGas:5,modGas:5,smodGas:5,addmodGas:8,mulmodGas:8,signextendGas:5,ltGas:3,gtGas:3,sltGas:3,sgtGas:3,eqGas:3,iszeroGas:3,andGas:3,orGas:3,xorGas:3,notGas:3,byteGas:3,addressGas:2,balanceGas:20,originGas:2,callerGas:2,callvalueGas:2,calldataloadGas:3,calldatasizeGas:2,calldatacopyGas:3,codesizeGas:2,codecopyGas:3,gaspriceGas:2,extcodesizeGas:20,extcodecopyGas:20,blockhashGas:20,coinbaseGas:2,timestampGas:2,numberGas:2,difficultyGas:2,gaslimitGas:2,popGas:2,mloadGas:3,mstoreGas:3,mstore8Gas:3,sstoreGas:0,jumpGas:8,jumpiGas:10,pcGas:2,msizeGas:2,gasGas:2,pushGas:3,dupGas:3,swapGas:3,callcodeGas:40,returnGas:0,invalidGas:0,selfdestructGas:0,prevrandaoGas:0,stackLimit:1024},606:{delegatecallGas:40},608:{sloadGas:200,callGas:700,extcodesizeGas:700,extcodecopyGas:700,balanceGas:400,delegatecallGas:700,callcodeGas:700,selfdestructGas:5e3},607:{expByteGas:50,maxCodeSize:24576},609:{modexpGquaddivisorGas:20,bn254AddGas:500,bn254MulGas:4e4,bn254PairingGas:1e5,bn254PairingWordGas:8e4,revertGas:0,staticcallGas:700,returndatasizeGas:2,returndatacopyGas:3},1013:{netSstoreNoopGas:200,netSstoreInitGas:2e4,netSstoreCleanGas:5e3,netSstoreDirtyGas:200,netSstoreClearRefundGas:15e3,netSstoreResetRefundGas:4800,netSstoreResetClearRefundGas:19800,shlGas:3,shrGas:3,sarGas:3,extcodehashGas:400,create2Gas:32e3},1716:{netSstoreNoopGas:null,netSstoreInitGas:null,netSstoreCleanGas:null,netSstoreDirtyGas:null,netSstoreClearRefundGas:null,netSstoreResetRefundGas:null,netSstoreResetClearRefundGas:null},1679:{blake2RoundGas:1,bn254AddGas:150,bn254MulGas:6e3,bn254PairingGas:45e3,bn254PairingWordGas:34e3,sstoreSentryEIP2200Gas:2300,sstoreNoopEIP2200Gas:800,sstoreDirtyEIP2200Gas:800,sstoreInitEIP2200Gas:2e4,sstoreInitRefundEIP2200Gas:19200,sstoreCleanEIP2200Gas:5e3,sstoreCleanRefundEIP2200Gas:4200,sstoreClearRefundEIP2200Gas:15e3,balanceGas:700,extcodehashGas:700,chainidGas:2,selfbalanceGas:5,sloadGas:800},663:{dupnGas:3,swapnGas:3,exchangeGas:3},1153:{tstoreGas:100,tloadGas:100},1559:{elasticityMultiplier:2},2565:{modexpGquaddivisorGas:3},2537:{bls12381G1AddGas:375,bls12381G1MulGas:12e3,bls12381G2AddGas:600,bls12381G2MulGas:22500,bls12381PairingBaseGas:37700,bls12381PairingPerPairGas:32600,bls12381MapG1Gas:5500,bls12381MapG2Gas:23800},2929:{coldsloadGas:2100,coldaccountaccessGas:2600,warmstoragereadGas:100,sstoreCleanEIP2200Gas:2900,sstoreNoopEIP2200Gas:100,sstoreDirtyEIP2200Gas:100,sstoreInitRefundEIP2200Gas:19900,sstoreCleanRefundEIP2200Gas:4900,callGas:0,callcodeGas:0,delegatecallGas:0,staticcallGas:0,balanceGas:0,extcodesizeGas:0,extcodecopyGas:0,extcodehashGas:0,sloadGas:0,sstoreGas:0},2935:{historyStorageAddress:"0x0000F90827F1C53A10CB7A02335B175320002935",historyServeWindow:8192,systemAddress:"0xfffffffffffffffffffffffffffffffffffffffe"},3198:{basefeeGas:2},3529:{maxRefundQuotient:5,selfdestructRefundGas:0,sstoreClearRefundEIP2200Gas:4800},3855:{push0Gas:2},3860:{initCodeWordGas:2,maxInitCodeSize:49152},4200:{rjumpGas:2,rjumpiGas:4,rjumpvGas:4},4399:{prevrandaoGas:2},4750:{callfGas:5,retfGas:3},4844:{kzgPointEvaluationPrecompileGas:5e4,blobhashGas:3,blobCommitmentVersionKzg:1,fieldElementsPerBlob:4096},5656:{mcopyGas:3},6206:{jumpfGas:5},7069:{extcallGas:0,extdelegatecallGas:0,extstaticcallGas:0,returndataloadGas:3,minRetainedGas:5e3,minCalleeGas:2300},7480:{dataloadGas:4,dataloadnGas:3,datasizeGas:2,datacopyGas:3},7516:{blobbasefeeGas:2},7620:{eofcreateGas:32e3,returncontractGas:0},7939:{clzGas:5}},wt=(a,n,s)=>(a._debug!==void 0&&a._debug(`Run ${s} precompile data=${gd(a.data)} length=${a.data.length} gasLimit=${a.gasLimit} gasUsed=${n}`),a.gasLimit<n?(a._debug!==void 0&&a._debug(`${s} failed: OOG`),!1):!0),Vl=(a,n,s)=>a.data.length!==n?(a._debug!==void 0&&a._debug(`${s} failed: Invalid input length length=${a.data.length} (expected: ${n})`),!1):!0,Pl=(a,n,s)=>a.data.length%n!==0?(a._debug!==void 0&&a._debug(`${s} failed: Invalid input length length=${a.data.length} (expected: ${n}*k bytes)`),!1):!0,A6=BigInt("52435875175126190479447740508185965837690552500527637822603658699938581184513"),dp=ke(Fe(A6),32);async function S6(a){var b,E,_;const n=Tt("0a");if(((b=a.common.customCrypto)==null?void 0:b.kzg)===void 0)throw $("kzg not initialized");const s=a.common.param("kzgPointEvaluationPrecompileGas");if(!wt(a,s,n))return Xe(a.gasLimit);if(a.data.length!==192)return ze(new R(R.errorMessages.INVALID_INPUT_LENGTH),a.gasLimit);const c=Number(a.common.param("blobCommitmentVersionKzg")),l=a.common.param("fieldElementsPerBlob"),u=xe(a.data.subarray(0,32)),d=xe(a.data.subarray(32,64)),m=xe(a.data.subarray(64,96)),p=xe(a.data.subarray(96,144)),h=xe(a.data.subarray(144,192));if(dx(p,c)!==u)return a._debug!==void 0&&a._debug(`${n} failed: INVALID_COMMITMENT`),ze(new R(R.errorMessages.INVALID_COMMITMENT),a.gasLimit);a._debug!==void 0&&a._debug(`${n}: proof verification with commitment=${p} z=${d} y=${m} kzgProof=${h}`);try{if(((_=(E=a.common.customCrypto)==null?void 0:E.kzg)==null?void 0:_.verifyProof(p,d,m,h))===!1)return ze(new R(R.errorMessages.INVALID_PROOF),a.gasLimit)}catch(v){return v.message.includes("C_KZG_BADARGS")===!0?(a._debug!==void 0&&a._debug(`${n} failed: INVALID_INPUTS`),ze(new R(R.errorMessages.INVALID_INPUTS),a.gasLimit)):(a._debug!==void 0&&a._debug(`${n} failed: Unknown error - ${v.message}`),ze(new R(R.errorMessages.REVERT),a.gasLimit))}const y=ke(Fe(l),32);return a._debug!==void 0&&a._debug(`${n} return fieldElements=${xe(y)} modulus=${xe(dp)}`),{executionGasUsed:s,returnValue:an(y,dp)}}const ad=BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),qn=128,ga=256,T6=new Uint8Array(qn),O6=new Uint8Array(ga),C6=new Uint8Array(32),w6=an(new Uint8Array(31),_t("0x01")),N6=[[1,1e3],[2,949],[3,848],[4,797],[5,764],[6,750],[7,738],[8,728],[9,719],[10,712],[11,705],[12,698],[13,692],[14,687],[15,682],[16,677],[17,673],[18,669],[19,665],[20,661],[21,658],[22,654],[23,651],[24,648],[25,645],[26,642],[27,640],[28,637],[29,635],[30,632],[31,630],[32,627],[33,625],[34,623],[35,621],[36,619],[37,617],[38,615],[39,613],[40,611],[41,609],[42,608],[43,606],[44,604],[45,603],[46,601],[47,599],[48,598],[49,596],[50,595],[51,593],[52,592],[53,591],[54,589],[55,588],[56,586],[57,585],[58,584],[59,582],[60,581],[61,580],[62,579],[63,577],[64,576],[65,575],[66,574],[67,573],[68,572],[69,570],[70,569],[71,568],[72,567],[73,566],[74,565],[75,564],[76,563],[77,562],[78,561],[79,560],[80,559],[81,558],[82,557],[83,556],[84,555],[85,554],[86,553],[87,552],[88,551],[89,550],[90,549],[91,548],[92,547],[93,547],[94,546],[95,545],[96,544],[97,543],[98,542],[99,541],[100,540],[101,540],[102,539],[103,538],[104,537],[105,536],[106,536],[107,535],[108,534],[109,533],[110,532],[111,532],[112,531],[113,530],[114,529],[115,528],[116,528],[117,527],[118,526],[119,525],[120,525],[121,524],[122,523],[123,522],[124,522],[125,521],[126,520],[127,520],[128,519]],B6=[[1,1e3],[2,1e3],[3,923],[4,884],[5,855],[6,832],[7,812],[8,796],[9,782],[10,770],[11,759],[12,749],[13,740],[14,732],[15,724],[16,717],[17,711],[18,704],[19,699],[20,693],[21,688],[22,683],[23,679],[24,674],[25,670],[26,666],[27,663],[28,659],[29,655],[30,652],[31,649],[32,646],[33,643],[34,640],[35,637],[36,634],[37,632],[38,629],[39,627],[40,624],[41,622],[42,620],[43,618],[44,615],[45,613],[46,611],[47,609],[48,607],[49,606],[50,604],[51,602],[52,600],[53,598],[54,597],[55,595],[56,593],[57,592],[58,590],[59,589],[60,587],[61,586],[62,584],[63,583],[64,582],[65,580],[66,579],[67,578],[68,576],[69,575],[70,574],[71,573],[72,571],[73,570],[74,569],[75,568],[76,567],[77,566],[78,565],[79,563],[80,562],[81,561],[82,560],[83,559],[84,558],[85,557],[86,556],[87,555],[88,554],[89,553],[90,552],[91,552],[92,551],[93,550],[94,549],[95,548],[96,547],[97,546],[98,545],[99,545],[100,544],[101,543],[102,542],[103,541],[104,541],[105,540],[106,539],[107,538],[108,537],[109,537],[110,536],[111,535],[112,535],[113,534],[114,533],[115,532],[116,532],[117,531],[118,530],[119,530],[120,529],[121,528],[122,528],[123,527],[124,526],[125,526],[126,525],[127,524],[128,524]];/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const U6=BigInt(0),yl=BigInt(1),hp=BigInt(2),Os=BigInt(3);function R6(a){const n=[];for(;a>yl;a>>=yl)(a&yl)===U6?n.unshift(0):(a&Os)===Os?(n.unshift(-1),a+=yl):n.unshift(1);return n}function kf(a){if(!Array.isArray(a)||a.length===0)throw new Error("expected non-empty array")}function D6(a,n,s,c){const{Fr:l,Fp2:u,Fp12:d}=a,{twistType:m,ateLoopSize:p,xNegative:h,postPrecompute:y}=c;let b;if(m==="multiplicative")b=(ee,ce,de,ye,Ee,fe)=>d.mul014(ye,ee,u.mul(ce,Ee),u.mul(de,fe));else if(m==="divisive")b=(ee,ce,de,ye,Ee,fe)=>d.mul034(ye,u.mul(de,fe),u.mul(ce,Ee),ee);else throw new Error("bls: unknown twist type");const E=u.div(u.ONE,u.mul(u.ONE,hp));function _(ee,ce,de,ye){const Ee=u.sqr(de),fe=u.sqr(ye),oe=u.mulByB(u.mul(fe,Os)),k=u.mul(oe,Os),z=u.sub(u.sub(u.sqr(u.add(de,ye)),fe),Ee),w=u.sub(oe,Ee),H=u.mul(u.sqr(ce),Os),J=u.neg(z);return ee.push([w,H,J]),ce=u.mul(u.mul(u.mul(u.sub(Ee,k),ce),de),E),de=u.sub(u.sqr(u.mul(u.add(Ee,k),E)),u.mul(u.sqr(oe),Os)),ye=u.mul(Ee,z),{Rx:ce,Ry:de,Rz:ye}}function v(ee,ce,de,ye,Ee,fe){const oe=u.sub(de,u.mul(fe,ye)),k=u.sub(ce,u.mul(Ee,ye)),z=u.sub(u.mul(oe,Ee),u.mul(k,fe)),w=u.neg(oe),H=k;ee.push([z,w,H]);const J=u.sqr(k),se=u.mul(J,k),le=u.mul(J,ce),A=u.add(u.sub(se,u.mul(le,hp)),u.mul(u.sqr(oe),ye));return ce=u.mul(k,A),de=u.sub(u.mul(u.sub(le,A),oe),u.mul(se,de)),ye=u.mul(ye,se),{Rx:ce,Ry:de,Rz:ye}}const C=R6(p),B=Ff(ee=>{const ce=ee,{x:de,y:ye}=ce.toAffine(),Ee=de,fe=ye,oe=u.neg(ye);let k=Ee,z=fe,w=u.ONE;const H=[];for(const J of C){const se=[];({Rx:k,Ry:z,Rz:w}=_(se,k,z,w)),J&&({Rx:k,Ry:z,Rz:w}=v(se,k,z,w,Ee,J===-1?oe:fe)),H.push(se)}if(y){const J=H[H.length-1];y(k,z,w,Ee,fe,v.bind(null,J))}return H});function M(ee,ce=!1){let de=d.ONE;if(ee.length){const ye=ee[0][0].length;for(let Ee=0;Ee<ye;Ee++){de=d.sqr(de);for(const[fe,oe,k]of ee)for(const[z,w,H]of fe[Ee])de=b(z,w,H,de,oe,k)}}return h&&(de=d.conjugate(de)),ce?d.finalExponentiate(de):de}function W(ee,ce=!0){const de=[];Dl(n,ee.map(({g1:ye})=>ye)),Dl(s,ee.map(({g2:ye})=>ye));for(const{g1:ye,g2:Ee}of ee){if(ye.is0()||Ee.is0())throw new Error("pairing is not available for ZERO point");ye.assertValidity(),Ee.assertValidity();const fe=ye.toAffine();de.push([B(Ee),fe.x,fe.y])}return M(de,ce)}function K(ee,ce,de=!0){return W([{g1:ee,g2:ce}],de)}const ue={seed:od(l.ORDER)},pe=c.randomBytes||Ml;return{lengths:ue,Fr:l,Fp12:d,millerLoopBatch:M,pairing:K,pairingBatch:W,calcPairingPrecomputes:B,randomSecretKey:(ee=pe(ue.seed))=>(Pe(ee,ue.seed,"seed"),tg(ee,l.ORDER))}}function mp(a,n,s,c,l,u){const{Fr:d,Fp12:m,pairingBatch:p,randomSecretKey:h,lengths:y}=a;u||(u={fromBytes:ai,fromHex:ai,toBytes:ai,toHex:ai});function b(C){return C instanceof n?C:n.fromBytes(C)}function E(C){return C instanceof s?C:s.fromBytes(C)}function _(C){if(!(C instanceof s))throw new Error(`expected valid message hashed to ${c?"G1":"G2"} curve`);return C}const v=c?(C,B)=>({g1:B,g2:C}):(C,B)=>({g1:C,g2:B});return Object.freeze({lengths:{...y,secretKey:d.BYTES},keygen(C){const B=h(C),M=this.getPublicKey(B);return{secretKey:B,publicKey:M}},getPublicKey(C){let B;try{B=n.Fn.fromBytes(C)}catch(M){throw new Error("invalid private key: "+typeof C,{cause:M})}return n.BASE.multiply(B)},sign(C,B,M){if(M!=null)throw new Error("sign() expects 2 arguments");const W=n.Fn.fromBytes(B);return _(C).assertValidity(),C.multiply(W)},verify(C,B,M,W){if(W!=null)throw new Error("verify() expects 3 arguments");C=E(C),M=b(M);const K=M.negate(),ue=n.BASE,pe=_(B),Q=C;try{const ee=p([v(K,pe),v(ue,Q)]);return m.eql(ee,m.ONE)}catch{return!1}},verifyBatch(C,B){kf(B);const M=E(C),W=B.map(ee=>ee.message),K=B.map(ee=>b(ee.publicKey)),ue=new Map;for(let ee=0;ee<K.length;ee++){const ce=K[ee],de=W[ee];let ye=ue.get(de);ye===void 0&&(ye=[],ue.set(de,ye)),ye.push(ce)}const pe=[],Q=n.BASE;try{for(const[ee,ce]of ue){const de=ce.reduce((ye,Ee)=>ye.add(Ee));pe.push(v(de,ee))}return pe.push(v(Q.negate(),M)),m.eql(p(pe),m.ONE)}catch{return!1}},aggregatePublicKeys(C){kf(C),C=C.map(M=>b(M));const B=C.reduce((M,W)=>M.add(W),n.ZERO);return B.assertValidity(),B},aggregateSignatures(C){kf(C),C=C.map(M=>E(M));const B=C.reduce((M,W)=>M.add(W),s.ZERO);return B.assertValidity(),B},hash(C,B){return Pe(C),l(C,B?{DST:B}:void 0)},Signature:u})}function Rg(a,n,s,c){const{Fp:l,Fr:u,Fp2:d,Fp6:m,Fp12:p}=a,h={Point:n},y={Point:s},b=D6(a,n,s,c),{millerLoopBatch:E,pairing:_,pairingBatch:v,calcPairingPrecomputes:C,randomSecretKey:B,lengths:M}=b;return h.Point.BASE.precompute(4),Object.freeze({lengths:M,millerLoopBatch:E,pairing:_,pairingBatch:v,G1:h,G2:y,fields:{Fr:u,Fp:l,Fp2:d,Fp6:m,Fp12:p},params:{ateLoopSize:c.ateLoopSize,twistType:c.twistType},utils:{randomSecretKey:B,calcPairingPrecomputes:C}})}function L6(a,n,s,c,l){const u=Rg(a,n,s,c),d=Z1(n,l.mapToG1||ai,{...l.hasherOpts,...l.hasherOptsG1}),m=Z1(s,l.mapToG2||ai,{...l.hasherOpts,...l.hasherOptsG2});return Object.freeze({...u,G1:d,G2:m})}function G6(a,n,s,c,l,u){const d=L6(a,n,s,c,l),m={...d,Fr:d.fields.Fr,Fp12:d.fields.Fp12,calcPairingPrecomputes:d.utils.calcPairingPrecomputes,randomSecretKey:d.utils.randomSecretKey},p=mp(m,n,s,!1,d.G2.hashToCurve,u==null?void 0:u.LongSignature),h=mp(m,s,n,!0,d.G1.hashToCurve,u==null?void 0:u.ShortSignature);return Object.freeze({...d,longSignatures:p,shortSignatures:h})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pp=BigInt(0),Cs=BigInt(1),qt=BigInt(2),gp=BigInt(3);function vd(a,n,s,c,l=1,u){const d=BigInt(u===void 0?c:u),m=s**BigInt(c),p=[];for(let h=0;h<l;h++){const y=BigInt(h+1),b=[];for(let E=0,_=Cs;E<c;E++){const v=(y*_-y)/d%m;b.push(a.pow(n,v)),_*=s}p.push(b)}return p}function Dg(a,n,s){const c=n.pow(s,(a.ORDER-Cs)/gp),l=n.pow(s,(a.ORDER-Cs)/qt);function u(E,_){const v=n.mul(n.frobeniusMap(E,1),c),C=n.mul(n.frobeniusMap(_,1),l);return[v,C]}const d=n.pow(s,(a.ORDER**qt-Cs)/gp),m=n.pow(s,(a.ORDER**qt-Cs)/qt);if(!n.eql(m,n.neg(n.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function p(E,_){return[n.mul(E,d),n.neg(_)]}const h=E=>(_,v)=>{const C=v.toAffine(),B=E(C.x,C.y);return _.fromAffine({x:B[0],y:B[1]})},y=h(u),b=h(p);return{psi:u,psi2:p,G2psi:y,G2psi2:b,PSI_X:c,PSI_Y:l,PSI2_X:d,PSI2_Y:m}}const bp=(a,n)=>{if(n.length!==2)throw new Error("invalid tuple");const s=n.map(c=>a.create(c));return{c0:s[0],c1:s[1]}};class I6{constructor(n,s={}){ie(this,"ORDER");ie(this,"BITS");ie(this,"BYTES");ie(this,"isLE");ie(this,"ZERO");ie(this,"ONE");ie(this,"Fp");ie(this,"NONRESIDUE");ie(this,"mulByB");ie(this,"Fp_NONRESIDUE");ie(this,"Fp_div2");ie(this,"FROBENIUS_COEFFICIENTS");const c=n.ORDER,l=c*c;this.Fp=n,this.ORDER=l,this.BITS=Hc(l),this.BYTES=Math.ceil(Hc(l)/8),this.isLE=n.isLE,this.ZERO={c0:n.ZERO,c1:n.ZERO},this.ONE={c0:n.ONE,c1:n.ZERO},this.Fp_NONRESIDUE=n.create(s.NONRESIDUE||BigInt(-1)),this.Fp_div2=n.div(n.ONE,qt),this.NONRESIDUE=bp(n,s.FP2_NONRESIDUE),this.FROBENIUS_COEFFICIENTS=vd(n,this.Fp_NONRESIDUE,n.ORDER,2)[0],this.mulByB=s.Fp2mulByB,Object.seal(this)}fromBigTuple(n){return bp(this.Fp,n)}create(n){return n}isValid({c0:n,c1:s}){function c(l,u){return typeof l=="bigint"&&pp<=l&&l<u}return c(n,this.ORDER)&&c(s,this.ORDER)}is0({c0:n,c1:s}){return this.Fp.is0(n)&&this.Fp.is0(s)}isValidNot0(n){return!this.is0(n)&&this.isValid(n)}eql({c0:n,c1:s},{c0:c,c1:l}){return this.Fp.eql(n,c)&&this.Fp.eql(s,l)}neg({c0:n,c1:s}){return{c0:this.Fp.neg(n),c1:this.Fp.neg(s)}}pow(n,s){return zl(this,n,s)}invertBatch(n){return Li(this,n)}add(n,s){const{c0:c,c1:l}=n,{c0:u,c1:d}=s;return{c0:this.Fp.add(c,u),c1:this.Fp.add(l,d)}}sub({c0:n,c1:s},{c0:c,c1:l}){return{c0:this.Fp.sub(n,c),c1:this.Fp.sub(s,l)}}mul({c0:n,c1:s},c){const{Fp:l}=this;if(typeof c=="bigint")return{c0:l.mul(n,c),c1:l.mul(s,c)};const{c0:u,c1:d}=c;let m=l.mul(n,u),p=l.mul(s,d);const h=l.sub(m,p),y=l.sub(l.mul(l.add(n,s),l.add(u,d)),l.add(m,p));return{c0:h,c1:y}}sqr({c0:n,c1:s}){const{Fp:c}=this,l=c.add(n,s),u=c.sub(n,s),d=c.add(n,n);return{c0:c.mul(l,u),c1:c.mul(d,s)}}addN(n,s){return this.add(n,s)}subN(n,s){return this.sub(n,s)}mulN(n,s){return this.mul(n,s)}sqrN(n){return this.sqr(n)}div(n,s){const{Fp:c}=this;return this.mul(n,typeof s=="bigint"?c.inv(c.create(s)):this.inv(s))}inv({c0:n,c1:s}){const{Fp:c}=this,l=c.inv(c.create(n*n+s*s));return{c0:c.mul(l,c.create(n)),c1:c.mul(l,c.create(-s))}}sqrt(n){const{Fp:s}=this,c=this,{c0:l,c1:u}=n;if(s.is0(u))return Ul(s,l)===1?c.create({c0:s.sqrt(l),c1:s.ZERO}):c.create({c0:s.ZERO,c1:s.sqrt(s.div(l,this.Fp_NONRESIDUE))});const d=s.sqrt(s.sub(s.sqr(l),s.mul(s.sqr(u),this.Fp_NONRESIDUE)));let m=s.mul(s.add(d,l),this.Fp_div2);Ul(s,m)===-1&&(m=s.sub(m,d));const h=s.sqrt(m),y=c.create({c0:h,c1:s.div(s.mul(u,this.Fp_div2),h)});if(!c.eql(c.sqr(y),n))throw new Error("Cannot find square root");const b=y,E=c.neg(b),{re:_,im:v}=c.reim(b),{re:C,im:B}=c.reim(E);return v>B||v===B&&_>C?b:E}isOdd(n){const{re:s,im:c}=this.reim(n),l=s%qt,u=s===pp,d=c%qt;return BigInt(l||u&&d)==Cs}fromBytes(n){const{Fp:s}=this;if(n.length!==this.BYTES)throw new Error("fromBytes invalid length="+n.length);return{c0:s.fromBytes(n.subarray(0,s.BYTES)),c1:s.fromBytes(n.subarray(s.BYTES))}}toBytes({c0:n,c1:s}){return lt(this.Fp.toBytes(n),this.Fp.toBytes(s))}cmov({c0:n,c1:s},{c0:c,c1:l},u){return{c0:this.Fp.cmov(n,c,u),c1:this.Fp.cmov(s,l,u)}}reim({c0:n,c1:s}){return{re:n,im:s}}Fp4Square(n,s){const c=this,l=c.sqr(n),u=c.sqr(s);return{first:c.add(c.mulByNonresidue(u),l),second:c.sub(c.sub(c.sqr(c.add(n,s)),l),u)}}mulByNonresidue({c0:n,c1:s}){return this.mul({c0:n,c1:s},this.NONRESIDUE)}frobeniusMap({c0:n,c1:s},c){return{c0:n,c1:this.Fp.mul(s,this.FROBENIUS_COEFFICIENTS[c%2])}}}class M6{constructor(n){ie(this,"ORDER");ie(this,"BITS");ie(this,"BYTES");ie(this,"isLE");ie(this,"ZERO");ie(this,"ONE");ie(this,"Fp2");ie(this,"FROBENIUS_COEFFICIENTS_1");ie(this,"FROBENIUS_COEFFICIENTS_2");this.Fp2=n,this.ORDER=n.ORDER,this.BITS=3*n.BITS,this.BYTES=3*n.BYTES,this.isLE=n.isLE,this.ZERO={c0:n.ZERO,c1:n.ZERO,c2:n.ZERO},this.ONE={c0:n.ONE,c1:n.ZERO,c2:n.ZERO};const{Fp:s}=n,c=vd(n,n.NONRESIDUE,s.ORDER,6,2,3);this.FROBENIUS_COEFFICIENTS_1=c[0],this.FROBENIUS_COEFFICIENTS_2=c[1],Object.seal(this)}add({c0:n,c1:s,c2:c},{c0:l,c1:u,c2:d}){const{Fp2:m}=this;return{c0:m.add(n,l),c1:m.add(s,u),c2:m.add(c,d)}}sub({c0:n,c1:s,c2:c},{c0:l,c1:u,c2:d}){const{Fp2:m}=this;return{c0:m.sub(n,l),c1:m.sub(s,u),c2:m.sub(c,d)}}mul({c0:n,c1:s,c2:c},l){const{Fp2:u}=this;if(typeof l=="bigint")return{c0:u.mul(n,l),c1:u.mul(s,l),c2:u.mul(c,l)};const{c0:d,c1:m,c2:p}=l,h=u.mul(n,d),y=u.mul(s,m),b=u.mul(c,p);return{c0:u.add(h,u.mulByNonresidue(u.sub(u.mul(u.add(s,c),u.add(m,p)),u.add(y,b)))),c1:u.add(u.sub(u.mul(u.add(n,s),u.add(d,m)),u.add(h,y)),u.mulByNonresidue(b)),c2:u.sub(u.add(y,u.mul(u.add(n,c),u.add(d,p))),u.add(h,b))}}sqr({c0:n,c1:s,c2:c}){const{Fp2:l}=this;let u=l.sqr(n),d=l.mul(l.mul(n,s),qt),m=l.mul(l.mul(s,c),qt),p=l.sqr(c);return{c0:l.add(l.mulByNonresidue(m),u),c1:l.add(l.mulByNonresidue(p),d),c2:l.sub(l.sub(l.add(l.add(d,l.sqr(l.add(l.sub(n,s),c))),m),u),p)}}addN(n,s){return this.add(n,s)}subN(n,s){return this.sub(n,s)}mulN(n,s){return this.mul(n,s)}sqrN(n){return this.sqr(n)}create(n){return n}isValid({c0:n,c1:s,c2:c}){const{Fp2:l}=this;return l.isValid(n)&&l.isValid(s)&&l.isValid(c)}is0({c0:n,c1:s,c2:c}){const{Fp2:l}=this;return l.is0(n)&&l.is0(s)&&l.is0(c)}isValidNot0(n){return!this.is0(n)&&this.isValid(n)}neg({c0:n,c1:s,c2:c}){const{Fp2:l}=this;return{c0:l.neg(n),c1:l.neg(s),c2:l.neg(c)}}eql({c0:n,c1:s,c2:c},{c0:l,c1:u,c2:d}){const{Fp2:m}=this;return m.eql(n,l)&&m.eql(s,u)&&m.eql(c,d)}sqrt(n){return ai()}div(n,s){const{Fp2:c}=this,{Fp:l}=c;return this.mul(n,typeof s=="bigint"?l.inv(l.create(s)):this.inv(s))}pow(n,s){return zl(this,n,s)}invertBatch(n){return Li(this,n)}inv({c0:n,c1:s,c2:c}){const{Fp2:l}=this;let u=l.sub(l.sqr(n),l.mulByNonresidue(l.mul(c,s))),d=l.sub(l.mulByNonresidue(l.sqr(c)),l.mul(n,s)),m=l.sub(l.sqr(s),l.mul(n,c)),p=l.inv(l.add(l.mulByNonresidue(l.add(l.mul(c,d),l.mul(s,m))),l.mul(n,u)));return{c0:l.mul(p,u),c1:l.mul(p,d),c2:l.mul(p,m)}}fromBytes(n){const{Fp2:s}=this;if(n.length!==this.BYTES)throw new Error("fromBytes invalid length="+n.length);const c=s.BYTES;return{c0:s.fromBytes(n.subarray(0,c)),c1:s.fromBytes(n.subarray(c,c*2)),c2:s.fromBytes(n.subarray(2*c))}}toBytes({c0:n,c1:s,c2:c}){const{Fp2:l}=this;return lt(l.toBytes(n),l.toBytes(s),l.toBytes(c))}cmov({c0:n,c1:s,c2:c},{c0:l,c1:u,c2:d},m){const{Fp2:p}=this;return{c0:p.cmov(n,l,m),c1:p.cmov(s,u,m),c2:p.cmov(c,d,m)}}fromBigSix(n){const{Fp2:s}=this;if(!Array.isArray(n)||n.length!==6)throw new Error("invalid Fp6 usage");return{c0:s.fromBigTuple(n.slice(0,2)),c1:s.fromBigTuple(n.slice(2,4)),c2:s.fromBigTuple(n.slice(4,6))}}frobeniusMap({c0:n,c1:s,c2:c},l){const{Fp2:u}=this;return{c0:u.frobeniusMap(n,l),c1:u.mul(u.frobeniusMap(s,l),this.FROBENIUS_COEFFICIENTS_1[l%6]),c2:u.mul(u.frobeniusMap(c,l),this.FROBENIUS_COEFFICIENTS_2[l%6])}}mulByFp2({c0:n,c1:s,c2:c},l){const{Fp2:u}=this;return{c0:u.mul(n,l),c1:u.mul(s,l),c2:u.mul(c,l)}}mulByNonresidue({c0:n,c1:s,c2:c}){const{Fp2:l}=this;return{c0:l.mulByNonresidue(c),c1:n,c2:s}}mul1({c0:n,c1:s,c2:c},l){const{Fp2:u}=this;return{c0:u.mulByNonresidue(u.mul(c,l)),c1:u.mul(n,l),c2:u.mul(s,l)}}mul01({c0:n,c1:s,c2:c},l,u){const{Fp2:d}=this;let m=d.mul(n,l),p=d.mul(s,u);return{c0:d.add(d.mulByNonresidue(d.sub(d.mul(d.add(s,c),u),p)),m),c1:d.sub(d.sub(d.mul(d.add(l,u),d.add(n,s)),m),p),c2:d.add(d.sub(d.mul(d.add(n,c),l),m),p)}}}class H6{constructor(n,s){ie(this,"ORDER");ie(this,"BITS");ie(this,"BYTES");ie(this,"isLE");ie(this,"ZERO");ie(this,"ONE");ie(this,"Fp6");ie(this,"FROBENIUS_COEFFICIENTS");ie(this,"X_LEN");ie(this,"finalExponentiate");const{Fp2:c}=n,{Fp:l}=c;this.Fp6=n,this.ORDER=c.ORDER,this.BITS=2*n.BITS,this.BYTES=2*n.BYTES,this.isLE=n.isLE,this.ZERO={c0:n.ZERO,c1:n.ZERO},this.ONE={c0:n.ONE,c1:n.ZERO},this.FROBENIUS_COEFFICIENTS=vd(c,c.NONRESIDUE,l.ORDER,12,1,6)[0],this.X_LEN=s.X_LEN,this.finalExponentiate=s.Fp12finalExponentiate}create(n){return n}isValid({c0:n,c1:s}){const{Fp6:c}=this;return c.isValid(n)&&c.isValid(s)}is0({c0:n,c1:s}){const{Fp6:c}=this;return c.is0(n)&&c.is0(s)}isValidNot0(n){return!this.is0(n)&&this.isValid(n)}neg({c0:n,c1:s}){const{Fp6:c}=this;return{c0:c.neg(n),c1:c.neg(s)}}eql({c0:n,c1:s},{c0:c,c1:l}){const{Fp6:u}=this;return u.eql(n,c)&&u.eql(s,l)}sqrt(n){ai()}inv({c0:n,c1:s}){const{Fp6:c}=this;let l=c.inv(c.sub(c.sqr(n),c.mulByNonresidue(c.sqr(s))));return{c0:c.mul(n,l),c1:c.neg(c.mul(s,l))}}div(n,s){const{Fp6:c}=this,{Fp2:l}=c,{Fp:u}=l;return this.mul(n,typeof s=="bigint"?u.inv(u.create(s)):this.inv(s))}pow(n,s){return zl(this,n,s)}invertBatch(n){return Li(this,n)}add({c0:n,c1:s},{c0:c,c1:l}){const{Fp6:u}=this;return{c0:u.add(n,c),c1:u.add(s,l)}}sub({c0:n,c1:s},{c0:c,c1:l}){const{Fp6:u}=this;return{c0:u.sub(n,c),c1:u.sub(s,l)}}mul({c0:n,c1:s},c){const{Fp6:l}=this;if(typeof c=="bigint")return{c0:l.mul(n,c),c1:l.mul(s,c)};let{c0:u,c1:d}=c,m=l.mul(n,u),p=l.mul(s,d);return{c0:l.add(m,l.mulByNonresidue(p)),c1:l.sub(l.mul(l.add(n,s),l.add(u,d)),l.add(m,p))}}sqr({c0:n,c1:s}){const{Fp6:c}=this;let l=c.mul(n,s);return{c0:c.sub(c.sub(c.mul(c.add(c.mulByNonresidue(s),n),c.add(n,s)),l),c.mulByNonresidue(l)),c1:c.add(l,l)}}addN(n,s){return this.add(n,s)}subN(n,s){return this.sub(n,s)}mulN(n,s){return this.mul(n,s)}sqrN(n){return this.sqr(n)}fromBytes(n){const{Fp6:s}=this;if(n.length!==this.BYTES)throw new Error("fromBytes invalid length="+n.length);return{c0:s.fromBytes(n.subarray(0,s.BYTES)),c1:s.fromBytes(n.subarray(s.BYTES))}}toBytes({c0:n,c1:s}){const{Fp6:c}=this;return lt(c.toBytes(n),c.toBytes(s))}cmov({c0:n,c1:s},{c0:c,c1:l},u){const{Fp6:d}=this;return{c0:d.cmov(n,c,u),c1:d.cmov(s,l,u)}}fromBigTwelve(n){const{Fp6:s}=this;return{c0:s.fromBigSix(n.slice(0,6)),c1:s.fromBigSix(n.slice(6,12))}}frobeniusMap(n,s){const{Fp6:c}=this,{Fp2:l}=c,{c0:u,c1:d,c2:m}=c.frobeniusMap(n.c1,s),p=this.FROBENIUS_COEFFICIENTS[s%12];return{c0:c.frobeniusMap(n.c0,s),c1:c.create({c0:l.mul(u,p),c1:l.mul(d,p),c2:l.mul(m,p)})}}mulByFp2({c0:n,c1:s},c){const{Fp6:l}=this;return{c0:l.mulByFp2(n,c),c1:l.mulByFp2(s,c)}}conjugate({c0:n,c1:s}){return{c0:n,c1:this.Fp6.neg(s)}}mul014({c0:n,c1:s},c,l,u){const{Fp6:d}=this,{Fp2:m}=d;let p=d.mul01(n,c,l),h=d.mul1(s,u);return{c0:d.add(d.mulByNonresidue(h),p),c1:d.sub(d.sub(d.mul01(d.add(s,n),c,m.add(l,u)),p),h)}}mul034({c0:n,c1:s},c,l,u){const{Fp6:d}=this,{Fp2:m}=d,p=d.create({c0:m.mul(n.c0,c),c1:m.mul(n.c1,c),c2:m.mul(n.c2,c)}),h=d.mul01(s,l,u),y=d.mul01(d.add(n,s),m.add(c,l),u);return{c0:d.add(d.mulByNonresidue(h),p),c1:d.sub(y,d.add(p,h))}}_cyclotomicSquare({c0:n,c1:s}){const{Fp6:c}=this,{Fp2:l}=c,{c0:u,c1:d,c2:m}=n,{c0:p,c1:h,c2:y}=s,{first:b,second:E}=l.Fp4Square(u,h),{first:_,second:v}=l.Fp4Square(p,m),{first:C,second:B}=l.Fp4Square(d,y),M=l.mulByNonresidue(B);return{c0:c.create({c0:l.add(l.mul(l.sub(b,u),qt),b),c1:l.add(l.mul(l.sub(_,d),qt),_),c2:l.add(l.mul(l.sub(C,m),qt),C)}),c1:c.create({c0:l.add(l.mul(l.add(M,p),qt),M),c1:l.add(l.mul(l.add(E,h),qt),E),c2:l.add(l.mul(l.add(v,y),qt),v)})}}_cyclotomicExp(n,s){let c=this.ONE;for(let l=this.X_LEN-1;l>=0;l--)c=this._cyclotomicSquare(c),Ky(s,l)&&(c=this.mul(c,n));return c}}function Lg(a){const n=Gi(a.ORDER),s=new I6(n,a),c=new M6(s),l=new H6(c,a);return{Fp:n,Fp2:s,Fp6:c,Fp12:l}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zt=BigInt(0),Gl=BigInt(1),wn=BigInt(2),ql=BigInt(3),zc=BigInt(4),ii=BigInt("0xd201000000010000"),k6=Hc(ii),Ls={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:zt,b:zc,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},Ad=Gi(Ls.n,{modFromBytes:!0}),{Fp:Ae,Fp2:Ue,Fp6:z6,Fp12:He}=Lg({ORDER:Ls.p,X_LEN:k6,FP2_NONRESIDUE:[Gl,Gl],Fp2mulByB:({c0:a,c1:n})=>{const s=Ae.mul(a,zc),c=Ae.mul(n,zc);return{c0:Ae.sub(s,c),c1:Ae.add(s,c)}},Fp12finalExponentiate:a=>{const n=ii,s=He.div(He.frobeniusMap(a,6),a),c=He.mul(He.frobeniusMap(s,2),s),l=He.conjugate(He._cyclotomicExp(c,n)),u=He.mul(He.conjugate(He._cyclotomicSquare(c)),l),d=He.conjugate(He._cyclotomicExp(u,n)),m=He.conjugate(He._cyclotomicExp(d,n)),p=He.mul(He.conjugate(He._cyclotomicExp(m,n)),He._cyclotomicSquare(l)),h=He.conjugate(He._cyclotomicExp(p,n)),y=He.frobeniusMap(He.mul(l,m),2),b=He.frobeniusMap(He.mul(d,c),3),E=He.frobeniusMap(He.mul(p,He.conjugate(c)),1),_=He.mul(He.mul(h,He.conjugate(u)),c);return He.mul(He.mul(He.mul(y,b),E),_)}}),{G2psi:yp,G2psi2:j6}=Dg(Ae,Ue,Ue.div(Ue.ONE,Ue.NONRESIDUE)),zf=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Ae.ORDER,m:2,k:128,expand:"xmd",hash:Us}),Sd={p:Ue.ORDER,n:Ls.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:Ue.ZERO,b:Ue.fromBigTuple([zc,zc]),Gx:Ue.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Ue.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},Yl=Vc(Ae.toBytes(zt),{infinity:!0,compressed:!0});function Zl(a){a=Yp(a);const n=a[0]&224,s=!!(n>>7&1),c=!!(n>>6&1),l=!!(n>>5&1);return a[0]&=31,{compressed:s,infinity:c,sort:l,value:a}}function Vc(a,n){if(a[0]&224)throw new Error("setMask: non-empty mask");return n.compressed&&(a[0]|=128),n.infinity&&(a[0]|=64),n.sort&&(a[0]|=32),a}function V6(a,n,s){const{BYTES:c,ORDER:l}=Ae,u=n.is0(),{x:d,y:m}=n.toAffine();if(s){if(u)return Yl.slice();const p=!!(m*wn/l);return Vc(Gt(d,c),{compressed:!0,sort:p})}else return u?lt(Uint8Array.of(64),new Uint8Array(2*c-1)):lt(Gt(d,c),Gt(m,c))}function jf(a){a.assertValidity();const{BYTES:n,ORDER:s}=Ae,{x:c,y:l}=a.toAffine();if(a.is0())return Yl.slice();const u=!!(l*wn/s);return Vc(Gt(c,n),{compressed:!0,sort:u})}function P6(a){const{compressed:n,infinity:s,sort:c,value:l}=Zl(a),{BYTES:u,ORDER:d}=Ae;if(l.length===48&&n){const m=Cn(l),p=Ae.create(m&Rs(Ae.BITS));if(s){if(p!==zt)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:zt,y:zt}}const h=Ae.add(Ae.pow(p,ql),Ae.create(Ls.b));let y=Ae.sqrt(h);if(!y)throw new Error("invalid G1 point: compressed point");return y*wn/d!==BigInt(c)&&(y=Ae.neg(y)),{x:Ae.create(p),y:Ae.create(y)}}else if(l.length===96&&!n){const m=Cn(l.subarray(0,u)),p=Cn(l.subarray(u));if(s){if(m!==zt||p!==zt)throw new Error("G1: non-empty point at infinity");return St.G1.Point.ZERO.toAffine()}return{x:Ae.create(m),y:Ae.create(p)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function xp(a){const{infinity:n,sort:s,value:c}=Zl(Pe(a,48,"signature")),l=Ae.ORDER,u=St.G1.Point,d=Cn(c);if(n)return u.ZERO;const m=Ae.create(d&Rs(Ae.BITS)),p=Ae.add(Ae.pow(m,ql),Ae.create(Ls.b));let h=Ae.sqrt(p);if(!h)throw new Error("invalid G1 point: compressed");const y=BigInt(s);h*wn/l!==y&&(h=Ae.neg(h));const b=u.fromAffine({x:m,y:h});return b.assertValidity(),b}function q6(a,n,s){const{BYTES:c,ORDER:l}=Ae,u=n.is0(),{x:d,y:m}=n.toAffine();if(s){if(u)return lt(Yl,Gt(zt,c));const p=!!(m.c1===zt?m.c0*wn/l:m.c1*wn/l);return lt(Vc(Gt(d.c1,c),{compressed:!0,sort:p}),Gt(d.c0,c))}else{if(u)return lt(Uint8Array.of(64),new Uint8Array(4*c-1));const{re:p,im:h}=Ue.reim(d),{re:y,im:b}=Ue.reim(m);return lt(Gt(h,c),Gt(p,c),Gt(b,c),Gt(y,c))}}function Vf(a){a.assertValidity();const{BYTES:n}=Ae;if(a.is0())return lt(Yl,Gt(zt,n));const{x:s,y:c}=a.toAffine(),{re:l,im:u}=Ue.reim(s),{re:d,im:m}=Ue.reim(c),h=!!((m>zt?m*wn:d*wn)/Ae.ORDER&Gl),y=l;return lt(Vc(Gt(u,n),{sort:h,compressed:!0}),Gt(y,n))}function Y6(a){const{BYTES:n,ORDER:s}=Ae,{compressed:c,infinity:l,sort:u,value:d}=Zl(a);if(!c&&!l&&u||!c&&l&&u||u&&l&&c)throw new Error("invalid encoding flag: "+(a[0]&224));const m=(p,h,y)=>Cn(p.slice(h,y));if(d.length===96&&c){if(l){if(d.reduce((v,C)=>v!==0?C+1:C,0)>0)throw new Error("invalid G2 point: compressed");return{x:Ue.ZERO,y:Ue.ZERO}}const p=m(d,0,n),h=m(d,n,2*n),y=Ue.create({c0:Ae.create(h),c1:Ae.create(p)}),b=Ue.add(Ue.pow(y,ql),Sd.b);let E=Ue.sqrt(b);const _=E.c1===zt?E.c0*wn/s:E.c1*wn/s?Gl:zt;return E=u&&_>0?E:Ue.neg(E),{x:y,y:E}}else if(d.length===192&&!c){if(l){if(d.reduce((E,_)=>E!==0?_+1:_,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:Ue.ZERO,y:Ue.ZERO}}const p=m(d,0*n,1*n),h=m(d,1*n,2*n),y=m(d,2*n,3*n),b=m(d,3*n,4*n);return{x:Ue.fromBigTuple([h,p]),y:Ue.fromBigTuple([b,y])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function Ep(a){const{ORDER:n}=Ae,{infinity:s,sort:c,value:l}=Zl(Pe(a)),u=St.G2.Point,d=l.length/2;if(d!==48&&d!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const m=Cn(l.slice(0,d)),p=Cn(l.slice(d));if(s)return u.ZERO;const h=Ae.create(m&Rs(Ae.BITS)),y=Ae.create(p),b=Ue.create({c0:y,c1:h}),E=Ue.add(Ue.pow(b,ql),Sd.b);let _=Ue.sqrt(E);if(!_)throw new Error("Failed to find a square root");const{re:v,im:C}=Ue.reim(_),B=BigInt(c),M=C>zt&&C*wn/n!==B,W=C===zt&&v*wn/n!==B;(M||W)&&(_=Ue.neg(_));const K=u.fromAffine({x:b,y:_});return K.assertValidity(),K}const Z6={ShortSignature:{fromBytes(a){return xp(Pe(a))},fromHex(a){return xp(ci(a))},toBytes(a){return jf(a)},toRawBytes(a){return jf(a)},toHex(a){return Di(jf(a))}},LongSignature:{fromBytes(a){return Ep(Pe(a))},fromHex(a){return Ep(ci(a))},toBytes(a){return Vf(a)},toRawBytes(a){return Vf(a)},toHex(a){return Di(Vf(a))}}},F6={Fp:Ae,Fp2:Ue,Fp6:z6,Fp12:He,Fr:Ad},X6=Ds(Ls,{allowInfinityPoint:!0,Fn:Ad,fromBytes:P6,toBytes:V6,isTorsionFree:(a,n)=>{const s=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),c=new a(Ae.mul(n.X,s),n.Y,n.Z);return n.multiplyUnsafe(ii).negate().multiplyUnsafe(ii).equals(c)},clearCofactor:(a,n)=>n.multiplyUnsafe(ii).add(n)}),K6=Ds(Sd,{Fp:Ue,allowInfinityPoint:!0,Fn:Ad,fromBytes:Y6,toBytes:q6,isTorsionFree:(a,n)=>n.multiplyUnsafe(ii).negate().equals(yp(a,n)),clearCofactor:(a,n)=>{const s=ii;let c=n.multiplyUnsafe(s).negate(),l=yp(a,n),u=n.double();return u=j6(a,u),u=u.subtract(l),l=c.add(l),l=l.multiplyUnsafe(s).negate(),u=u.add(l),u=u.subtract(c),u.subtract(n)}}),Q6={mapToG1:nE,mapToG2:aE,hasherOpts:zf,hasherOptsG1:{...zf,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},hasherOptsG2:{...zf}},$6={ateLoopSize:ii,xNegative:!0,twistType:"multiplicative",randomBytes:Ml},St=G6(F6,X6,K6,$6,Q6,Z6),J6=sg(Ue,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(a=>a.map(n=>Ue.fromBigTuple(n.map(BigInt))))),W6=sg(Ae,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(a=>a.map(n=>BigInt(n)))),eE=ug(Ae,{A:Ae.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Ae.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Ae.create(BigInt(11))}),tE=ug(Ue,{A:Ue.create({c0:Ae.create(zt),c1:Ae.create(BigInt(240))}),B:Ue.create({c0:Ae.create(BigInt(1012)),c1:Ae.create(BigInt(1012))}),Z:Ue.create({c0:Ae.create(BigInt(-2)),c1:Ae.create(BigInt(-1))})});function nE(a){const{x:n,y:s}=eE(Ae.create(a[0]));return W6(n,s)}function aE(a){const{x:n,y:s}=tE(Ue.fromBigTuple(a));return J6(n,s)}const Cl=St.G1.Point.ZERO,wl=St.G2.Point.ZERO;function id(a,n){if(ve(a)>=ad)throw new R(R.errorMessages.BLS_12_381_FP_NOT_IN_FIELD);if(ve(n)>=ad)throw new R(R.errorMessages.BLS_12_381_FP_NOT_IN_FIELD);const s=an(a.subarray(16),n.subarray(16));return St.fields.Fp2.fromBytes(s)}function xl(a,n=!0){if(dt(a,T6)===!0)return Cl;const s=ve(a.subarray(16,qn/2)),c=ve(a.subarray(80,qn)),l=St.G1.Point.fromAffine({x:s,y:c});try{l.assertValidity()}catch(u){if(n||u.message!=="bad point: not in prime-order subgroup")throw new R(R.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE)}return l}function Pf(a){const n=ke(Fe(a.x),64),s=ke(Fe(a.y),64);return an(n,s)}function El(a,n=!0){if(dt(a,O6)===!0)return wl;const s=a.subarray(0,64),c=a.subarray(64,ga/2),l=a.subarray(128,192),u=a.subarray(192,ga),d=id(s,c),m=id(l,u),p=St.G2.Point.fromAffine({x:d,y:m});try{p.assertValidity()}catch(h){if(n||h.message!=="bad point: not in prime-order subgroup")throw new R(R.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE)}return p}function qf(a){const n=ke(Fe(a.x.c0),64),s=ke(Fe(a.x.c1),64),c=ke(Fe(a.y.c0),64),l=ke(Fe(a.y.c1),64);return an(n,s,c,l)}function _p(a){const n=St.fields.Fr.fromBytes(a);return n>=St.fields.Fr.ORDER?St.fields.Fr.create(n%St.fields.Fr.ORDER):St.fields.Fr.create(n)}function iE(a){if(ve(a)>=ad)throw new R(R.errorMessages.BLS_12_381_FP_NOT_IN_FIELD);return St.fields.Fp.fromBytes(a.slice(16))}class sE{addG1(n){const s=xl(n.subarray(0,qn),!1),c=xl(n.subarray(qn,qn*2),!1),l=s.add(c);return Pf(l.toAffine())}addG2(n){const s=El(n.subarray(0,ga),!1),c=El(n.subarray(ga,ga*2),!1),l=s.add(c);return qf(l.toAffine())}mapFPtoG1(n){const s=iE(n.subarray(0,64)),c=St.G1.mapToCurve(s).toAffine();return Pf(c)}mapFP2toG2(n){const s=id(n.subarray(0,64),n.subarray(64,128)),c=St.G2.mapToCurve([s.c0,s.c1]).toAffine();return qf(c)}msmG1(n){const c=n.length/160;let l=Cl;for(let u=0;u<c;u++){const d=160*u,m=xl(n.subarray(d,d+qn)),p=_p(n.subarray(d+qn,d+160));let h;p===D?h=Cl:h=m.multiplyUnsafe(p),l=l.add(h)}return Pf(l.toAffine())}msmG2(n){const c=n.length/288;let l=wl;for(let u=0;u<c;u++){const d=288*u,m=El(n.subarray(d,d+ga)),p=_p(n.subarray(d+ga,d+288));let h;p===D?h=wl:h=m.multiplyUnsafe(p),l=l.add(h)}return qf(l.toAffine())}pairingCheck(n){const c=[];for(let d=0;d<n.length/384;d++){const m=384*d,p=xl(n.subarray(m,m+qn)),h=m+qn,y=El(n.subarray(h,h+ga));c.push({g1:p,g2:y})}const l=c.filter(d=>d.g1.equals(Cl)===!1&&d.g2.equals(wl)===!1),u=St.pairingBatch(l,!0);return St.fields.Fp12.eql(u,St.fields.Fp12.ONE)?w6:C6}}const cE=new Uint8Array(16),Gg=(a,n,s)=>{const c=s[s.length-1][1];let l;return a<=s.length?a===0?l=0:l=s[a-1][1]:l=c,BigInt(a)*n*BigInt(l)/BigInt(1e3)},Mi=(a,n,s,c=0)=>{for(const l in n){const u=a.data.subarray(n[l][0]+c,n[l][1]+c);if(dt(u,cE)!==!0)return a._debug!==void 0&&a._debug(`${s} failed: Point not on curve`),!1}return!0};async function rE(a){const n=Tt("0b"),s=a._EVM._bls,c=a.common.param("bls12381G1AddGas");if(!wt(a,c,n))return Xe(a.gasLimit);if(!Vl(a,256,n))return ze(new R(R.errorMessages.BLS_12_381_INVALID_INPUT_LENGTH),a.gasLimit);if(!Mi(a,[[0,16],[64,80],[128,144],[192,208]],n))return ze(new R(R.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE),a.gasLimit);let u;try{u=s.addG1(a.data)}catch(d){return a._debug!==void 0&&a._debug(`${n} failed: ${d.message}`),ze(d,a.gasLimit)}return a._debug!==void 0&&a._debug(`${n} return value=${xe(u)}`),{executionGasUsed:c,returnValue:u}}async function lE(a){const n=Tt("0d"),s=a._EVM._bls,c=a.data;if(c.length===0)return a._debug!==void 0&&a._debug(`${n} failed: Empty input`),ze(new R(R.errorMessages.BLS_12_381_INPUT_EMPTY),a.gasLimit);const l=Math.floor(c.length/160),u=a.common.param("bls12381G1MulGas"),d=Gg(l,u,N6);if(!wt(a,d,n))return Xe(a.gasLimit);if(!Pl(a,160,n))return ze(new R(R.errorMessages.BLS_12_381_INVALID_INPUT_LENGTH),a.gasLimit);const m=[[0,16],[64,80]];for(let h=0;h<l;h++){const y=160*h;if(!Mi(a,m,n,y))return ze(new R(R.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE),a.gasLimit)}let p;try{p=s.msmG1(a.data)}catch(h){return a._debug!==void 0&&a._debug(`${n} failed: ${h.message}`),ze(h,a.gasLimit)}return a._debug!==void 0&&a._debug(`${n} return value=${xe(p)}`),{executionGasUsed:d,returnValue:p}}async function uE(a){const n=Tt("0e"),s=a._EVM._bls,c=a.common.param("bls12381G2AddGas");if(!wt(a,c,n))return Xe(a.gasLimit);if(!Vl(a,512,n))return ze(new R(R.errorMessages.BLS_12_381_INVALID_INPUT_LENGTH),a.gasLimit);if(!Mi(a,[[0,16],[64,80],[128,144],[192,208],[256,272],[320,336],[384,400],[448,464]],n))return ze(new R(R.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE),a.gasLimit);let u;try{u=s.addG2(a.data)}catch(d){return ze(d,a.gasLimit)}return a._debug!==void 0&&a._debug(`${n} return value=${xe(u)}`),{executionGasUsed:c,returnValue:u}}async function oE(a){const n=Tt("10"),s=a._EVM._bls;if(a.data.length===0)return a._debug!==void 0&&a._debug(`${n} failed: Empty input`),ze(new R(R.errorMessages.BLS_12_381_INPUT_EMPTY),a.gasLimit);const c=Math.floor(a.data.length/288),l=a.common.param("bls12381G2MulGas"),u=Gg(c,l,B6);if(!wt(a,u,n))return Xe(a.gasLimit);if(!Pl(a,288,n))return ze(new R(R.errorMessages.BLS_12_381_INVALID_INPUT_LENGTH),a.gasLimit);const d=[[0,16],[64,80],[128,144],[192,208]];for(let p=0;p<c;p++){const h=288*p;if(!Mi(a,d,n,h))return ze(new R(R.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE),a.gasLimit)}let m;try{m=s.msmG2(a.data)}catch(p){return a._debug!==void 0&&a._debug(`${n} failed: ${p.message}`),ze(p,a.gasLimit)}return a._debug!==void 0&&a._debug(`${n} return value=${xe(m)}`),{executionGasUsed:u,returnValue:m}}async function fE(a){const n=Tt("11"),s=a._EVM._bls,c=a.common.param("bls12381PairingBaseGas");if(a.data.length===0)return a._debug!==void 0&&a._debug(`${n} failed: Empty input`),ze(new R(R.errorMessages.BLS_12_381_INPUT_EMPTY),a.gasLimit);const l=a.common.param("bls12381PairingPerPairGas");if(!Pl(a,384,n))return ze(new R(R.errorMessages.BLS_12_381_INVALID_INPUT_LENGTH),a.gasLimit);const u=c+l*BigInt(Math.floor(a.data.length/384));if(!wt(a,u,n))return Xe(a.gasLimit);const d=[[0,16],[64,80],[128,144],[192,208],[256,272],[320,336]];for(let p=0;p<a.data.length/384;p++){const h=384*p;if(!Mi(a,d,n,h))return ze(new R(R.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE),a.gasLimit)}let m;try{m=s.pairingCheck(a.data)}catch(p){return a._debug!==void 0&&a._debug(`${n} failed: ${p.message}`),ze(p,a.gasLimit)}return a._debug!==void 0&&a._debug(`${n} return value=${xe(m)}`),{executionGasUsed:u,returnValue:m}}function dE(a){const n=Tt("01"),s=a.common.customCrypto.ecrecover??fx,c=a.common.param("ecRecoverGas");if(!wt(a,c,n))return Xe(a.gasLimit);const l=Gn(a.data,128,{allowTruncate:!0}),u=l.subarray(0,32),d=l.subarray(32,64),m=ve(d);if(m!==_g&&m!==P3)return a._debug!==void 0&&a._debug(`${n} failed: v neither 27 nor 28`),{executionGasUsed:c,returnValue:new Uint8Array};const p=l.subarray(64,96),h=l.subarray(96,128);let y;try{a._debug!==void 0&&a._debug(`${n}: PK recovery with msgHash=${xe(u)} v=${xe(d)} r=${xe(p)}s=${xe(h)}}`),y=s(u,ve(d),p,h)}catch{return a._debug!==void 0&&a._debug(`${n} failed: PK recovery failed`),{executionGasUsed:c,returnValue:new Uint8Array(0)}}const b=ke(rx(y),32);return a._debug!==void 0&&a._debug(`${n} return address=${xe(b)}`),{executionGasUsed:c,returnValue:b}}function hE(a){const n=Tt("02"),s=a.data,c=a.common.customCrypto.sha256??Us;let l=a.common.param("sha256Gas");if(l+=a.common.param("sha256WordGas")*BigInt(Math.ceil(s.length/32)),!wt(a,l,n))return Xe(a.gasLimit);const u=c(s);return a._debug!==void 0&&a._debug(`${n} return hash=${xe(u)}`),{executionGasUsed:l,returnValue:u}}const mE=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Ig=Uint8Array.from(new Array(16).fill(0).map((a,n)=>n)),pE=Ig.map(a=>(9*a+5)%16),Mg=(()=>{const s=[[Ig],[pE]];for(let c=0;c<4;c++)for(let l of s)l.push(l[c].map(u=>mE[u]));return s})(),Hg=Mg[0],kg=Mg[1],zg=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(a=>Uint8Array.from(a)),gE=Hg.map((a,n)=>a.map(s=>zg[n][s])),bE=kg.map((a,n)=>a.map(s=>zg[n][s])),yE=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),xE=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function vp(a,n,s,c){return a===0?n^s^c:a===1?n&s|~n&c:a===2?(n|~s)^c:a===3?n&c|s&~c:n^(s|~c)}const _l=new Uint32Array(16);class EE extends zp{constructor(){super(64,20,8,!0);ie(this,"h0",1732584193);ie(this,"h1",-271733879);ie(this,"h2",-1732584194);ie(this,"h3",271733878);ie(this,"h4",-1009589776)}get(){const{h0:s,h1:c,h2:l,h3:u,h4:d}=this;return[s,c,l,u,d]}set(s,c,l,u,d){this.h0=s|0,this.h1=c|0,this.h2=l|0,this.h3=u|0,this.h4=d|0}process(s,c){for(let v=0;v<16;v++,c+=4)_l[v]=s.getUint32(c,!0);let l=this.h0|0,u=l,d=this.h1|0,m=d,p=this.h2|0,h=p,y=this.h3|0,b=y,E=this.h4|0,_=E;for(let v=0;v<5;v++){const C=4-v,B=yE[v],M=xE[v],W=Hg[v],K=kg[v],ue=gE[v],pe=bE[v];for(let Q=0;Q<16;Q++){const ee=cl(l+vp(v,d,p,y)+_l[W[Q]]+B,ue[Q])+E|0;l=E,E=y,y=cl(p,10)|0,p=d,d=ee}for(let Q=0;Q<16;Q++){const ee=cl(u+vp(C,m,h,b)+_l[K[Q]]+M,pe[Q])+_|0;u=_,_=b,b=cl(h,10)|0,h=m,m=ee}}this.set(this.h1+p+b|0,this.h2+y+_|0,this.h3+E+u|0,this.h4+l+m|0,this.h0+d+h|0)}roundClean(){si(_l)}destroy(){this.destroyed=!0,si(this.buffer),this.set(0,0,0,0,0)}}const Ap=rd(()=>new EE);function _E(a){const n=Tt("03"),s=a.data;let c=a.common.param("ripemd160Gas");if(c+=a.common.param("ripemd160WordGas")*BigInt(Math.ceil(s.length/32)),!wt(a,c,n))return Xe(a.gasLimit);const l=ke(Ap(s),32);return a._debug!==void 0&&a._debug(`${n} return hash=${xe(l)}`),{executionGasUsed:c,returnValue:ke(Ap(s),32)}}function vE(a){const n=Tt("04"),s=a.data;let c=a.common.param("identityGas");return c+=a.common.param("identityWordGas")*BigInt(Math.ceil(s.length/32)),wt(a,c,n)?(a._debug!==void 0&&a._debug(`${n} return data=${gd(a.data)}`),{executionGasUsed:c,returnValue:Uint8Array.from(s)}):Xe(a.gasLimit)}const AE=BigInt(4),Td=BigInt(16),SE=BigInt(480),Sp=BigInt(200),Tp=BigInt(500),jg=BigInt(1024),TE=BigInt(3072),OE=BigInt(199680),CE=BigInt(2147483647),wE=BigInt(Number.MAX_SAFE_INTEGER);function NE(a){let n,s;return a<=Mc?a**ba:a<=jg?(n=a**ba/AE,s=a*bd,n+s-TE):(n=a**ba/Td,s=a*SE,n+s-OE)}function BE(a,n){let s;try{const y=ve(a.subarray(0,32));s=96+Number(y)}catch{s=Number.MAX_SAFE_INTEGER-32}const c=ve(a.subarray(32,64));let l=a.subarray(s,s+32);l=Gn(l,32);let u=ve(l),d=0;c<At&&(d=32-Number(c)),u=u>>ni*BigInt(Math.max(d,0));let m=-1;for(;u>D;)m=m+1,u=u>>Ne;let p=c-At;p<D&&(p=D);let h=p*(n.common.isActivatedEIP(7883)===!0?Td:ni);return m>0&&(h+=BigInt(m)),h}function UE(a,n,s){if(n===D)return Ne%s;let c=Ne;for(;n>D;)n&Ne&&(c=c*a%s),a=a*a%s,n>>=Ne;return c}function RE(a){const n=Tt("05"),s=a.data.length<96?Gn(a.data,96):a.data;let c=BE(s,a);c<Ne&&(c=Ne);const l=ve(s.subarray(0,32)),u=ve(s.subarray(32,64)),d=ve(s.subarray(64,96));let m=l;m<d&&(m=d);const p=a.common.param("modexpGquaddivisorGas");let h;const y=bd,b=y+l,E=b,_=E+u,v=_,C=v+d;if(a.common.isActivatedEIP(2565)){const Q=(m+Eg)/ni;a.common.isActivatedEIP(7883)?(h=c*(m>At?ba*Q*Q:Td),h<Tp&&(h=Tp)):(h=c*Q*Q/p,h<Sp&&(h=Sp))}else h=c*NE(m)/p;if(!wt(a,h,n))return Xe(a.gasLimit);const B=a.common.isActivatedEIP(7823)?jg:CE;if(a._debug!==void 0){const Q=BigInt(96)+l+u+d,ee=BigInt(a.data.length);let ce=`${n} length values: maxSize(b/e/m)=${B} bLen=${l} eLen=${u} mLen=${d} 96+b+e+m=${Q} `;ce+=`data=${ee} lengthMatch=${Q===ee}`,a._debug(ce)}if(!a.common.isActivatedEIP(7823)&&l===D&&d===D)return{executionGasUsed:h,returnValue:new Uint8Array};if(l>B||u>B||d>B)return a._debug!==void 0&&a._debug(`${n} failed: one or more input values too large`),Xe(a.gasLimit);if(C>wE)return a._debug!==void 0&&a._debug(`${n} failed: total input too large`),Xe(a.gasLimit);const M=ve(Gn(s.subarray(Number(y),Number(b)),Number(l))),W=ve(Gn(s.subarray(Number(E),Number(_)),Number(u))),K=ve(Gn(s.subarray(Number(v),Number(C)),Number(d)));a._debug!==void 0&&a._debug(`${n} input: B=${M} E=${W} M=${K}`);let ue;K===D?ue=new Uint8Array:(ue=UE(M,W,K),ue===D?ue=new Uint8Array:ue=Fe(ue));const pe=ke(ue,Number(d));return a._debug!==void 0&&a._debug(`${n} return value=${xe(pe)}`),{executionGasUsed:h,returnValue:pe}}function DE(a){const n=Tt("06"),s=a.common.param("bn254AddGas");if(!wt(a,s,n))return Xe(a.gasLimit);const c=Gn(a.data.subarray(0,128),128);let l;try{l=a._EVM._bn254.add(c)}catch(u){return a._debug!==void 0&&a._debug(`${n} failed: ${u.message}`),ze(u,a.gasLimit)}return l.length!==64?(a._debug!==void 0&&a._debug(`${n} failed: OOG`),Xe(a.gasLimit)):(a._debug!==void 0&&a._debug(`${n} return value=${xe(l)}`),{executionGasUsed:s,returnValue:l})}function LE(a){const n=Tt("07"),s=a.common.param("bn254MulGas");if(!wt(a,s,n))return Xe(a.gasLimit);const c=Gn(a.data.subarray(0,128),128);let l;try{l=a._EVM._bn254.mul(c)}catch(u){return a._debug!==void 0&&a._debug(`${n} failed: ${u.message}`),ze(u,a.gasLimit)}return l.length!==64?(a._debug!==void 0&&a._debug(`${n} failed: OOG`),Xe(a.gasLimit)):(a._debug!==void 0&&a._debug(`${n} return value=${xe(l)}`),{executionGasUsed:s,returnValue:l})}function GE(a){const n=Tt("08");if(!Pl(a,192,n))return ze(new R(R.errorMessages.INVALID_INPUT_LENGTH),a.gasLimit);const s=BigInt(Math.floor(a.data.length/192)),c=a.common.param("bn254PairingGas")+s*a.common.param("bn254PairingWordGas");if(!wt(a,c,n))return Xe(a.gasLimit);let l;try{l=a._EVM._bn254.pairing(a.data)}catch(u){return a._debug!==void 0&&a._debug(`${n} failed: ${u.message}`),ze(u,a.gasLimit)}return l.length!==32?(a._debug!==void 0&&a._debug(`${n} failed: OOG`),Xe(a.gasLimit)):(a._debug!==void 0&&a._debug(`${n} return value=${xe(l)}`),{executionGasUsed:c,returnValue:l})}function vl(a,n,s){const c=a[n]+a[s];let l=a[n+1]+a[s+1];c>=4294967296&&l++,a[n]=c,a[n+1]=l}function Op(a,n,s,c){let l=a[n]+s;s<0&&(l+=4294967296);let u=a[n+1]+c;l>=4294967296&&u++,a[n]=l,a[n+1]=u}function $a(a,n,s,c,l,u,d,m){const p=n[d],h=n[d+1],y=n[m],b=n[m+1];vl(a,s,c),Op(a,s,p,h);let E=a[u]^a[s],_=a[u+1]^a[s+1];a[u]=_,a[u+1]=E,vl(a,l,u),E=a[c]^a[l],_=a[c+1]^a[l+1],a[c]=E>>>24^_<<8,a[c+1]=_>>>24^E<<8,vl(a,s,c),Op(a,s,y,b),E=a[u]^a[s],_=a[u+1]^a[s+1],a[u]=E>>>16^_<<16,a[u+1]=_>>>16^E<<16,vl(a,l,u),E=a[c]^a[l],_=a[c+1]^a[l+1],a[c]=_>>>31^E<<1,a[c+1]=E>>>31^_<<1}const IE=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ME=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Mt=new Uint8Array(ME.map(function(a){return a*2}));function HE(a,n,s,c,l){const u=new Uint32Array(32);let d=0;for(d=0;d<16;d++)u[d]=a[d],u[d+16]=IE[d];for(u[24]=u[24]^s[0],u[25]=u[25]^s[1],u[26]=u[26]^s[2],u[27]=u[27]^s[3],c&&(u[28]=~u[28],u[29]=~u[29]),d=0;d<l;d++){const m=d%10*16;$a(u,n,0,8,16,24,Mt[m+0],Mt[m+1]),$a(u,n,2,10,18,26,Mt[m+2],Mt[m+3]),$a(u,n,4,12,20,28,Mt[m+4],Mt[m+5]),$a(u,n,6,14,22,30,Mt[m+6],Mt[m+7]),$a(u,n,0,10,20,30,Mt[m+8],Mt[m+9]),$a(u,n,2,12,22,24,Mt[m+10],Mt[m+11]),$a(u,n,4,14,16,26,Mt[m+12],Mt[m+13]),$a(u,n,6,8,18,28,Mt[m+14],Mt[m+15])}for(d=0;d<16;d++)a[d]=a[d]^u[d]^u[d+16]}function kE(a){const n=Tt("09"),s=a.data;if(s.length!==213)return a._debug!==void 0&&a._debug(`${n} failed: OUT_OF_RANGE dataLength=${s.length}`),{returnValue:new Uint8Array(0),executionGasUsed:a.gasLimit,exceptionError:new R(R.errorMessages.OUT_OF_RANGE)};const c=s.subarray(212,213)[0];if(c!==1&&c!==0)return a._debug!==void 0&&a._debug(`${n} failed: OUT_OF_RANGE lastByte=${c}`),{returnValue:new Uint8Array(0),executionGasUsed:a.gasLimit,exceptionError:new R(R.errorMessages.OUT_OF_RANGE)};const l=new DataView(s.buffer,s.byteOffset).getUint32(0),u=new DataView(s.buffer,s.byteOffset+4,64),d=new DataView(s.buffer,s.byteOffset+68,128),m=new DataView(s.buffer,s.byteOffset+196,16),p=c===1;let h=a.common.param("blake2RoundGas");if(h*=BigInt(l),!wt(a,h,n))return Xe(a.gasLimit);const y=new Uint32Array(16);for(let C=0;C<16;C++)y[C]=u.getUint32(C*4,!0);const b=new Uint32Array(32);for(let C=0;C<32;C++)b[C]=d.getUint32(C*4,!0);const E=new Uint32Array(4);for(let C=0;C<4;C++)E[C]=m.getUint32(C*4,!0);HE(y,b,E,p,l);const _=new Uint8Array(64),v=new DataView(_.buffer);for(let C=0;C<16;C++)v.setUint32(C*4,y[C],!0);return a._debug!==void 0&&a._debug(`${n} return hash=${xe(_)}`),{executionGasUsed:h,returnValue:_}}async function zE(a){const n=Tt("12"),s=a._EVM._bls,c=a.common.param("bls12381MapG1Gas");if(!wt(a,c,n))return Xe(a.gasLimit);if(!Vl(a,64,n))return ze(new R(R.errorMessages.BLS_12_381_INVALID_INPUT_LENGTH),a.gasLimit);if(!Mi(a,[[0,16]],n))return ze(new R(R.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE),a.gasLimit);let u;try{u=s.mapFPtoG1(a.data)}catch(d){return a._debug!==void 0&&a._debug(`${n} failed: ${d.message}`),ze(d,a.gasLimit)}return a._debug!==void 0&&a._debug(`${n} return value=${xe(u)}`),{executionGasUsed:c,returnValue:u}}async function jE(a){const n=Tt("13"),s=a._EVM._bls,c=a.common.param("bls12381MapG2Gas");if(!wt(a,c,n))return Xe(a.gasLimit);if(!Vl(a,128,n))return ze(new R(R.errorMessages.BLS_12_381_INVALID_INPUT_LENGTH),a.gasLimit);if(!Mi(a,[[0,16],[64,80]],n))return ze(new R(R.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE),a.gasLimit);let u;try{u=s.mapFP2toG2(a.data)}catch(d){return a._debug!==void 0&&a._debug(`${n} failed: ${d.message}`),ze(d,a.gasLimit)}return a._debug!==void 0&&a._debug(`${n} return value=${xe(u)}`),{executionGasUsed:c,returnValue:u}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const VE={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},PE=Ds(VE),Yf=fg(PE,Us),qE=BigInt(6900),YE=new Uint8Array(32).fill(0).map((a,n)=>n===31?1:0),Cp=BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Al=BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),ZE=BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),FE=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b");function XE(a){const n=Tt("100"),s=qE;if(!wt(a,s,n))return Xe(a.gasLimit);const c=a.data;if(c.length!==160)return a._debug!==void 0&&a._debug(`${n} failed: invalid input length ${c.length}, expected 160`),{executionGasUsed:s,returnValue:new Uint8Array};const l=c.subarray(0,32),u=c.subarray(32,64),d=c.subarray(64,96),m=c.subarray(96,128),p=c.subarray(128,160),h=ve(u),y=ve(d),b=ve(m),E=ve(p);if(!(h>BigInt(0)&&h<Cp&&y>BigInt(0)&&y<Cp))return a._debug!==void 0&&a._debug(`${n} failed: signature component out of bounds: r=${xe(u)}, s=${xe(d)}`),{executionGasUsed:s,returnValue:new Uint8Array};if(!(b>=BigInt(0)&&b<Al&&E>=BigInt(0)&&E<Al))return a._debug!==void 0&&a._debug(`${n} failed: public key component out of bounds: qx=${xe(m)}, qy=${xe(p)}`),{executionGasUsed:s,returnValue:new Uint8Array};const _=E*E%Al,v=(b*b*b+ZE*b+FE)%Al;if(_!==v)return a._debug!==void 0&&a._debug(`${n} failed: point not on curve`),{executionGasUsed:s,returnValue:new Uint8Array};if(b===BigInt(0)&&E===BigInt(0))return a._debug!==void 0&&a._debug(`${n} failed: public key is point at infinity`),{executionGasUsed:s,returnValue:new Uint8Array};try{const C=Yf.Point.fromAffine({x:b,y:E}),B=ke(u,32),M=ke(d,32),W=new Uint8Array(64);W.set(B,0),W.set(M,32);const K=Yf.Signature.fromBytes(W).toBytes();return Yf.verify(K,l,C.toBytes(!1),{lowS:!1,prehash:!1})?(a._debug!==void 0&&a._debug(`${n} succeeded: signature verification passed`),{executionGasUsed:s,returnValue:YE}):(a._debug!==void 0&&a._debug(`${n} failed: signature verification failed`),{executionGasUsed:s,returnValue:new Uint8Array})}catch(C){return a._debug!==void 0&&a._debug(`${n} failed: verification error: ${C}`),{executionGasUsed:s,returnValue:new Uint8Array}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const KE=BigInt(0),sd=BigInt(1),Vg=BigInt(2),QE=BigInt(3),Pg=BigInt(6),Fl=BigInt("4965661367192848881"),$E=Hc(Fl),JE=Pg*Fl**Vg,Xl={p:BigInt("0x30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd47"),n:BigInt("0x30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001"),h:sd,a:KE,b:QE,Gx:sd,Gy:BigInt(2)},Kl=Gi(Xl.n),qg={c0:BigInt("19485874751759354771024239261021720505790618469301721065564631296452457478373"),c1:BigInt("266929791119991161246907387137283842545076965332900288569378510910307636690")},{Fp:Od,Fp2:Yn,Fp6:WE,Fp12:st}=Lg({ORDER:Xl.p,X_LEN:$E,FP2_NONRESIDUE:[BigInt(9),sd],Fp2mulByB:a=>Yn.mul(a,qg),Fp12finalExponentiate:a=>{const n=y=>st.conjugate(st._cyclotomicExp(y,Fl)),s=st.mul(st.conjugate(a),st.inv(a)),c=st.mul(st.frobeniusMap(s,2),s),l=st._cyclotomicSquare(n(c)),u=st.mul(st._cyclotomicSquare(l),l),d=n(u),m=n(st._cyclotomicSquare(d)),p=st.mul(st.mul(st.conjugate(m),d),st.conjugate(u)),h=st.mul(p,l);return st.mul(st.frobeniusMap(st.mul(st.conjugate(c),h),3),st.mul(st.frobeniusMap(p,2),st.mul(st.frobeniusMap(h,1),st.mul(st.mul(p,d),c))))}}),{G2psi:e_,psi:wp}=Dg(Od,Yn,Yn.NONRESIDUE),t_=(a,n,s,c,l,u)=>{const d=wp(c,l);({Rx:a,Ry:n,Rz:s}=u(a,n,s,d[0],d[1]));const m=wp(d[0],d[1]);u(a,n,s,m[0],Yn.neg(m[1]))},n_={p:Yn.ORDER,n:Xl.n,h:BigInt("0x30644e72e131a029b85045b68181585e06ceecda572a2489345f2299c0f9fa8d"),a:Yn.ZERO,b:qg,Gx:Yn.fromBigTuple([BigInt("10857046999023057135944570762232829481370756359578518086990519993285655852781"),BigInt("11559732032986387107991004021392285783925812861821192530917403151452391805634")]),Gy:Yn.fromBigTuple([BigInt("8495653923123431417604973247489272438418190587263600148770280649306958101930"),BigInt("4082367875863433681332203403145435568316851327593401208105741076214120093531")])},a_={Fp:Od,Fp2:Yn,Fp6:WE,Fp12:st,Fr:Kl},i_=Ds(Xl,{Fp:Od,Fn:Kl,allowInfinityPoint:!0}),s_=Ds(n_,{Fp:Yn,Fn:Kl,allowInfinityPoint:!0,isTorsionFree:(a,n)=>n.multiplyUnsafe(JE).equals(e_(a,n))}),c_={ateLoopSize:Fl*Pg+Vg,r:Kl.ORDER,xNegative:!1,twistType:"divisive",postPrecompute:t_},tn=Rg(a_,i_,s_,c_),Yg=new Uint8Array(64),r_=new Uint8Array(128),Wa=64,Dn=32,l_=128,u_=new Uint8Array(32),o_=an(new Uint8Array(31),_t("0x01"));function Sl(a){if(dt(a,Yg)===!0)return tn.G1.Point.ZERO;const n=ve(a.subarray(0,Dn)),s=ve(a.subarray(Dn,Wa)),c=tn.G1.Point.fromAffine({x:n,y:s});return c.assertValidity(),c}function Np(a){const n=ke(Fe(a.x),Dn),s=ke(Fe(a.y),Dn);return an(n,s)}function Bp(a,n){if(ve(a)>=tn.fields.Fp2.ORDER)throw new R(R.errorMessages.BN254_FP_NOT_IN_FIELD);if(ve(n)>=tn.fields.Fp2.ORDER)throw new R(R.errorMessages.BN254_FP_NOT_IN_FIELD);const s=an(a,n);return tn.fields.Fp2.fromBytes(s)}function f_(a){if(dt(a,r_)===!0)return tn.G2.Point.ZERO;const n=a.subarray(0,Dn),s=a.subarray(Dn,Dn*2),c=Dn*2,l=a.subarray(c,c+Dn),u=a.subarray(c+Dn,c+Dn*2);for(const h of[s,n,u,l]){const y=ve(h);if(tn.fields.Fp.create(y)!==y)throw new R(R.errorMessages.BN254_FP_NOT_IN_FIELD)}const d=Bp(s,n),m=Bp(u,l),p=tn.G2.Point.fromAffine({x:d,y:m});return p.assertValidity(),p}class d_{add(n){const s=Sl(n.slice(0,Wa)),c=Sl(n.slice(Wa,Wa*2));return Np(s.add(c).toAffine())}mul(n){const s=Sl(n.slice(0,Wa)),c=tn.fields.Fr.create(ve(n.slice(Wa,96)));return c===D?Yg:Np(s.multiply(c).toAffine())}pairing(n){const c=[];for(let u=0;u<n.length/192;u++){const d=192*u,m=Sl(n.subarray(d,d+Wa)),p=d+Wa,h=f_(n.subarray(p,p+l_));m===tn.G1.Point.ZERO||h===tn.G2.Point.ZERO||c.push({g1:m,g2:h})}const l=tn.pairingBatch(c);return tn.fields.Fp12.eql(l,tn.fields.Fp12.ONE)===!0?o_:u_}}const Et={EIP:"eip",Hardfork:"hardfork"},Lt="00000000000000000000000000000000000000",Zg=[{address:Lt+"01",check:{type:Et.Hardfork,param:q.Chainstart},precompile:dE,name:"ECRECOVER (0x01)"},{address:Lt+"02",check:{type:Et.Hardfork,param:q.Chainstart},precompile:hE,name:"SHA256 (0x02)"},{address:Lt+"03",check:{type:Et.Hardfork,param:q.Chainstart},precompile:_E,name:"RIPEMD160 (0x03)"},{address:Lt+"04",check:{type:Et.Hardfork,param:q.Chainstart},precompile:vE,name:"IDENTITY (0x04)"},{address:Lt+"05",check:{type:Et.Hardfork,param:q.Byzantium},precompile:RE,name:"MODEXP (0x05)"},{address:Lt+"06",check:{type:Et.Hardfork,param:q.Byzantium},precompile:DE,name:"BN254_ADD (0x06)"},{address:Lt+"07",check:{type:Et.Hardfork,param:q.Byzantium},precompile:LE,name:"BN254_MUL (0x07)"},{address:Lt+"08",check:{type:Et.Hardfork,param:q.Byzantium},precompile:GE,name:"BN254_PAIRING (0x08)"},{address:Lt+"09",check:{type:Et.Hardfork,param:q.Istanbul},precompile:kE,name:"BLAKE2f (0x09)"},{address:Lt+"0a",check:{type:Et.EIP,param:4844},precompile:S6,name:"KZG_POINT_EVALUATION (0x0a)"},{address:Lt+"0b",check:{type:Et.EIP,param:2537},precompile:rE,name:"BLS12_G1ADD (0x0b)"},{address:Lt+"0c",check:{type:Et.EIP,param:2537},precompile:lE,name:"BLS12_G1MSM (0x0c)"},{address:Lt+"0d",check:{type:Et.EIP,param:2537},precompile:uE,name:"BLS12_G2ADD (0x0d)"},{address:Lt+"0e",check:{type:Et.EIP,param:2537},precompile:oE,name:"BLS12_G2MSM (0x0e)"},{address:Lt+"0f",check:{type:Et.EIP,param:2537},precompile:fE,name:"BLS12_PAIRING (0x0f)"},{address:Lt+"10",check:{type:Et.EIP,param:2537},precompile:zE,name:"BLS12_MAP_FP_TO_G1 (0x10)"},{address:Lt+"11",check:{type:Et.EIP,param:2537},precompile:jE,name:"BLS12_MAP_FP_TO_G2 (0x11)"},{address:"0000000000000000000000000000000000000100",check:{type:Et.EIP,param:7951},precompile:XE,name:"P256VERIFY (0x100)"}];function Up(a,n){const s=new Map;if(n)for(const c of n)s.set(kt(c.address.bytes),"function"in c?c.function:void 0);for(const c of Zg){if(s.has(c.address))continue;(c.check.type===Et.Hardfork&&a.gteHardfork(c.check.param)||c.check.type===Et.EIP&&a.isActivatedEIP(c.check.param))&&s.set(c.address,c.precompile)}return s}function Tt(a){a.length<40&&(a=a.padStart(40,"0"));for(const n of Zg)if(n.address===a)return n.name;return""}class h_{constructor(){this._storage=new Map,this._changeJournal=[],this._indices=[0]}get(n,s){const c=this._storage.get(n.toString());if(!c)return new Uint8Array(32);const l=c.get(xe(s));return l||new Uint8Array(32)}put(n,s,c){if(s.length!==32)throw $("Transient storage key must be 32 bytes long");if(c.length>32)throw $("Transient storage value cannot be longer than 32 bytes");const l=n.toString();this._storage.has(l)||this._storage.set(l,new Map);const u=this._storage.get(l),d=xe(s),m=u.get(d)??new Uint8Array(32);this._changeJournal.push({addr:l,key:d,prevValue:m}),u.set(d,c)}commit(){if(this._indices.length===0)throw $("Nothing to commit");this._indices.pop()}checkpoint(){this._indices.push(this._changeJournal.length)}revert(){const n=this._indices.pop();if(typeof n>"u")throw $("Nothing to revert");for(let s=this._changeJournal.length-1;s>=n;s--){const{key:c,prevValue:l,addr:u}=this._changeJournal[s];this._storage.get(u).set(c,l)}this._changeJournal.splice(n,this._changeJournal.length-n)}toJSON(){const n={};for(const[s,c]of this._storage.entries()){n[s]={};for(const[l,u]of c.entries())n[s][l]=xe(u)}return n}clear(){this._storage=new Map,this._changeJournal=[]}}const Ke=Ii("evm:evm"),jn=Ii("evm:gas"),m_=Ii("evm:precompiles");function Xe(a){return{returnValue:new Uint8Array(0),executionGasUsed:a,exceptionError:new R(R.errorMessages.OUT_OF_GAS)}}function p_(a){return{returnValue:new Uint8Array(0),executionGasUsed:a,exceptionError:new R(R.errorMessages.CODESTORE_OUT_OF_GAS)}}function Rp(a){return{returnValue:new Uint8Array(0),executionGasUsed:a,exceptionError:new R(R.errorMessages.INVALID_BYTECODE_RESULT)}}function g_(a){return{returnValue:new Uint8Array(0),executionGasUsed:a,exceptionError:new R(R.errorMessages.CODESIZE_EXCEEDS_MAXIMUM)}}function ze(a,n){return{returnValue:new Uint8Array(0),executionGasUsed:n,exceptionError:a}}function Zf(){return{header:{number:D,coinbase:pa(),timestamp:D,difficulty:D,prevRandao:new Uint8Array(32),gasLimit:D,baseFeePerGas:void 0,getBlobGasPrice:()=>{}}}}class jc{get precompiles(){return this._precompiles}get opcodes(){return this._opcodes}constructor(n){var c,l,u,d;if(this.DEBUG=!1,this.common=n.common,this.blockchain=n.blockchain,this.stateManager=n.stateManager,this.common.isActivatedEIP(7864)){const m=["checkChunkWitnessPresent"];for(const p of m)if(!(p in this.stateManager))throw $(`State manager used must implement ${p} if Binary Trees (EIP-7864) is activated`)}this.events=new td,this._optsCached=n;const s=[663,1153,1559,2537,2565,2718,2929,2930,2935,3198,3529,3540,3541,3607,3651,3670,3855,3860,4200,4399,4750,4788,4844,4895,5133,5450,5656,6110,6206,6780,7002,7069,7251,7480,7516,7594,7620,7685,7691,7692,7698,7702,7709,7823,7825,7934,7939,7951];for(const m of this.common.eips())if(!s.includes(m))throw $(`EIP-${m} is not supported by the EVM`);if(!jc.supportedHardforks.includes(this.common.hardfork()))throw $(`Hardfork ${this.common.hardfork()} not set as supported in supportedHardforks`);this.common.updateParams(n.params??v6),this.allowUnlimitedContractSize=n.allowUnlimitedContractSize??!1,this.allowUnlimitedInitCodeSize=n.allowUnlimitedInitCodeSize??!1,this._customOpcodes=n.customOpcodes,this._customPrecompiles=n.customPrecompiles,this.journal=new _6(this.stateManager,this.common),this.transientStorage=new h_,this.common.events.on("hardforkChanged",()=>{this.getActiveOpcodes(),this._precompiles=Up(this.common,this._customPrecompiles)}),this.getActiveOpcodes(),this._precompiles=Up(this.common,this._customPrecompiles),this.common.isActivatedEIP(2537)&&(this._bls=n.bls??new sE,(l=(c=this._bls).init)==null||l.call(c)),this._bn254=n.bn254,this._emit=async(m,p)=>{const h=this.events.listeners(m);for(const y of h)y.length===2?await new Promise(b=>{y(p,b)}):y(p)},this.performanceLogger=new Jx,this.DEBUG=typeof window>"u"?((d=(u=process==null?void 0:process.env)==null?void 0:u.DEBUG)==null?void 0:d.includes("ethjs"))??!1:!1}getActiveOpcodes(){const n=y6(this.common,this._customOpcodes);return this._opcodes=n.opcodes,this._dynamicGasHandlers=n.dynamicGasHandlers,this._handlers=n.handlers,this._opcodeMap=n.opcodeMap,n.opcodes}async _executeCall(n){var h,y,b,E;let s=n.gasLimit;const c=n.caller;if(this.common.isActivatedEIP(7864)){if(n.accessWitness===void 0)throw $("accessWitness is required for EIP-7864");const _=n.value!==D;if(n.depth===0){const C=n.accessWitness.readAccountHeader(c);jn(`originAccessGas=${C} waived off for origin at depth=0`);let B=n.accessWitness.readAccountCodeHash(n.to);_?B+=n.accessWitness.writeAccountBasicData(n.to):B+=n.accessWitness.readAccountBasicData(n.to),jn(`destAccessGas=${B} waived off for target at depth=0`)}let v=n.accessWitness.readAccountBasicData(n.to);if(_&&(v+=n.accessWitness.writeAccountBasicData(n.to)),s-=v,s<D)return this.DEBUG&&jn(`callAccessGas charged(${v}) caused OOG (-> ${s})`),n.accessWitness.revert(),{execResult:Xe(n.gasLimit)};this.DEBUG&&jn(`callAccessGas used (${v} gas (-> ${s}))`),n.accessWitness.commit()}let l=await this.stateManager.getAccount(c);l||(l=new en);let u;if(!n.delegatecall)try{await this._reduceSenderBalance(l,n)}catch(_){u=_}let d=await this.stateManager.getAccount(n.to);if(!d){if(this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864)){const _=n.accessWitness.readAccountHeader(n.to);if(s-=_,s<D)return this.DEBUG&&jn(`Proof of absence access charged(${_}) caused OOG (-> ${s})`),(h=n.accessWitness)==null||h.revert(),{execResult:Xe(n.gasLimit)};this.DEBUG&&jn(`Proof of absence access used (${_} gas (-> ${s}))`),(y=n.accessWitness)==null||y.commit()}d=new en}if(!n.delegatecall)try{await this._addToBalance(d,n)}catch(_){u=_}await this._loadCode(n);let m=!1;if((!n.code||typeof n.code!="function"&&n.code.length===0)&&(m=!0,this.DEBUG&&Ke("Exit early on no code (CALL)")),u!==void 0&&(m=!0,this.DEBUG&&Ke("Exit early on value transfer overflowed (CALL)")),m)return{execResult:{gasRefund:n.gasRefund,executionGasUsed:n.gasLimit-s,exceptionError:u,returnValue:new Uint8Array(0)}};let p;if(n.isCompiled){let _,v,C;((b=this._optsCached.profiler)==null?void 0:b.enabled)===!0&&(C=kt(n.codeAddress.bytes),C=Tt(C)??C.slice(20),this.performanceLogger.hasTimer()&&(v=this.performanceLogger.pauseTimer()),_=this.performanceLogger.startTimer(C)),p=await this.runPrecompile(n.code,n.data,s),((E=this._optsCached.profiler)==null?void 0:E.enabled)===!0&&(this.performanceLogger.stopTimer(_,Number(p.executionGasUsed),"precompiles"),v!==void 0&&this.performanceLogger.unpauseTimer(v)),p.gasRefund=n.gasRefund}else this.DEBUG&&Ke("Start bytecode processing..."),p=await this.runInterpreter({codeAddress:n.codeAddress,...n,gasLimit:s});return n.depth===0&&this.postMessageCleanup(),p.executionGasUsed+=n.gasLimit-s,{execResult:p}}async _executeCreate(n){var v,C,B,M,W,K,ue,pe,Q,ee;let s=n.gasLimit;const c=n.caller;if((this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864))&&n.depth===0){const ce=n.accessWitness.readAccountHeader(c);jn(`originAccessGas=${ce} waived off for origin at depth=0`)}let l=await this.stateManager.getAccount(n.caller);if(l||(l=new en),await this._reduceSenderBalance(l,n),this.common.isActivatedEIP(3860)&&n.data.length>Number(this.common.param("maxInitCodeSize"))&&!this.allowUnlimitedInitCodeSize)return{createdAddress:n.to,execResult:{returnValue:new Uint8Array(0),exceptionError:new R(R.errorMessages.INITCODE_SIZE_VIOLATION),executionGasUsed:n.gasLimit}};n.code=n.data,n.data=n.eofCallData??new Uint8Array,n.to=await this._generateAddress(n),this.common.isActivatedEIP(6780)&&n.createdAddresses.add(n.to.toString()),this.DEBUG&&Ke(`Generated CREATE contract address ${n.to}`);let u=await this.stateManager.getAccount(n.to);if(u||(u=new en),this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864)){const ce=n.accessWitness.writeAccountBasicData(n.to)+n.accessWitness.readAccountCodeHash(n.to);if(s-=ce,s<D)return this.DEBUG&&(jn(`ContractCreateInit charge(${ce}) caused OOG (-> ${s})`),(v=n.accessWitness)==null||v.revert()),{execResult:Xe(n.gasLimit)};this.DEBUG&&jn(`ContractCreateInit charged (${ce} gas (-> ${s}))`),(C=n.accessWitness)==null||C.commit()}if(u.nonce&&u.nonce>D||dt(u.codeHash,Lc)!==!0||dt(u.storageRoot,xg)!==!0)return this.DEBUG&&Ke("Returning on address collision"),{createdAddress:n.to,execResult:{returnValue:new Uint8Array(0),exceptionError:new R(R.errorMessages.CREATE_COLLISION),executionGasUsed:n.gasLimit}};await this.journal.putAccount(n.to,u),await this.stateManager.clearStorage(n.to);const d={address:n.to,code:n.code};await this._emit("newContract",d),u=await this.stateManager.getAccount(n.to),u||(u=new en),this.common.gteHardfork(q.SpuriousDragon)&&(u.nonce+=Ne);let m;try{await this._addToBalance(u,n)}catch(ce){m=ce}let p=!1;if((n.code===void 0||typeof n.code!="function"&&n.code.length===0)&&(p=!0,this.DEBUG&&Ke("Exit early on no code (CREATE)")),m!==void 0&&(p=!0,this.DEBUG&&Ke("Exit early on value transfer overflowed (CREATE)")),p){if(this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864)){const ce=n.accessWitness.writeAccountHeader(n.to);if(s-=ce,s<D)return this.DEBUG&&Ke(`ContractCreateComplete access gas (${ce}) caused OOG (-> ${s})`),(B=n.accessWitness)==null||B.revert(),{execResult:Xe(n.gasLimit)};this.DEBUG&&Ke(`ContractCreateComplete access used (${ce}) gas (-> ${s})`),(M=n.accessWitness)==null||M.commit()}return{createdAddress:n.to,execResult:{executionGasUsed:n.gasLimit-s,gasRefund:n.gasRefund,exceptionError:m,returnValue:new Uint8Array(0)}}}this.DEBUG&&Ke("Start bytecode processing...");let h=await this.runInterpreter({...n,gasLimit:s,isCreate:!0});h.executionGasUsed+=n.gasLimit-s;let y=h.executionGasUsed,b=D;!h.exceptionError&&!this.common.isActivatedEIP(6800)&&(b=BigInt(h.returnValue.length)*BigInt(this.common.param("createDataGas")),y=y+b,this.DEBUG&&jn(`Add return value size fee (${b} to gas used (-> ${y}))`));let E=!0;!h.exceptionError&&this.common.gteHardfork(q.SpuriousDragon)&&h.returnValue.length>Number(this.common.param("maxCodeSize"))&&(E=!1);let _=!1;if(y<=n.gasLimit&&(this.allowUnlimitedContractSize||E)?this.common.isActivatedEIP(3541)&&h.returnValue[0]===jl?this.common.isActivatedEIP(3540)?Ci(n.code)?h.executionGasUsed=y:h={...h,...Rp(n.gasLimit)}:h={...h,...Rp(n.gasLimit)}:h.executionGasUsed=y:this.common.gteHardfork(q.Homestead)?E?(this.DEBUG&&Ke("Contract creation: out of gas"),(W=n.accessWitness)==null||W.revert(),h={...h,...Xe(n.gasLimit)}):(this.DEBUG&&Ke("Code size exceeds maximum code size (>= SpuriousDragon)"),h={...h,...g_(n.gasLimit)}):y-b<=n.gasLimit?(this.DEBUG&&Ke("Not enough gas to pay the code deposit fee (Frontier)"),(K=n.accessWitness)==null||K.revert(),h={...h,...p_(y-b)},_=!0):(this.DEBUG&&Ke("Contract creation: out of gas"),(ue=n.accessWitness)==null||ue.revert(),h={...h,...Xe(n.gasLimit)}),s=n.gasLimit-h.executionGasUsed,!h.exceptionError&&(this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864))){const ce=n.accessWitness.writeAccountHeader(n.to);s-=ce,s<D?(this.DEBUG&&Ke(`ContractCreateComplete access gas (${ce}) caused OOG (-> ${s})`),(pe=n.accessWitness)==null||pe.revert(),h={...h,...Xe(n.gasLimit)}):(Ke(`ContractCreateComplete access used (${ce}) gas (-> ${s})`),h.executionGasUsed+=ce)}if(!h.exceptionError&&h.returnValue!==void 0&&h.returnValue.length!==0){if(this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864)){const ce=n.accessWitness.writeAccountCodeChunks(n.to,0,h.returnValue.length-1);s-=ce,s<D?(this.DEBUG&&Ke(`byteCodeWrite access gas (${ce}) caused OOG (-> ${s})`),(Q=n.accessWitness)==null||Q.revert(),h={...h,...Xe(n.gasLimit)}):(Ke(`byteCodeWrite access used (${ce}) gas (-> ${s})`),(ee=n.accessWitness)==null||ee.commit(),h.executionGasUsed+=ce)}await this.stateManager.putCode(n.to,h.returnValue),this.DEBUG&&Ke("Code saved on new contract creation")}else if(_&&!this.common.gteHardfork(q.Homestead)){const ce=await this.stateManager.getAccount(n.to);await this.journal.putAccount(n.to,ce??new en)}return n.depth===0&&this.postMessageCleanup(),{createdAddress:n.to,execResult:h}}async runInterpreter(n,s={}){var h,y;let c=await this.stateManager.getAccount(n.to??pa());c||(c=new en);const l={address:n.to??pa(),caller:n.caller??pa(),callData:n.data??Uint8Array.from([0]),callValue:n.value??D,code:n.code,isStatic:n.isStatic??!1,isCreate:n.isCreate??!1,depth:n.depth??0,gasPrice:this._tx.gasPrice,origin:this._tx.origin??n.caller??pa(),block:this._block??Zf(),contract:c,codeAddress:n.codeAddress,gasRefund:n.gasRefund,chargeCodeAccesses:n.chargeCodeAccesses,blobVersionedHashes:n.blobVersionedHashes??[],accessWitness:n.accessWitness,createdAddresses:n.createdAddresses},u=new E6(this,this.stateManager,this.blockchain,l,n.gasLimit,this.journal,this.performanceLogger,this._optsCached.profiler);n.selfdestruct&&(u._result.selfdestruct=n.selfdestruct),n.createdAddresses&&(u._result.createdAddresses=n.createdAddresses);const d=await u.run(n.code,s);let m=u._result,p=n.gasLimit-d.runState.gasLeft;return d.exceptionError&&(d.exceptionError.error!==R.errorMessages.REVERT&&d.exceptionError.error!==R.errorMessages.INVALID_EOF_FORMAT&&(p=n.gasLimit),m={...m,logs:[],selfdestruct:new Set,createdAddresses:new Set}),(h=n.accessWitness)==null||h.commit(),{...m,runState:{...d.runState,...m,...u._env},exceptionError:d.exceptionError,gas:(y=d.runState)==null?void 0:y.gasLeft,executionGasUsed:p,gasRefund:d.runState.gasRefund,returnValue:m.returnValue??new Uint8Array(0)}}async runCall(n){var m,p,h;let s;(n.depth===0||n.message===void 0)&&((m=this._optsCached.profiler)==null?void 0:m.enabled)===!0&&(s=this.performanceLogger.startTimer("Initialization"));let c=n.message,l;if(!c){this._block=n.block??Zf();const y=n.caller??pa();this._tx={gasPrice:n.gasPrice??D,origin:n.origin??y};const b=n.value??D;n.skipBalance===!0&&(l=await this.stateManager.getAccount(y),l||(l=new en),l.balance<b&&(l.balance=b,await this.journal.putAccount(y,l))),c=new wi({caller:y,gasLimit:n.gasLimit??BigInt(16777215),to:n.to,value:b,data:n.data,code:n.code,depth:n.depth,isCompiled:n.isCompiled,isStatic:n.isStatic,salt:n.salt,selfdestruct:n.selfdestruct??new Set,createdAddresses:n.createdAddresses??new Set,delegatecall:n.delegatecall,blobVersionedHashes:n.blobVersionedHashes})}c.depth===0&&(l||(l=await this.stateManager.getAccount(c.caller)),l||(l=new en),l.nonce++,await this.journal.putAccount(c.caller,l),this.DEBUG&&Ke(`Update fromAccount (caller) nonce (-> ${l.nonce}))`)),await this._emit("beforeMessage",c),!c.to&&this.common.isActivatedEIP(2929)&&(c.code=c.data,this.journal.addWarmedAddress((await this._generateAddress(c)).bytes)),await this.journal.checkpoint(),this.common.isActivatedEIP(1153)&&this.transientStorage.checkpoint(),this.DEBUG&&(Ke("-".repeat(100)),Ke("message checkpoint"));let u;if(this.DEBUG){const{caller:y,gasLimit:b,to:E,value:_,delegatecall:v}=c;Ke(`New message caller=${y} gasLimit=${b} to=${(E==null?void 0:E.toString())??"none"} value=${_} delegatecall=${v?"yes":"no"}`)}if(c.to?(this.DEBUG&&Ke(`Message CALL execution (to: ${c.to})`),u=await this._executeCall(c)):(this.DEBUG&&Ke("Message CREATE execution (to: undefined)"),u=await this._executeCreate(c)),this.DEBUG){const{executionGasUsed:y,exceptionError:b,returnValue:E}=u.execResult;Ke(`Received message execResult: [ gasUsed=${y} exceptionError=${b?`'${b.error}'`:"none"} returnValue=${gd(E)} gasRefund=${u.execResult.gasRefund??0} ]`)}const d=u.execResult.exceptionError;return d&&d.error!==R.errorMessages.CODESTORE_OUT_OF_GAS&&(u.execResult.selfdestruct=new Set,u.execResult.createdAddresses=new Set,u.execResult.gasRefund=D),d&&!(this.common.hardfork()===q.Chainstart&&d.error===R.errorMessages.CODESTORE_OUT_OF_GAS)?(u.execResult.logs=[],await this.journal.revert(),this.common.isActivatedEIP(1153)&&this.transientStorage.revert(),this.DEBUG&&Ke("message checkpoint reverted")):(await this.journal.commit(),this.common.isActivatedEIP(1153)&&this.transientStorage.commit(),this.DEBUG&&Ke("message checkpoint committed")),await this._emit("afterMessage",u),c.depth===0&&((p=this._optsCached.profiler)==null?void 0:p.enabled)===!0&&this.performanceLogger.stopTimer(s,0),(h=c.accessWitness)==null||h.commit(),u}async runCode(n){this._block=n.block??Zf(),this._tx={gasPrice:n.gasPrice??D,origin:n.origin??n.caller??pa()};const s=new wi({code:n.code,data:n.data,gasLimit:n.gasLimit??BigInt(16777215),to:n.to??pa(),caller:n.caller,value:n.value,depth:n.depth,selfdestruct:n.selfdestruct??new Set,isStatic:n.isStatic,blobVersionedHashes:n.blobVersionedHashes});return this.runInterpreter(s,{pc:n.pc})}getPrecompile(n){return this.precompiles.get(kt(n.bytes))}runPrecompile(n,s,c){if(typeof n!="function")throw $("Invalid precompile");const l={data:s,gasLimit:c,common:this.common,_EVM:this,_debug:this.DEBUG?m_:void 0,stateManager:this.stateManager};return n(l)}async _loadCode(n){if(!n.code){const s=this.getPrecompile(n.codeAddress);if(s)n.code=s,n.isCompiled=!0;else{if(n.code=await this.stateManager.getCode(n.codeAddress),this.common.isActivatedEIP(7702)&&dt(n.code.slice(0,3),Ug)){const c=new Ea(n.code.slice(3,24));n.code=await this.stateManager.getCode(c),n.depth===0&&this.journal.addAlwaysWarmAddress(c.toString())}n.isCompiled=!1,n.chargeCodeAccesses=!0}}}async _generateAddress(n){let s;if(n.salt)s=sx(n.caller.bytes,n.salt,n.code);else{let c=await this.stateManager.getAccount(n.caller);c||(c=new en);const l=c.nonce-Ne;s=ix(n.caller.bytes,Fe(l))}return new Ea(s)}async _reduceSenderBalance(n,s){if(n.balance-=s.value,n.balance<D)throw new R(R.errorMessages.INSUFFICIENT_BALANCE);const c=this.journal.putAccount(s.caller,n);return this.DEBUG&&Ke(`Reduced sender (${s.caller}) balance (-> ${n.balance})`),c}async _addToBalance(n,s){const c=n.balance+s.value;if(c>I3)throw new R(R.errorMessages.VALUE_OVERFLOW);n.balance=c,await this.journal.putAccount(s.to,n),this.DEBUG&&Ke(`Added toAccount (${s.to}) balance (-> ${n.balance})`)}postMessageCleanup(){this.common.isActivatedEIP(1153)&&this.transientStorage.clear()}shallowCopy(){const n=this.common.copy();n.setHardfork(this.common.hardfork());const s={...this._optsCached,common:n,stateManager:this.stateManager.shallowCopy()};return s.stateManager.common=n,new jc(s)}getPerformanceLogs(){return this.performanceLogger.getLogs()}clearPerformanceLogs(){this.performanceLogger.clear()}}jc.supportedHardforks=[q.Chainstart,q.Homestead,q.Dao,q.TangerineWhistle,q.SpuriousDragon,q.Byzantium,q.Constantinople,q.Petersburg,q.Istanbul,q.MuirGlacier,q.Berlin,q.London,q.ArrowGlacier,q.GrayGlacier,q.MergeNetsplitBlock,q.Paris,q.Shanghai,q.Cancun,q.Prague,q.Osaka,q.Bpo1,q.Bpo2,q.Bpo3,q.Bpo4,q.Bpo5,q.Amsterdam];Ii("evm:binaryTree:aw");BigInt(1900);BigInt(200);BigInt(3e3);BigInt(500);BigInt(6200);class b_{constructor(n){this.map=new Map,this.getStorage=n}async get(n,s){const c=kt(n.bytes),l=this.map.get(c);if(l!==void 0){const d=kt(s),m=l.get(d);if(m!==void 0)return m}const u=await this.getStorage(n,s);return this.put(n,s,u),u}put(n,s,c){const l=kt(n.bytes);let u=this.map.get(l);u===void 0&&(u=new Map,this.map.set(l,u));const d=kt(s);u.has(d)===!1&&u.set(d,c)}clear(){this.map=new Map}}async function y_(a,n,s){const c=await a.getAccount(n)??new en;if(c.nonce=s.nonce??c.nonce,c.balance=s.balance??c.balance,c.storageRoot=s.storageRoot??c.storageRoot,c.codeHash=s.codeHash??c.codeHash,c.codeSize=s.codeSize??c.codeSize,a._debug!==void 0)for(const[l,u]of Object.entries(s))a._debug(`modifyAccountFields address=${n.toString()} ${l}=${u instanceof Uint8Array?xe(u):u} `);await a.putAccount(n,c)}class Cd{constructor(n={}){this.accountStack=[],this.codeStack=[],this.storageStack=[],this.checkpointSync(),this.originalStorageCache=new b_(this.getStorage.bind(this)),this.common=n.common}topAccountStack(){return this.accountStack[this.accountStack.length-1]}topCodeStack(){return this.codeStack[this.codeStack.length-1]}topStorageStack(){return this.storageStack[this.storageStack.length-1]}checkpointSync(){const n=new Map(this.topAccountStack());for(const[s,c]of n){const l=c!==void 0?Object.assign(Object.create(Object.getPrototypeOf(c)),c):void 0;n.set(s,l)}this.accountStack.push(n),this.codeStack.push(new Map(this.topCodeStack())),this.storageStack.push(new Map(this.topStorageStack()))}async getAccount(n){return this.topAccountStack().get(n.toString())}async putAccount(n,s){this.topAccountStack().set(n.toString(),s)}async deleteAccount(n){this.topAccountStack().set(n.toString(),void 0)}async modifyAccountFields(n,s){await y_(this,n,s)}async getCode(n){return this.topCodeStack().get(n.toString())??new Uint8Array(0)}async putCode(n,s){var c;this.topCodeStack().set(n.toString(),s),await this.getAccount(n)===void 0&&await this.putAccount(n,new en),await this.modifyAccountFields(n,{codeHash:(((c=this.common)==null?void 0:c.customCrypto.keccak256)??xa)(s)})}async getCodeSize(n){return(await this.getCode(n)).length}async getStorage(n,s){return this.topStorageStack().get(`${n.toString()}_${xe(s)}`)??new Uint8Array(0)}async putStorage(n,s,c){this.topStorageStack().set(`${n.toString()}_${xe(s)}`,c)}async clearStorage(){}async checkpoint(){this.checkpointSync()}async commit(){this.accountStack.splice(-2,1),this.codeStack.splice(-2,1),this.storageStack.splice(-2,1)}async revert(){this.accountStack.pop(),this.codeStack.pop(),this.storageStack.pop()}async flush(){}clearCaches(){}shallowCopy(){const n=new Cd({common:this.common});for(let s=0;s<this.accountStack.length;s++)n.accountStack.push(new Map(this.accountStack[s])),n.codeStack.push(new Map(this.codeStack[s])),n.storageStack.push(new Map(this.storageStack[s]));return n}getStateRoot(){throw $("Method not implemented.")}setStateRoot(){throw $("Method not implemented.")}hasStateRoot(){throw $("Method not implemented.")}}async function x_(a){const n=a??{};return n.bn254=new d_,n.common===void 0&&(n.common=new jx({chain:Lx})),n.blockchain===void 0&&(n.blockchain=new o6),n.stateManager===void 0&&(n.stateManager=new Cd),new jc(n)}var Dp="0xd8da6bf26964af9d7eed9e03e53415d37aa96045",E_="0x1000000000000000000000000000000000000001",__=30000000n,v_=new Set([0,243,253,254,255]);function A_(a){const n=a.startsWith("0x")?a.slice(2):a;if(n.length<2)return{bytecode:a+"00",appendedStop:!0};const s=parseInt(n.slice(-2),16);return v_.has(s)?{bytecode:a,appendedStop:!1}:{bytecode:a+"00",appendedStop:!0}}function S_(a){const n=String((a==null?void 0:a.error)??(a==null?void 0:a.message)??a).toLowerCase();return n.includes("revert")?"revert":n.includes("out of gas")?"outOfGas":n.includes("stack underflow")?"stackUnderflow":n.includes("stack overflow")?"stackOverflow":n.includes("invalid jump")?"invalidJump":n.includes("static")?"writeProtection":"invalid"}var T_=class{constructor(){ie(this,"evmPromise",null)}getEvm(){return this.evmPromise||(this.evmPromise=x_({allowUnlimitedContractSize:!0})),this.evmPromise}async execute(a){const n=await this.getEvm();let s=0;const c=[];let l=null;const u=new Map,d=async(h,y)=>{const b=c[c.length-1];if(!b){y==null||y();return}const E=[...h.stack].reverse().map(M=>"0x"+M.toString(16)),_=h.memory.length>0?xe(h.memory):"0x";if(b.steps.length>0){const M=b.steps[b.steps.length-1];M.stackAfter=E,M.memoryAfter=_}let v=u.get(b.id);v||(v={},u.set(b.id,v));const C=Object.keys(v).length>0?{...v}:void 0,B=[];if(h.opcode.code===85&&E.length>=2){const M=E[0],W=E[1];try{const K=hl(b.codeAddress),ue=_t("0x"+BigInt(M).toString(16).padStart(64,"0")),pe=await n.stateManager.getStorage(K,ue),Q=pe.length>0?xe(pe):"0x0";B.push({slot:M,before:Q,after:W}),v[M]=W}catch{}}b.steps.push({pc:h.pc,opcode:h.opcode.code,mnemonic:h.opcode.name,gasRemaining:h.gasLeft,gasCost:BigInt(h.opcode.fee)+(h.opcode.dynamicFee??0n),stack:E,memory:{current:_,expandedSize:null},storageChanges:B,transientStorageChanges:[],depth:h.depth,storage:C}),y==null||y()},m=(h,y)=>{var B,M;const b=c.length===0,E=c[c.length-1];let _="0x";h.code&&h.code instanceof Uint8Array?_=xe(h.code):h.data&&h.data.length>0&&(_=xe(h.data));let v="CALL";if(b)v="ROOT";else if(E&&E.steps.length>0){const K=E.steps[E.steps.length-1].mnemonic;K==="CREATE"?v="CREATE":K==="CREATE2"?v="CREATE2":K==="STATICCALL"?v="STATICCALL":K==="DELEGATECALL"?v="DELEGATECALL":K==="CALLCODE"?v="CALLCODE":v="CALL"}const C={id:b?"root":`frame-${s++}`,type:v,codeAddress:((B=h.to)==null?void 0:B.toString())??"0x0000000000000000000000000000000000000000",code:_,input:h.data?xe(h.data):"0x",value:h.value??0n,caller:((M=h.caller)==null?void 0:M.toString())??Dp,gas:h.gasLimit,steps:[],children:[],result:{exitReason:"success",returnData:"0x",gasUsed:0n}};if(b)C.code=a.bytecode,a.mode==="deploy"?C.input=a.bytecode:C.input=a.calldata??"0x",l=C;else if(E){const W={frame:C,stepIndex:Math.max(0,E.steps.length-1)};E.children.push(W)}c.push(C),y==null||y()},p=(h,y)=>{var E;const b=c.pop();if(b&&(b.result={exitReason:h.execResult.exceptionError?S_(h.execResult.exceptionError):"success",returnData:xe(h.execResult.returnValue),gasUsed:h.execResult.executionGasUsed,deployedAddress:(E=h.createdAddress)==null?void 0:E.toString()},h.createdAddress&&(b.type==="CREATE"||b.type==="CREATE2"||b.type==="ROOT")&&(b.codeAddress=h.createdAddress.toString()),b.steps.length>0)){const _=b.steps[b.steps.length-1];if(!_.stackAfter){const v=_.opcode;v===0||v===254?_.stackAfter=_.stack:v===243||v===253?_.stackAfter=_.stack.slice(2):v===255?_.stackAfter=_.stack.slice(1):_.stackAfter=_.stack}_.memoryAfter||(_.memoryAfter=_.memory.current)}y==null||y()};n.events.on("step",d),n.events.on("beforeMessage",m),n.events.on("afterMessage",p);try{const h=a.gasLimit??__,y=hl(a.from??Dp),{bytecode:b,appendedStop:E}=A_(a.bytecode);let _;const v=_t(b);if(a.mode==="deploy")_=await n.runCall({data:v,gasLimit:h,value:a.value??0n,caller:y});else{const M=hl(a.to??E_);await n.stateManager.putCode(M,v),_=await n.runCall({to:M,data:a.calldata?_t(a.calldata):void 0,gasLimit:h,value:a.value??0n,caller:y})}if(!l)throw new Error("Internal error: rootFrame not initialized");const C=l;if(C.steps.length===0)throw new Error("Execution produced no steps. The bytecode may be empty or invalid.");async function B(M){if(M.code==="0x"&&M.codeAddress)try{const W=hl(M.codeAddress),K=await n.stateManager.getCode(W);K&&K.length>0&&(M.code=xe(K))}catch{}for(const W of M.children)await B(W.frame)}if(await B(C),E&&C.steps.length>0){const M=C.steps[C.steps.length-1],K=(a.bytecode.startsWith("0x")?a.bytecode.slice(2):a.bytecode).length/2;M.opcode===0&&M.pc===K&&C.steps.pop()}return{root:C,metadata:{mode:a.mode==="deploy"?"deploy":"call",success:!_.execResult.exceptionError,returnData:xe(_.execResult.returnValue),gasUsed:_.execResult.executionGasUsed}}}finally{n.events.removeListener("step",d),n.events.removeListener("beforeMessage",m),n.events.removeListener("afterMessage",p)}}async getState(){throw new Error("EthereumjsEngine.getState() not yet implemented")}async resetState(){this.evmPromise=null}async setState(a){throw new Error("EthereumjsEngine.setState() not yet implemented")}},Lp=new Set([240,241,242,244,245,250]),O_=class{constructor(a){ie(this,"trace");ie(this,"flatSteps");ie(this,"_globalStepIndex",0);this.trace=a,this.flatSteps=C_(a.root)}get globalStepIndex(){return this._globalStepIndex}get currentFrame(){return this.flatSteps[this._globalStepIndex].frame}get currentStepIndex(){return this.flatSteps[this._globalStepIndex].stepIndex}get currentStep(){const a=this.flatSteps[this._globalStepIndex];return a.isFrameEnd?null:a.frame.steps[a.stepIndex]}get isAtFrameEnd(){return this.flatSteps[this._globalStepIndex].isFrameEnd===!0}stepForward(){this._globalStepIndex<this.flatSteps.length-1&&this._globalStepIndex++}stepBackward(){this._globalStepIndex>0&&this._globalStepIndex--}canStepOver(){const a=this.currentStep;return a!==null&&Lp.has(a.opcode)}canStepOut(){return this.getCallStack().length>1}stepOver(){const a=this.currentStep;if(!a||!Lp.has(a.opcode)){this.stepForward();return}const n=this.currentFrame,s=this.currentStepIndex;for(;this._globalStepIndex<this.flatSteps.length-1;){this._globalStepIndex++;const c=this.flatSteps[this._globalStepIndex];if(c.frame===n&&c.stepIndex!==s)break}}stepOut(){const a=this.getCallStack();if(a.length<=1){this.jumpToEnd();return}const n=a.length;for(;this._globalStepIndex<this.flatSteps.length-1&&(this._globalStepIndex++,!(this.flatSteps[this._globalStepIndex].callStack.length<n)););}jumpTo(a){this._globalStepIndex=Math.max(0,Math.min(a,this.flatSteps.length-1))}jumpToStart(){this._globalStepIndex=0}jumpToEnd(){this._globalStepIndex=this.flatSteps.length-1}addBreakpoint(a){throw new Error("addBreakpoint() not yet implemented")}removeBreakpoint(a){}getBreakpoints(){return[]}continueForward(){return!1}continueBackward(){return!1}getCallStack(){return this.flatSteps[this._globalStepIndex].callStack}};function C_(a){const n=[];function s(c,l){const u=[...l,c];let d=0;for(let m=0;m<c.steps.length;m++)for(n.push({frame:c,stepIndex:m,callStack:u});d<c.children.length&&c.children[d].stepIndex===m;)s(c.children[d].frame,u),d++;n.push({frame:c,stepIndex:-1,callStack:u,isFrameEnd:!0})}return s(a,[]),n}function re(a,n,s,c,l=0){return{code:a,mnemonic:n,inputNames:s,outputNames:c,immediateBytes:l}}var w_=[re(0,"STOP",[],[]),re(1,"ADD",["a","b"],["sum"]),re(2,"MUL",["a","b"],["product"]),re(3,"SUB",["a","b"],["difference"]),re(4,"DIV",["a","b"],["quotient"]),re(5,"SDIV",["a","b"],["quotient"]),re(6,"MOD",["a","b"],["remainder"]),re(7,"SMOD",["a","b"],["remainder"]),re(8,"ADDMOD",["a","b","N"],["result"]),re(9,"MULMOD",["a","b","N"],["result"]),re(10,"EXP",["a","exponent"],["result"]),re(11,"SIGNEXTEND",["b","x"],["result"]),re(16,"LT",["a","b"],["result"]),re(17,"GT",["a","b"],["result"]),re(18,"SLT",["a","b"],["result"]),re(19,"SGT",["a","b"],["result"]),re(20,"EQ",["a","b"],["result"]),re(21,"ISZERO",["a"],["result"]),re(22,"AND",["a","b"],["result"]),re(23,"OR",["a","b"],["result"]),re(24,"XOR",["a","b"],["result"]),re(25,"NOT",["a"],["result"]),re(26,"BYTE",["i","x"],["result"]),re(27,"SHL",["shift","value"],["result"]),re(28,"SHR",["shift","value"],["result"]),re(29,"SAR",["shift","value"],["result"]),re(32,"KECCAK256",["offset","size"],["hash"]),re(48,"ADDRESS",[],["address"]),re(49,"BALANCE",["address"],["balance"]),re(50,"ORIGIN",[],["address"]),re(51,"CALLER",[],["address"]),re(52,"CALLVALUE",[],["value"]),re(53,"CALLDATALOAD",["i"],["data"]),re(54,"CALLDATASIZE",[],["size"]),re(55,"CALLDATACOPY",["destOffset","offset","size"],[]),re(56,"CODESIZE",[],["size"]),re(57,"CODECOPY",["destOffset","offset","size"],[]),re(58,"GASPRICE",[],["price"]),re(59,"EXTCODESIZE",["address"],["size"]),re(60,"EXTCODECOPY",["address","destOffset","offset","size"],[]),re(61,"RETURNDATASIZE",[],["size"]),re(62,"RETURNDATACOPY",["destOffset","offset","size"],[]),re(63,"EXTCODEHASH",["address"],["hash"]),re(64,"BLOCKHASH",["blockNumber"],["hash"]),re(65,"COINBASE",[],["address"]),re(66,"TIMESTAMP",[],["timestamp"]),re(67,"NUMBER",[],["blockNumber"]),re(68,"PREVRANDAO",[],["prevRandao"]),re(69,"GASLIMIT",[],["gasLimit"]),re(70,"CHAINID",[],["chainId"]),re(71,"SELFBALANCE",[],["balance"]),re(72,"BASEFEE",[],["baseFee"]),re(80,"POP",["value"],[]),re(81,"MLOAD",["offset"],["value"]),re(82,"MSTORE",["offset","value"],[]),re(83,"MSTORE8",["offset","value"],[]),re(84,"SLOAD",["key"],["value"]),re(85,"SSTORE",["key","value"],[]),re(86,"JUMP",["dest"],[]),re(87,"JUMPI",["dest","cond"],[]),re(88,"PC",[],["counter"]),re(89,"MSIZE",[],["size"]),re(90,"GAS",[],["gas"]),re(91,"JUMPDEST",[],[]),re(92,"TLOAD",["key"],["value"]),re(93,"TSTORE",["key","value"],[]),re(94,"MCOPY",["destOffset","offset","size"],[]),re(95,"PUSH0",[],["value"]),...Array.from({length:32},(a,n)=>re(96+n,`PUSH${n+1}`,[],["value"],n+1)),...Array.from({length:16},(a,n)=>re(128+n,`DUP${n+1}`,[`value${n+1}`],[`value${n+1}`,"copy"])),...Array.from({length:16},(a,n)=>re(144+n,`SWAP${n+1}`,["a","b"],["b","a"])),re(160,"LOG0",["offset","size"],[]),re(161,"LOG1",["offset","size","topic1"],[]),re(162,"LOG2",["offset","size","topic1","topic2"],[]),re(163,"LOG3",["offset","size","topic1","topic2","topic3"],[]),re(164,"LOG4",["offset","size","topic1","topic2","topic3","topic4"],[]),re(240,"CREATE",["value","offset","size"],["address"]),re(241,"CALL",["gas","address","value","argsOffset","argsLength","retOffset","retLength"],["success"]),re(242,"CALLCODE",["gas","address","value","argsOffset","argsLength","retOffset","retLength"],["success"]),re(243,"RETURN",["offset","size"],[]),re(244,"DELEGATECALL",["gas","address","argsOffset","argsLength","retOffset","retLength"],["success"]),re(245,"CREATE2",["value","offset","size","salt"],["address"]),re(250,"STATICCALL",["gas","address","argsOffset","argsLength","retOffset","retLength"],["success"]),re(253,"REVERT",["offset","size"],[]),re(254,"INVALID",[],[]),re(255,"SELFDESTRUCT",["address"],[])],Fg=new Map,Xg=new Map;for(const a of w_)Fg.set(a.code,a),Xg.set(a.mnemonic,a);function wd(a){return Fg.get(a)}function N_(a){return Xg.get(a)}function B_(a){let n="",s=0;for(;s<a.length;)if(a[s]==="/"&&a[s+1]==="/")for(;s<a.length&&a[s]!==`
`;)s++;else if(a[s]==="/"&&a[s+1]==="*"){for(s+=2;s<a.length-1&&!(a[s]==="*"&&a[s+1]==="/");)s++;s+=2}else n+=a[s],s++;return n}function U_(a){if(a=a.trim(),a.startsWith("0x")||a.startsWith("0X")){if(a.length<=2)throw new Error(`Invalid hex value: ${a}`);return BigInt(a)}return BigInt(a)}function R_(a,n){if(a<0n)throw new Error(`Negative value not allowed: ${a}`);const s=(1n<<BigInt(n*8))-1n;if(a>s)throw new Error(`Value ${a} does not fit in ${n} byte(s) (max ${s})`);return a.toString(16).padStart(n*2,"0")}function Gp(a){const s=B_(a).split(`
`);let c="";for(let l=0;l<s.length;l++){const u=s[l].trim();if(u==="")continue;const d=u.split(/\s+/),m=d[0].toUpperCase(),p=N_(m);if(!p)throw new Error(`Unknown mnemonic "${d[0]}" on line ${l+1}`);if(c+=p.code.toString(16).padStart(2,"0"),p.immediateBytes>0){if(d.length<2)throw new Error(`${m} requires a ${p.immediateBytes}-byte immediate value on line ${l+1}`);try{const h=U_(d[1]);c+=R_(h,p.immediateBytes)}catch(h){throw new Error(`Invalid immediate value for ${m} on line ${l+1}: ${h.message}`)}}}return"0x"+c}function D_(a){let n=a;if((n.startsWith("0x")||n.startsWith("0X"))&&(n=n.slice(2)),n=n.toLowerCase(),n.length%2!==0)throw new Error("Bytecode has odd number of hex characters");if(!/^[0-9a-f]*$/.test(n))throw new Error("Bytecode contains non-hex characters");const s=[];let c=0;for(;c<n.length;){const l=parseInt(n.slice(c,c+2),16);c+=2;const u=wd(l);if(!u){s.push(`INVALID(0x${l.toString(16).padStart(2,"0")})`);continue}if(u.immediateBytes>0){const d=n.slice(c,c+u.immediateBytes*2);c+=u.immediateBytes*2,d.length<u.immediateBytes*2?s.push(`${u.mnemonic} 0x${d} // truncated`):s.push(`${u.mnemonic} 0x${d}`)}else s.push(u.mnemonic)}return s.join(`
`)}var L_={stack:!0,memory:!0,storage:!0,transientStorage:!1,callStack:!0,bytecode:!0,returnData:!0},G_="0x4f5b36c88Bf66720E9c3C07A0021587f5210635E",I_="0x6F98b11D0B9659Ba12BAaEcCF17F3D7128aEadc8";function M_(a,n){const[s,c]=Be.useState(null),[,l]=Be.useState(0),[u,d]=Be.useState([]),[m,p]=Be.useState(L_),[h,y]=Be.useState("mnemonic"),[b,E]=Be.useState((n==null?void 0:n.initialMode)??"deploy"),[_,v]=Be.useState((n==null?void 0:n.initialCalldata)??""),[C,B]=Be.useState(null),[M,W]=Be.useState((n==null?void 0:n.initialSource)??""),[K,ue]=Be.useState(""),pe=Be.useRef(null),Q=Be.useCallback(()=>l(te=>te+1),[]),ee=h==="mnemonic"?M:K,ce=Be.useCallback(te=>{h==="mnemonic"?W(te):ue(te)},[h]),de=Be.useCallback(te=>{if(te!==h){if(te==="bytecode")try{const ne=Gp(M);ue(ne),pe.current=ne,B(null)}catch(ne){B(`Assembly error: ${ne instanceof Error?ne.message:String(ne)}`)}else if(K===pe.current)B(null);else try{W(D_(K)),B(null)}catch(ne){B(`Disassembly error: ${ne instanceof Error?ne.message:String(ne)}`)}y(te)}},[h,M,K]),ye=Be.useCallback(async()=>{try{let te;h==="mnemonic"?te=Gp(M):te=K;const ne=await a.execute({bytecode:te,mode:b,from:G_,...b==="call"?{to:I_,calldata:_||void 0}:{}});c(new O_(ne)),B(null)}catch(te){B(te instanceof Error?te.message:String(te))}},[a,h,M,K,b,_]),Ee=Be.useCallback(()=>{s==null||s.stepForward(),Q()},[s,Q]),fe=Be.useCallback(()=>{s==null||s.stepBackward(),Q()},[s,Q]),oe=Be.useCallback(()=>{s==null||s.stepOver(),Q()},[s,Q]),k=Be.useCallback(()=>{s==null||s.stepOut(),Q()},[s,Q]),z=Be.useCallback(te=>{s==null||s.jumpTo(te),Q()},[s,Q]),w=Be.useCallback(()=>{s==null||s.jumpToStart(),Q()},[s,Q]),H=Be.useCallback(()=>{s==null||s.jumpToEnd(),Q()},[s,Q]),J=Be.useCallback(()=>{s==null||s.continueForward(),Q()},[s,Q]),se=Be.useCallback(()=>{s==null||s.continueBackward(),Q()},[s,Q]),le=Be.useCallback(te=>{s&&(s.addBreakpoint(te),d(s.getBreakpoints()))},[s]),A=Be.useCallback(te=>{s&&(s.removeBreakpoint(te),d(s.getBreakpoints()))},[s]),O=Be.useCallback(async()=>{await a.resetState(),c(null)},[a]),P=Be.useCallback(te=>{p(ne=>({...ne,[te]:!ne[te]}))},[]),ae=Be.useCallback(()=>{B(null)},[]);return{session:s,stepForward:Ee,stepBackward:fe,stepOver:oe,stepOut:k,canStepOver:(s==null?void 0:s.canStepOver())??!1,canStepOut:(s==null?void 0:s.canStepOut())??!1,jumpTo:z,jumpToStart:w,jumpToEnd:H,continueForward:J,continueBackward:se,addBreakpoint:le,removeBreakpoint:A,breakpoints:u,resetState:O,visiblePanels:m,togglePanel:P,inputMode:h,setInputMode:de,executionMode:b,setExecutionMode:E,source:ee,setSource:ce,calldata:_,setCalldata:v,execute:ye,error:C,dismissError:ae}}function H_(a,n,s){const c=a.match(/^DUP(\d+)$/);if(c){const u=parseInt(c[1],10);return n===u-1?"value":null}const l=a.match(/^SWAP(\d+)$/);if(l){const u=parseInt(l[1],10);return n===0?"a":n===u?"b":null}return n<s.length?s[n]:null}function k_({session:a}){const n=a.currentStep,s=a.isAtFrameEnd,c=a.currentFrame,l=n??(c.steps.length>0?c.steps[c.steps.length-1]:null);if(!l)return S.jsxs("div",{className:"evmd-panel evmd-stack",children:[S.jsx("h3",{children:"Stack"}),S.jsx("div",{className:"evmd-empty",children:"empty"})]});const u=s&&l.stackAfter?l.stackAfter:l.stack,d=s?null:wd(l.opcode),m=(d==null?void 0:d.inputNames)??[],p=l.mnemonic;return S.jsxs("div",{className:"evmd-panel evmd-stack",children:[S.jsx("h3",{children:"Stack"}),u.length===0?S.jsx("div",{className:"evmd-empty",children:"empty"}):S.jsx("table",{children:S.jsx("tbody",{children:u.map((h,y)=>{const b=s?null:H_(p,y,m);return S.jsxs("tr",{children:[S.jsx("td",{className:"evmd-stack-index",children:y}),S.jsx("td",{className:"evmd-stack-value",title:h,children:h}),b&&S.jsx("td",{className:"evmd-stack-input-name",children:b})]},y)})})})]})}var z_=Array.from({length:32},(a,n)=>n.toString(16).padStart(2,"0"));function j_({session:a}){const[n,s]=Be.useState(null),c=a.currentStep,l=a.isAtFrameEnd,u=a.currentFrame,d=c??(u.steps.length>0?u.steps[u.steps.length-1]:null);if(!d)return S.jsxs("div",{className:"evmd-panel evmd-memory",children:[S.jsx("h3",{children:"Memory"}),S.jsx("div",{className:"evmd-empty",children:"empty"})]});const m=l&&d.memoryAfter?d.memoryAfter:d.memory.current,p=m.startsWith("0x")?m.slice(2):m,h=[];for(let y=0;y<p.length;y+=64){const b=p.slice(y,y+64),E=[];for(let _=0;_<b.length;_+=2)E.push(b.slice(_,_+2));for(;E.length<32;)E.push("00");h.push(E)}return S.jsxs("div",{className:"evmd-panel evmd-memory",children:[S.jsx("h3",{children:"Memory"}),h.length===0?S.jsx("div",{className:"evmd-empty",children:"empty"}):S.jsxs("div",{className:"evmd-memory-grid",children:[S.jsxs("div",{className:"evmd-memory-row evmd-memory-header-row",children:[S.jsx("span",{className:"evmd-memory-offset"}),z_.map((y,b)=>S.jsx("span",{className:`evmd-memory-header${n===b?" evmd-memory-col-hover":""}`,onMouseEnter:()=>s(b),onMouseLeave:()=>s(null),children:y},b))]}),h.map((y,b)=>S.jsxs("div",{className:"evmd-memory-row",children:[S.jsxs("span",{className:"evmd-memory-offset",children:["0x",(b*32).toString(16).padStart(4,"0")]}),y.map((E,_)=>S.jsx("span",{className:`evmd-memory-byte${n===_?" evmd-memory-col-hover":""}`,onMouseEnter:()=>s(_),onMouseLeave:()=>s(null),children:E},_))]},b))]})]})}function V_(a){let n=a;if((n.startsWith("0x")||n.startsWith("0X"))&&(n=n.slice(2)),n=n.toLowerCase(),n.length%2!==0||!/^[0-9a-f]*$/.test(n))return[];const s=[];let c=0;for(;c*2<n.length;){const l=parseInt(n.slice(c*2,c*2+2),16),u=wd(l),d=c;if(c++,!u){s.push({pc:d,mnemonic:`INVALID(0x${l.toString(16).padStart(2,"0")})`});continue}if(u.immediateBytes>0){const m=n.slice(c*2,c*2+u.immediateBytes*2);c+=u.immediateBytes,s.push({pc:d,mnemonic:u.mnemonic,operand:m.length>0?`0x${m}`:void 0})}else s.push({pc:d,mnemonic:u.mnemonic})}return s}function P_({session:a,autoScroll:n=!0}){const s=a.currentStep,c=(s==null?void 0:s.pc)??-1,l=a.isAtFrameEnd,d=a.currentFrame.code,m=Be.useRef(null),p=Be.useMemo(()=>V_(d),[d]);return Be.useEffect(()=>{var h;n&&((h=m.current)==null||h.scrollIntoView({behavior:"smooth",block:"center"}))},[c,l,n]),S.jsxs("div",{className:"evmd-panel evmd-bytecode-view",children:[S.jsx("h3",{children:"Bytecode"}),S.jsxs("div",{className:"evmd-bytecode-listing",children:[p.map(h=>{const y=h.pc===c;return S.jsxs("div",{ref:y?m:void 0,className:`evmd-bytecode-line${y?" evmd-bytecode-current":""}`,children:[S.jsx("span",{className:"evmd-bytecode-arrow",children:y?"":" "}),S.jsx("span",{className:"evmd-bytecode-pc",children:h.pc.toString().padStart(4," ")}),S.jsx("span",{className:"evmd-bytecode-mnemonic",children:h.mnemonic}),h.operand&&S.jsx("span",{className:"evmd-bytecode-operand",children:h.operand})]},h.pc)}),S.jsxs("div",{ref:l?m:void 0,className:`evmd-bytecode-line evmd-frame-end${l?" evmd-bytecode-current":""}`,children:[S.jsx("span",{className:"evmd-bytecode-arrow",children:l?"":" "}),S.jsx("span",{className:"evmd-bytecode-pc",children:"END"}),l&&S.jsx("span",{className:"evmd-bytecode-mnemonic evmd-frame-end-label",children:a.currentFrame.result.exitReason.toUpperCase()})]})]})]})}function Vn({source:a,mode:n="deploy",calldata:s,showMemory:c=!1}){const l=Be.useMemo(()=>new T_,[]),u=M_(l,{initialSource:a,initialMode:n,initialCalldata:s}),[d,m]=Be.useState(!0);Be.useEffect(()=>{let v=!0;return(async()=>{await u.execute(),v&&m(!1)})(),()=>{v=!1}},[]);const p=Be.useCallback(v=>{u.setCalldata(v.target.value)},[u]),h=Be.useCallback(async()=>{m(!0),await u.execute(),m(!1)},[u]),y=Be.useCallback(v=>{v.key==="Enter"&&h()},[h]),{session:b}=u,E=(b==null?void 0:b.flatSteps.length)??0,_=((b==null?void 0:b.globalStepIndex)??0)+1;return S.jsxs("div",{className:"inline-debugger",children:[n==="call"&&S.jsxs("div",{className:"inline-debugger-calldata",children:[S.jsx("span",{className:"inline-debugger-calldata-label",children:"Calldata:"}),S.jsx("input",{className:"inline-debugger-calldata-input",value:u.calldata,onChange:p,onKeyDown:y,placeholder:"0x...",spellCheck:!1}),S.jsx("button",{onClick:h,className:"inline-debugger-run-btn",children:"Run"})]}),u.error&&S.jsx("div",{className:"inline-debugger-error",children:u.error}),d&&!u.error&&S.jsx("div",{className:"inline-debugger-loading",children:"Loading..."}),!d&&!u.error&&!b&&S.jsx("div",{className:"inline-debugger-loading",children:"No session"}),b&&!u.error&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"inline-debugger-controls",children:[S.jsx("button",{onClick:u.jumpToStart,disabled:b.globalStepIndex===0,title:"Jump to start",children:"|"}),S.jsx("button",{onClick:u.stepBackward,disabled:b.globalStepIndex===0,title:"Step backward",children:""}),S.jsxs("span",{className:"inline-debugger-step-counter",children:[_," / ",E]}),S.jsx("button",{onClick:u.stepForward,disabled:b.globalStepIndex===E-1,title:"Step forward",children:""}),S.jsx("button",{onClick:u.jumpToEnd,disabled:b.globalStepIndex===E-1,title:"Jump to end",children:"|"})]}),S.jsxs("div",{className:"inline-debugger-panels",children:[S.jsx(P_,{session:b,autoScroll:!1}),S.jsx(k_,{session:b})]}),c&&S.jsx("div",{className:"inline-debugger-memory",children:S.jsx(j_,{session:b})})]})]})}function q_(){return S.jsxs("article",{className:"tutorial",children:[S.jsx("h1",{children:"Code, program counter and stack"}),S.jsx("p",{children:"The Ethereum Virtual Machine (EVM) is a stack-based virtual machine that specifies how bytecode is executed and how it can modify the world state."}),S.jsx("p",{children:"The EVM is one of the most complex parts of Ethereum. In this tutorial, we'll explore how it works, starting with a very minimal version of it and adding new concepts as we go."}),S.jsx("hr",{}),S.jsx("p",{children:"The most minimal version of the EVM we can start with has three components: the code being executed, a program counter that indicates which part of the code will be executed next, and a stack."}),S.jsx("p",{children:"But before going into the details of this, let's first talk about what we mean by code, and how we'll represent it."}),S.jsx("h2",{children:"Bytecode and instructions"}),S.jsx("p",{children:"An on-chain program is essentially an account with code. This code is just a sequence of bytes, which we call bytecode. Take this, for example:"}),S.jsx("pre",{className:"code-block",children:"60425f526001601ff3"}),S.jsxs("p",{children:["This is a simple program that will return ",S.jsx("code",{children:"0x42"})," to the caller. We can represent the same program in a more friendly way, with the list of instructions that are encoded by this bytecode:"]}),S.jsx("pre",{className:"code-block",children:`PUSH1 0x42
PUSH0
MSTORE
PUSH1 0x01
PUSH1 0x1f
RETURN`}),S.jsxs("p",{children:["How do we go from the hexadecimal representation to this instructions representation? We first start at the first byte, ",S.jsx("code",{children:"60"}),". This value represents the ",S.jsx("code",{children:"PUSH1"})," instruction, which takes the next byte in the code and pushes it to the stack. Since the next byte is"," ",S.jsx("code",{children:"42"}),", we can represent the whole instruction as"," ",S.jsx("code",{children:"PUSH1 0x42"}),". To be more precise, we say that"," ",S.jsx("code",{children:"60"})," is the ",S.jsx("em",{children:"opcode"})," of the ",S.jsx("code",{children:"PUSH1"})," ","instruction."]}),S.jsxs("p",{children:["Now we continue with the next byte after that, ",S.jsx("code",{children:"5F"}),". This is the opcode of the ",S.jsx("code",{children:"PUSH0"})," instruction, that just pushes 0 to the stack. Since, unlike ",S.jsx("code",{children:"PUSH1"}),", this instruction doesn't take any values from the code, we just continue with the next byte,"," ",S.jsx("code",{children:"52"}),". We continue in this fashion until we reach the end of the bytecode."]}),S.jsx("p",{children:"In the rest of this tutorial, we'll mostly use the instructions representation of the programs we examine."}),S.jsx("h2",{children:"Executing code"}),S.jsxs("p",{children:["When a smart contract is executed, a new instance of the EVM is created, the code to execute is loaded, and the program counter (PC) is set to 0, pointing to the first byte of the code. The EVM will then execute this first instruction and update the PC to point to the next instruction. In many cases, this means incrementing the PC by 1 but, as we explained in the previous section, some instructions will use more bytes from the code. A ",S.jsx("code",{children:"PUSH1"})," instruction will increment the PC by 2."]}),S.jsx("p",{children:"The execution will continue in that way until one of three things happens:"}),S.jsxs("ul",{children:[S.jsx("li",{children:"We reach the end of the code."}),S.jsx("li",{children:"We execute an instruction that stops the execution."}),S.jsx("li",{children:"We run into an error."})]}),S.jsx("h3",{children:"Example 1: PUSH and POP"}),S.jsx("p",{children:"Let's start with an extremely simple program:"}),S.jsx(Vn,{source:`PUSH1 0x2A
POP`}),S.jsx("p",{children:"When this program is executed an EVM instance will be created with that code and an empty stack. Use the controls above to step through the execution."}),S.jsx("p",{children:"In the bytecode view, each instruction is preceded by its byte index in the code. The PC will have that value at the moment of executing it."}),S.jsxs("p",{children:["The execution begins with the first instruction, which pushes"," ",S.jsx("code",{children:"0x2A"})," to the stack. After executing it, the PC will be updated to point to the next instruction. Since ",S.jsx("code",{children:"PUSH1"})," is two bytes long, the PC will be incremented by 2."]}),S.jsxs("p",{children:["The next instruction is ",S.jsx("code",{children:"POP"}),", which removes the top element from the stack."]}),S.jsxs("p",{children:[S.jsx("code",{children:"POP"})," is 1 byte long, so the PC becomes 3. We don't have any instructions at this point: we've reached the end of our program and the execution finishes."]}),S.jsx("h3",{children:"Example 2: ADD"}),S.jsx("p",{children:"Let's look at another example:"}),S.jsx(Vn,{source:`PUSH1 0x08
PUSH1 0x07
ADD`}),S.jsxs("p",{children:["We start by pushing ",S.jsx("code",{children:"8"})," and ",S.jsx("code",{children:"7"})," to the stack. After that, we execute the ",S.jsx("code",{children:"ADD"})," instruction, which takes the two top elements of the stack, adds them, and pushes the result back to the stack. This means that, unlike the previous example, this execution will end up with a non-empty stack (it will have ",S.jsx("code",{children:"0xf"})," on it). But the contents of the stack don't have any effect after the execution finishes."]}),S.jsx("h3",{children:"Example 3: STOP"}),S.jsx("p",{children:"Let's now consider the following program:"}),S.jsx(Vn,{source:`PUSH1 0x08
PUSH1 0x07
STOP
PUSH1 0x06`}),S.jsxs("p",{children:["This example starts like the previous one but, after pushing the first two values to the stack, we execute the ",S.jsx("code",{children:"STOP"})," opcode which, as its name indicates, stops the execution. The opcode that pushes"," ",S.jsx("code",{children:"6"})," to the stack will not be reached. At the end of the execution, the stack will have a ",S.jsx("code",{children:"7"})," at the top, and an"," ",S.jsx("code",{children:"8"})," after that."]}),S.jsx("p",{children:"These three examples illustrate a property of every instruction: they can take some elements of the stack (or not), and they can push some elements to the stack (or not). For example:"}),S.jsxs("ul",{children:[S.jsxs("li",{children:["The ",S.jsx("code",{children:"PUSH1"})," instruction will push a value to the stack, but it will not take anything from it."]}),S.jsxs("li",{children:["The ",S.jsx("code",{children:"POP"})," instruction will take an element from the stack, but it won't push anything to it."]}),S.jsxs("li",{children:["The ",S.jsx("code",{children:"ADD"})," instruction will both take some elements from the stack (the operands of the sum), and push something to it (the result of the sum)."]}),S.jsxs("li",{children:["The ",S.jsx("code",{children:"STOP"})," instruction doesn't take any elements from the stack nor pushes anything to it."]})]}),S.jsx("h2",{children:"Word size"}),S.jsx("p",{children:"One aspect of the EVM that we haven't talked about yet is the word size. The EVM is a 256-bit machine, which means among other things that every element in the stack will be 256 bits long."}),S.jsxs("p",{children:["For example, in the previous scenario we pushed the values"," ",S.jsx("code",{children:"8"})," and ",S.jsx("code",{children:"7"}),". These values are 8-bit long, but they will be padded to 256 bits when pushed to the stack. This means that the value ",S.jsx("code",{children:"8"})," will be represented as"," ",S.jsx("code",{children:"0x0000000000000000000000000000000000000000000000000000000000000008"}),"."]}),S.jsx("p",{children:"In general we won't include the padding in our examples, unless it's important for the explanation."}),S.jsx("h2",{children:"Gas"}),S.jsx("p",{children:"When a program is executed, every instruction consumes some amount of gas. How much gas is consumed depends on many factors, like the instruction itself, the current hardfork, or the world state."}),S.jsx("p",{children:"Let's take a look again at one of the previous examples:"}),S.jsx("pre",{className:"code-block",children:`PUSH1 0x08
PUSH1 0x07
ADD`}),S.jsxs("p",{children:["The gas cost of executing this bytecode will be 9, because both"," ",S.jsx("code",{children:"PUSH1"})," and ",S.jsx("code",{children:"ADD"})," consume 3 units of gas."]}),S.jsx("p",{children:"When an execution starts, it will have a certain amount of gas available. If at any point there isn't enough gas to execute the next instruction, the execution will halt with an out-of-gas error."}),S.jsx("h2",{children:"Exceptional halts"}),S.jsxs("p",{children:["Earlier in this tutorial, we said that an execution can finish in three ways: reaching the end of the code, executing an instruction that stops the execution, or running into an error. The ",S.jsx("code",{children:"STOP"})," opcode is an example of the second case, although there are others. And running out of gas is an example of an error."]}),S.jsxs("p",{children:["When an execution finishes because of an error, we say that it has"," ",S.jsx("em",{children:"exceptionally halted"}),". When this happens, all the changes done during the execution will be reverted and all the remaining gas will be consumed."]}),S.jsx("p",{children:"Another example of an exceptional halt is trying to pop an element from an empty stack."}),S.jsx("h3",{children:"Example 4: Stack underflow"}),S.jsx(Vn,{source:`PUSH0
POP
POP`}),S.jsxs("p",{children:["This program will run into a stack underflow error when trying to execute the second ",S.jsx("code",{children:"POP"})," instruction, because the stack will be empty at that point."]}),S.jsx("h1",{children:"Input data and jumps"}),S.jsx("p",{children:"The example programs we saw so far always do the same thing when they are executed. In this section we'll introduce two new concepts that can make for more interesting programs: input data and jumps."}),S.jsx("h2",{children:"Input data"}),S.jsx("p",{children:"The input data is a read-only buffer that contains the input of the execution. At the Solidity level, the input data is used to specify which contract function will be called and with which arguments. But at the EVM level, the input data is just a byte array that can be used for any purpose."}),S.jsxs("p",{children:["There are three instructions that can be used to access the input data:"," ",S.jsx("code",{children:"CALLDATALOAD"}),", ",S.jsx("code",{children:"CALLDATASIZE"}),", and"," ",S.jsx("code",{children:"CALLDATACOPY"}),". In this section we'll talk about the first two, because ",S.jsx("code",{children:"CALLDATACOPY"})," involves the EVM memory, which we haven't introduced yet."]}),S.jsx("h3",{children:"CALLDATASIZE"}),S.jsxs("p",{children:["The ",S.jsx("code",{children:"CALLDATASIZE"})," instruction is simple: it just pushes the size of the input data onto the stack."]}),S.jsx("h4",{children:"Example 5: CALLDATASIZE"}),S.jsx("p",{children:"This short program checks if the input data is empty:"}),S.jsx(Vn,{source:`PUSH0
CALLDATASIZE
GT`,mode:"call",calldata:"0x1234"}),S.jsxs("p",{children:["Try changing the input data to see how the program behaves. Here we are also introducing the ",S.jsx("code",{children:"GT"})," instruction, which compares the top two stack items and pushes ",S.jsx("code",{children:"1"})," if the first item is greater than the second, and ",S.jsx("code",{children:"0"})," otherwise."]}),S.jsx("h3",{children:"CALLDATALOAD"}),S.jsxs("p",{children:[S.jsx("code",{children:"CALLDATASIZE"})," lets us know the size of the input data, but we also want to read the data itself. The ",S.jsx("code",{children:"CALLDATALOAD"})," ","instruction allows us to do that by loading a 32-byte word from the input data. It takes one argument, which is the offset from the beginning of the input data from where to load the word. If there are less than 32 bytes after that offset, the word will be right-padded with zeros."]}),S.jsx("h4",{children:"Example 6: Load a word from the beginning of the input data"}),S.jsx("p",{children:"This program loads the first word of the input data and pushes it onto the stack:"}),S.jsx(Vn,{source:`PUSH0
CALLDATALOAD`,mode:"call",calldata:"0x1234"}),S.jsxs("p",{children:["If we execute this bytecode with an input data of ",S.jsx("code",{children:"0x1234"}),", the stack will end up with the value"," ",S.jsx("code",{children:"0x1234000000000000000000000000000000000000000000000000000000000000"}),". Since the input data is two bytes long, 30 bytes worth of zeros are added to the end of the word."]}),S.jsx("h4",{children:"Example 7: Load a word with a non-zero offset"}),S.jsx("p",{children:"Now let's see what happens when we load a word using a non-zero offset:"}),S.jsx(Vn,{source:`PUSH1 0x01
CALLDATALOAD`,mode:"call",calldata:"0x1234"}),S.jsxs("p",{children:["If we use the same input data as before (",S.jsx("code",{children:"0x1234"}),"), the stack will end up with the value"," ",S.jsx("code",{children:"0x3400000000000000000000000000000000000000000000000000000000000000"}),". As before, the result is right-padded with zeros."]}),S.jsx("h2",{children:"Jumps"}),S.jsxs("p",{children:["Using the input data we get executions that are more interesting: the involved values will change depending on the input data. But what if we want to ",S.jsx("em",{children:"execute"})," different things depending on the input data? This is where jumps come into play. They allow us to modify the program counter to make the execution jump to a different part of the program. There are three jump-related instructions: ",S.jsx("code",{children:"JUMP"}),","," ",S.jsx("code",{children:"JUMPI"}),", and ",S.jsx("code",{children:"JUMPDEST"}),"."]}),S.jsx("h3",{children:"JUMPI and JUMPDEST"}),S.jsxs("p",{children:["The ",S.jsx("code",{children:"JUMPI"})," instruction can conditionally change the value of the program counter to a position of our choosing. It does this by taking two arguments from the stack: the jump destination and the condition. The jump will be made if the condition is not zero. We can't change the program counter to any value, though; the new location has to correspond to a ",S.jsx("code",{children:"JUMPDEST"})," instruction, which is a marker that tells the EVM that it's a valid jump destination."]}),S.jsx("h4",{children:"Example 8: Read input data if it's not empty"}),S.jsx("p",{children:"This program reads the first word of the input data only if the input data is not empty:"}),S.jsx(Vn,{source:`PUSH0
CALLDATASIZE
GT
PUSH1 0x07
JUMPI
STOP
JUMPDEST
PUSH0
CALLDATALOAD`,mode:"call",calldata:"0x1234"}),S.jsxs("p",{children:["This is the most complex bytecode we've seen so far. The first three instructions check if the input data is empty. If it is, a ",S.jsx("code",{children:"0"})," ","will be pushed onto the stack. Otherwise, a ",S.jsx("code",{children:"1"})," will be pushed. This will be the condition for the ",S.jsx("code",{children:"JUMPI"})," ","instruction. After that we push ",S.jsx("code",{children:"0x07"})," onto the stack, which is the position of the ",S.jsx("code",{children:"JUMPDEST"})," instruction. And then we execute ",S.jsx("code",{children:"JUMPI"}),"."]}),S.jsxs("p",{children:["If the condition is true (that is, non-zero), the program counter will be set to ",S.jsx("code",{children:"0x07"}),", effectively jumping to the"," ",S.jsx("code",{children:"JUMPDEST"})," instruction and executing the rest of the program, which reads the first word of the input data."]}),S.jsxs("p",{children:["If the condition is false (that is, zero), the program will continue executing the next instruction, which is ",S.jsx("code",{children:"STOP"}),"."]}),S.jsx("p",{children:"Try running this program with an empty input data, and then with some data."}),S.jsx("h3",{children:"JUMP"}),S.jsxs("p",{children:["Besides ",S.jsx("code",{children:"JUMPI"}),", there's another jump instruction:"," ",S.jsx("code",{children:"JUMP"}),". This instruction unconditionally changes the program counter to the position specified on the stack. As with"," ",S.jsx("code",{children:"JUMPI"}),", the new position has to correspond to a"," ",S.jsx("code",{children:"JUMPDEST"})," instruction."]}),S.jsx("h4",{children:"Example 9: Unconditional jump"}),S.jsx(Vn,{source:`PUSH1 0x05
JUMP
PUSH1 0x01
JUMPDEST
PUSH1 0x02`}),S.jsxs("p",{children:["We push ",S.jsx("code",{children:"5"})," (the byte offset of the ",S.jsx("code",{children:"JUMPDEST"}),") and execute ",S.jsx("code",{children:"JUMP"}),". The ",S.jsx("code",{children:"PUSH1 0x01"})," instruction is skipped, and execution continues at the ",S.jsx("code",{children:"JUMPDEST"}),"."]}),S.jsx("h3",{children:"Invalid jumps"}),S.jsxs("p",{children:["As we mentioned before, we can only make jumps to positions that have a"," ",S.jsx("code",{children:"JUMPDEST"})," instruction. If we try to jump to a position that doesn't have a ",S.jsx("code",{children:"JUMPDEST"}),", the execution will run into an exceptional halt. As with stack underflows, this will consume all the remaining gas and stop the execution. This also applies to jumps that are out of bounds, that is, jumps that try to go to a position that is beyond the end of the bytecode."]}),S.jsx(Vn,{source:`PUSH1 0x06
JUMP
PUSH1 0x01
JUMPDEST
PUSH1 0x02`})]})}Ny.createRoot(document.getElementById("root")).render(S.jsx(q_,{}));
